{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/landscape/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/style.styl","path":"css/style.styl","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/js/script.js","path":"js/script.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":1,"renderable":1},{"_id":"themes/landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":1,"renderable":1},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","path":"lib/needsharebutton/font-embedded.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","path":"lib/needsharebutton/needsharebutton.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","path":"lib/needsharebutton/needsharebutton.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1}],"Cache":[{"_id":"themes/landscape/Gruntfile.js","hash":"71adaeaac1f3cc56e36c49d549b8d8a72235c9b9","modified":1526541829123},{"_id":"themes/landscape/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1526541829123},{"_id":"themes/landscape/.gitignore","hash":"58d26d4b5f2f94c2d02a4e4a448088e4a2527c77","modified":1526541829159},{"_id":"themes/landscape/_config.yml","hash":"79ac6b9ed6a4de5a21ea53fc3f5a3de92e2475ff","modified":1526541829160},{"_id":"themes/landscape/README.md","hash":"37fae88639ef60d63bd0de22314d7cc4c5d94b07","modified":1526541829159},{"_id":"themes/landscape/package.json","hash":"544f21a0b2c7034998b36ae94dba6e3e0f39f228","modified":1526541829160},{"_id":"source/_posts/hello-world.md","hash":"8a02477044e2b77f1b262da2c48c01429e4a32e4","modified":1526541829122},{"_id":"themes/landscape/languages/de.yml","hash":"3ebf0775abbee928c8d7bda943c191d166ded0d3","modified":1526541829155},{"_id":"themes/landscape/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1526541829154},{"_id":"themes/landscape/languages/es.yml","hash":"76edb1171b86532ef12cfd15f5f2c1ac3949f061","modified":1526541829154},{"_id":"themes/landscape/languages/fr.yml","hash":"415e1c580ced8e4ce20b3b0aeedc3610341c76fb","modified":1526541829156},{"_id":"themes/landscape/languages/ja.yml","hash":"a73e1b9c80fd6e930e2628b393bfe3fb716a21a9","modified":1526541829155},{"_id":"themes/landscape/languages/ko.yml","hash":"881d6a0a101706e0452af81c580218e0bfddd9cf","modified":1526541829154},{"_id":"themes/landscape/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1526541829158},{"_id":"themes/landscape/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1526541829157},{"_id":"themes/landscape/languages/pt.yml","hash":"57d07b75d434fbfc33b0ddb543021cb5f53318a8","modified":1526541829155},{"_id":"themes/landscape/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1526541829156},{"_id":"themes/landscape/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1526541829158},{"_id":"themes/landscape/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1526541829156},{"_id":"themes/landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1526541829125},{"_id":"themes/landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1526541829124},{"_id":"themes/landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1526541829125},{"_id":"themes/landscape/layout/layout.ejs","hash":"f155824ca6130080bb057fa3e868a743c69c4cf5","modified":1526541829126},{"_id":"themes/landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1526541829133},{"_id":"themes/landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1526541829124},{"_id":"themes/landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1526541829126},{"_id":"themes/landscape/scripts/fancybox.js","hash":"aa411cd072399df1ddc8e2181a3204678a5177d9","modified":1526541829161},{"_id":"themes/landscape/layout/_partial/after-footer.ejs","hash":"d0d753d39038284d52b10e5075979cc97db9cd20","modified":1526541829131},{"_id":"themes/landscape/layout/_partial/archive-post.ejs","hash":"c7a71425a946d05414c069ec91811b5c09a92c47","modified":1526541829129},{"_id":"themes/landscape/layout/_partial/archive.ejs","hash":"950ddd91db8718153b329b96dc14439ab8463ba5","modified":1526541829129},{"_id":"themes/landscape/layout/_partial/article.ejs","hash":"c4c835615d96a950d51fa2c3b5d64d0596534fed","modified":1526541829132},{"_id":"themes/landscape/layout/_partial/footer.ejs","hash":"93518893cf91287e797ebac543c560e2a63b8d0e","modified":1526541829131},{"_id":"themes/landscape/layout/_partial/gauges-analytics.ejs","hash":"aad6312ac197d6c5aaf2104ac863d7eba46b772a","modified":1526541829130},{"_id":"themes/landscape/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1526541829129},{"_id":"themes/landscape/layout/_partial/head.ejs","hash":"5abf77aec957d9445fc71a8310252f0013c84578","modified":1526541829130},{"_id":"themes/landscape/layout/_partial/header.ejs","hash":"7e749050be126eadbc42decfbea75124ae430413","modified":1526541829130},{"_id":"themes/landscape/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1526541829131},{"_id":"themes/landscape/layout/_partial/sidebar.ejs","hash":"930da35cc2d447a92e5ee8f835735e6fd2232469","modified":1526541829132},{"_id":"themes/landscape/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1526541829134},{"_id":"themes/landscape/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1526541829134},{"_id":"themes/landscape/layout/_widget/recent_posts.ejs","hash":"0d4f064733f8b9e45c0ce131fe4a689d570c883a","modified":1526541829135},{"_id":"themes/landscape/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1526541829134},{"_id":"themes/landscape/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1526541829133},{"_id":"themes/landscape/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1526541829152},{"_id":"themes/landscape/source/css/_variables.styl","hash":"628e307579ea46b5928424313993f17b8d729e92","modified":1526541829145},{"_id":"themes/landscape/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1526541829139},{"_id":"themes/landscape/source/css/style.styl","hash":"a70d9c44dac348d742702f6ba87e5bb3084d65db","modified":1526541829149},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1526541829140},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1526541829137},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1526541829139},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1526541829136},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1526541829137},{"_id":"themes/landscape/source/js/script.js","hash":"2876e0b19ce557fca38d7c6f49ca55922ab666a1","modified":1526541829153},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1526541829136},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1526541829135},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1526541829137},{"_id":"themes/landscape/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1526541829127},{"_id":"themes/landscape/layout/_partial/post/date.ejs","hash":"6197802873157656e3077c5099a7dda3d3b01c29","modified":1526541829128},{"_id":"themes/landscape/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1526541829128},{"_id":"themes/landscape/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1526541829127},{"_id":"themes/landscape/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1526541829128},{"_id":"themes/landscape/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1526541829127},{"_id":"themes/landscape/source/css/_partial/archive.styl","hash":"db15f5677dc68f1730e82190bab69c24611ca292","modified":1526541829148},{"_id":"themes/landscape/source/css/_partial/article.styl","hash":"10685f8787a79f79c9a26c2f943253450c498e3e","modified":1526541829146},{"_id":"themes/landscape/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1526541829149},{"_id":"themes/landscape/source/css/_partial/footer.styl","hash":"e35a060b8512031048919709a8e7b1ec0e40bc1b","modified":1526541829147},{"_id":"themes/landscape/source/css/_partial/header.styl","hash":"85ab11e082f4dd86dde72bed653d57ec5381f30c","modified":1526541829147},{"_id":"themes/landscape/source/css/_partial/highlight.styl","hash":"bf4e7be1968dad495b04e83c95eac14c4d0ad7c0","modified":1526541829146},{"_id":"themes/landscape/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1526541829148},{"_id":"themes/landscape/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1526541829149},{"_id":"themes/landscape/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1526541829146},{"_id":"themes/landscape/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1526541829147},{"_id":"themes/landscape/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1526541829143},{"_id":"themes/landscape/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1526541829143},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1526541829152},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1526541829151},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1526541829152},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1526541829140},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1526541829142},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1526541829141},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1526541829142},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1526541829141},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1526541829142},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1526541829151},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1526541829150},{"_id":"themes/landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1526541829144},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1514748788000},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1514748788000},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1514748788000},{"_id":"themes/next/.gitignore","hash":"0b5c2ffd41f66eb1849d6426ba8cf9649eeed329","modified":1514748788000},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1514748788000},{"_id":"themes/next/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1514748788000},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1514748788000},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1514748788000},{"_id":"themes/next/.travis.yml","hash":"d60d4a5375fea23d53b2156b764a99b2e56fa660","modified":1514748788000},{"_id":"themes/next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1514748788000},{"_id":"themes/next/README.cn.md","hash":"58ffe752bc4b7f0069fcd6304bbc2d5ff7b80f89","modified":1514748788000},{"_id":"themes/next/README.md","hash":"898213e66d34a46c3cf8446bf693bd50db0d3269","modified":1514748788000},{"_id":"themes/next/bower.json","hash":"0674f11d3d514e087a176da0e1d85c2286aa5fba","modified":1514748788000},{"_id":"themes/next/_config.yml","hash":"5ff37e90e4d6812c8fc40c03fa6e1d903d743470","modified":1514748788000},{"_id":"themes/next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1514748788000},{"_id":"themes/next/package.json","hash":"036d3a1346203d2f1a3958024df7f74e7ac07bfe","modified":1514748788000},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"3b5eafd32abb718e56ccf8d1cee0607ad8ce611d","modified":1514748788000},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"902f627155a65099e0a37842ff396a58d0dc306f","modified":1514748788000},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"352093a1b210c72136687fd2eee649244cee402c","modified":1514748788000},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1514748788000},{"_id":"themes/next/languages/de.yml","hash":"057e7df11ddeb1c8c15a5d7c5ff29430d725ec6b","modified":1514748788000},{"_id":"themes/next/languages/default.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1514748788000},{"_id":"themes/next/languages/en.yml","hash":"7e680d9bb8f3a3a9d1ba1c9d312b3d257183dded","modified":1514748788000},{"_id":"themes/next/languages/fr-FR.yml","hash":"7e4eb7011b8feee641cfb11c6e73180b0ded1c0f","modified":1514748788000},{"_id":"themes/next/languages/id.yml","hash":"b5de1ea66dd9ef54cac9a1440eaa4e3f5fc011f5","modified":1514748788000},{"_id":"themes/next/languages/it.yml","hash":"aa595f2bda029f73ef7bfa104b4c55c3f4e9fb4c","modified":1514748788000},{"_id":"themes/next/languages/ja.yml","hash":"3c76e16fd19b262864475faa6854b718bc08c4d8","modified":1514748788000},{"_id":"themes/next/languages/ko.yml","hash":"ea5b46056e73ebcee121d5551627af35cbffc900","modified":1514748788000},{"_id":"themes/next/languages/nl-NL.yml","hash":"edca4f3598857dbc3cbf19ed412213329b6edd47","modified":1514748788000},{"_id":"themes/next/languages/pt-BR.yml","hash":"b1694ae766ed90277bcc4daca4b1cfa19cdcb72b","modified":1514748788000},{"_id":"themes/next/languages/pt.yml","hash":"44b61f2d085b827b507909a0b8f8ce31c6ef5d04","modified":1514748788000},{"_id":"themes/next/languages/ru.yml","hash":"98ec6f0b7183282e11cffc7ff586ceb82400dd75","modified":1514748788000},{"_id":"themes/next/languages/vi.yml","hash":"fd08d3c8d2c62965a98ac420fdaf95e54c25d97c","modified":1514748788000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"16ef56d0dea94638de7d200984c90ae56f26b4fe","modified":1514748788000},{"_id":"themes/next/languages/zh-hk.yml","hash":"9396f41ae76e4fef99b257c93c7354e661f6e0fa","modified":1514748788000},{"_id":"themes/next/languages/zh-tw.yml","hash":"50b71abb3ecc0686f9739e179e2f829cd074ecd9","modified":1514748788000},{"_id":"themes/next/layout/_layout.swig","hash":"da0929166674ea637e0ad454f85ad0d7bac4aff2","modified":1514748788000},{"_id":"themes/next/layout/archive.swig","hash":"f0a8225feafd971419837cdb4bcfec98a4a59b2f","modified":1514748788000},{"_id":"themes/next/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1514748788000},{"_id":"themes/next/layout/index.swig","hash":"783611349c941848a0e26ee2f1dc44dd14879bd1","modified":1514748788000},{"_id":"themes/next/layout/page.swig","hash":"969caaee05bdea725e99016eb63d810893a73e99","modified":1514748788000},{"_id":"themes/next/layout/post.swig","hash":"b3589a8e46288a10d20e41c7a5985d2493725aec","modified":1514748788000},{"_id":"themes/next/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1514748788000},{"_id":"themes/next/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1514748788000},{"_id":"themes/next/scripts/merge-configs.js","hash":"81e86717ecfb775986b945d17f0a4ba27532ef07","modified":1514748788000},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1514748788000},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1514748788000},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1514748788000},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1514748788000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1514748788000},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1514748788000},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1514748788000},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1514748788000},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"665a928604f99d2ba7dc4a4a9150178229568cc6","modified":1514748788000},{"_id":"themes/next/layout/_macro/post.swig","hash":"446a35a2cd389f8cfc3aa38973a9b44ad0740134","modified":1514748788000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"56e8d8556cf474c56ae1bef9cb7bbd26554adb07","modified":1514748788000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"6a54c3c85ff6b19d275827a327abbf4bd99b2ebf","modified":1514748788000},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"39852700e4084ecccffa6d4669168e5cc0514c9e","modified":1514748788000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"4a6f5b1792b2e5262b7fdab9a716b3108e2f09c7","modified":1514748788000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"c4d6181f5d3db5365e622f78714af8cc58d7a45e","modified":1514748788000},{"_id":"themes/next/layout/_partials/head.swig","hash":"6b94fe8f3279daea5623c49ef4bb35917ba57510","modified":1514748788000},{"_id":"themes/next/layout/_partials/header.swig","hash":"ed042be6252848058c90109236ec988e392d91d4","modified":1514748788000},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1514748788000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1514748788000},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1514748788000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1514748788000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1514748788000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"a266f96ad06ee87bdeae6e105a4b53cd587bbd04","modified":1514748788000},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1514748788000},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1514748788000},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1514748788000},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"5fe0447cc88a5a63b530cf0426f93c4634811876","modified":1514748788000},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1514748788000},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1514748788000},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1514748788000},{"_id":"themes/next/scripts/tags/button.js","hash":"d023f10a00077f47082b0517e2ad666e6e994f60","modified":1514748788000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1514748788000},{"_id":"themes/next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1514748788000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1514748788000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1514748788000},{"_id":"themes/next/scripts/tags/label.js","hash":"2f8f41a7316372f0d1ed6b51190dc4acd3e16fff","modified":1514748788000},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1514748788000},{"_id":"themes/next/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1514748788000},{"_id":"themes/next/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1514748788000},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1514748788000},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1514748788000},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1514748788000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1514748788000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1514748788000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1514748788000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1514748788000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1514748788000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1514748788000},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1514748788000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1514748788000},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1514748788000},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1514748788000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1514748788000},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1514748788000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1514748788000},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1514748788000},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1514748788000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1514748788000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1514748788000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1514748788000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1514748788000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1514748788000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1514748788000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1514748788000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1514748788000},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1514748788000},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1514748788000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1514748788000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1514748788000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1514748788000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1514748788000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1514748788000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1514748788000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"048fd5e98149469f8c28c21ba3561a7a67952c9b","modified":1514748788000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1514748788000},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1514748788000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"1cd01c6e92ab1913d48e556a92bb4f28b6dc4996","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"fc65b9c98a0a8ab43a5e7aabff6c5f03838e09c8","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1514748788000},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1514748788000},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1514748788000},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1514748788000},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1514748788000},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1514748788000},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"10160daceaa6f1ecf632323d422ebe2caae49ddf","modified":1514748788000},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"aa0629277d751c55c6d973e7691bf84af9b17a60","modified":1514748788000},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"8a2e393d2e49f7bf560766d8a07cd461bf3fce4f","modified":1514748788000},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"fcabbb241f894c9a6309c44e126cf3e8fea81fd4","modified":1514748788000},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"8b6650f77fe0a824c8075b2659e0403e0c78a705","modified":1514748788000},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1514748788000},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"385c066af96bee30be2459dbec8aae1f15d382f5","modified":1514748788000},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1514748788000},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1514748788000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1514748788000},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1514748788000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"9ab65361ba0a12a986edd103e56492644c2db0b8","modified":1514748788000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"82f9055955920ed88a2ab6a20ab02169abb2c634","modified":1514748788000},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"99fbb4686ea9a3e03a4726ed7cf4d8f529034452","modified":1514748788000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"be087dcc060e8179f7e7f60ab4feb65817bd3d9f","modified":1514748788000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"f29165e36489a87ba32d17dddfd2720d84e3f3ec","modified":1514748788000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"29c261fa6b4046322559074d75239c6b272fb8a3","modified":1514748788000},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1514748788000},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1514748788000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1514748788000},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1514748788000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1514748788000},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1514748788000},{"_id":"themes/next/source/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1514748788000},{"_id":"themes/next/source/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1514748788000},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1514748788000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1514748788000},{"_id":"themes/next/source/js/src/utils.js","hash":"9b1325801d27213083d1487a12b1a62b539ab6f8","modified":1514748788000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1514748788000},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1514748788000},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1514748788000},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1514748788000},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1514748788000},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1514748788000},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1514748788000},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1514748788000},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1514748788000},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1514748788000},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1514748788000},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1514748788000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1514748788000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1514748788000},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1514748788000},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1514748788000},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1514748788000},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1514748788000},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1514748788000},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1514748788000},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1514748788000},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1514748788000},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1514748788000},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1514748788000},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1514748788000},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1514748788000},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1514748788000},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1514748788000},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1514748788000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"4719ce717962663c5c33ef97b1119a0b3a4ecdc3","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"7e509c7c28c59f905b847304dd3d14d94b6f3b8e","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1514748788000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"f7c44b0ee46cf2cf82a4c9455ba8d8b55299976f","modified":1514748788000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1514748788000},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"47a46583a1f3731157a3f53f80ed1ed5e2753e8e","modified":1514748788000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1514748788000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1514748788000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"18c3336ee3d09bd2da6a876e1336539f03d5a973","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"3b25edfa187d1bbbd0d38b50dd013cef54758abf","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"02fb8fa6b6c252b6bed469539cd057716606a787","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"9d16fa3c14ed76b71229f022b63a02fd0f580958","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1514748788000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1514748788000},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1514748788000},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1514748788000},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1514748788000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1514748788000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1514748788000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1514748788000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1514748788000},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1514748788000},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"7905a7f625702b45645d8be1268cb8af3f698c70","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"25dc25f61a232f03ca72472b7852f882448ec185","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"e72a89e0f421444453e149ba32c77a64bd8e44e8","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"535b3b4f8cb1eec2558e094320e7dfb01f94c0e7","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"aea21141015ca8c409d8b33e3e34ec505f464e93","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"36332c8a91f089f545f3c3e8ea90d08aa4d6e60c","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"d5a4e4fc17f1f7e7c3a61b52d8e2e9677e139de7","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"e4055a0d2cd2b0ad9dc55928e2f3e7bd4e499da3","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"262debfd4442fa03d9919ceb88b948339df03fb0","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"0a6c0efffdf18bddbc1d1238feaed282b09cd0fe","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"12937cae17c96c74d5c58db6cb29de3b2dfa14a2","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"50305b6ad7d09d2ffa4854e39f41ec1f4fe984fd","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"37e951e734a252fe8a81f452b963df2ba90bfe90","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"ee7528900578ef4753effe05b346381c40de5499","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"34935b40237c074be5f5e8818c14ccfd802b7439","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"a5e3e6b4b4b814a9fe40b34d784fed67d6d977fa","modified":1514748788000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"1ccfbd4d0f5754b2dc2719a91245c95f547a7652","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1514748788000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1514748788000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1514748788000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1514748788000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1514748788000},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1514748788000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1514748788000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1514748788000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1514748788000},{"_id":"themes/next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1514748788000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1514748788000},{"_id":"public/2018/05/17/hello-world/index.html","hash":"83a98993d9aeee1c836def2acf8b12f0552b4383","modified":1526542220885},{"_id":"public/index.html","hash":"eb9486dd32c53bcc7c2ff8fcd6028d380304e969","modified":1526542220885},{"_id":"public/archives/index.html","hash":"e860b6ff2c63e74670183f2cc46705ca1b8c8278","modified":1526542220885},{"_id":"public/archives/2018/index.html","hash":"f18fc2a205a5a5308682642c3c130f8834ce0b21","modified":1526542220886},{"_id":"public/archives/2018/05/index.html","hash":"075be852a8997f1852be341032c1dc10bfb4bada","modified":1526542220886},{"_id":"public/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1526542220899},{"_id":"public/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1526542220899},{"_id":"public/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1526542220899},{"_id":"public/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1526542220899},{"_id":"public/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1526542220899},{"_id":"public/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1526542220899},{"_id":"public/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1526542220899},{"_id":"public/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1526542220899},{"_id":"public/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1526542220899},{"_id":"public/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1526542220900},{"_id":"public/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1526542220900},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1526542220900},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1526542220900},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1526542220900},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1526542220900},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1526542220900},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1526542220900},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1526542220900},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1526542220900},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1526542220900},{"_id":"public/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1526542220900},{"_id":"public/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1526542220900},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1526542220900},{"_id":"public/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1526542220900},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1526542220900},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1526542220900},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1526542220900},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1526542220901},{"_id":"public/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1526542220901},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1526542220901},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1526542220901},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1526542220901},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1526542220901},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1526542220901},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1526542220901},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1526542220901},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1526542221832},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1526542221833},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1526542221842},{"_id":"public/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1526542221842},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1526542221842},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1526542221842},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1526542221842},{"_id":"public/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1526542221843},{"_id":"public/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1526542221871},{"_id":"public/js/script.js","hash":"2876e0b19ce557fca38d7c6f49ca55922ab666a1","modified":1526542221872},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1526542221879},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1526542221879},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1526542221879},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1526542221879},{"_id":"public/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1526542221879},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1526542221879},{"_id":"public/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1526542221879},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1526542221879},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1526542221879},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1526542221879},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1526542221879},{"_id":"public/js/src/post-details.js","hash":"a13f45f7aa8291cf7244ec5ba93907d119c5dbdd","modified":1526542221879},{"_id":"public/js/src/motion.js","hash":"754b294394f102c8fd9423a1789ddb1201677898","modified":1526542221879},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1526542221880},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1526542221880},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1526542221880},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1526542221880},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"ff5915eb2596e890a2fc6697c864f861a1995ec0","modified":1526542221880},{"_id":"public/js/src/utils.js","hash":"9b1325801d27213083d1487a12b1a62b539ab6f8","modified":1526542221880},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1526542221880},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1526542221880},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1526542221880},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1526542221880},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1526542221881},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1526542221881},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1526542221881},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1526542221881},{"_id":"public/lib/needsharebutton/needsharebutton.css","hash":"3ef0020a1815ca6151ea4886cd0d37421ae3695c","modified":1526542221881},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1526542221881},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1526542221881},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1526542221881},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1526542221881},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1526542221881},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1526542221881},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1526542221881},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1526542221881},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1526542221882},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1526542221882},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1526542221882},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1526542221882},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1526542221882},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1526542221882},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1526542221882},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1526542221882},{"_id":"public/js/src/schemes/pisces.js","hash":"8050a5b2683d1d77238c5762b6bd89c543daed6e","modified":1526542221882},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1526542221882},{"_id":"public/css/style.css","hash":"5f8dadd37d0052c557061018fe6f568f64fced9b","modified":1526542221882},{"_id":"public/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1526542221882},{"_id":"public/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1526542221882},{"_id":"public/css/main.css","hash":"67508b8038612e358637c04489655c3f40998bc2","modified":1526542221883},{"_id":"public/lib/needsharebutton/font-embedded.css","hash":"c39d37278c1e178838732af21bd26cd0baeddfe0","modified":1526542221883},{"_id":"public/lib/needsharebutton/needsharebutton.js","hash":"9885fd9bea5e7ebafc5b1de9d17be5e106248d96","modified":1526542221883},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1526542221883},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1526542221883},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1526542221883},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1526542221883},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1526542221883},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1526542221883},{"_id":"public/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1526542221883},{"_id":"public/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1526542221883},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1526542221883},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1526542221884},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1526542221884},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1526542221884},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1526542221884},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1526542221890},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1526542221890},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1526542221891},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1526542221891},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1526542221891},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1526542221891},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1526542221891},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1526542221891},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1526542221891},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1526542221891},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1526542221891},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1526542221891},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1526542221891},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1526542221891},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1526542221891},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1526542221892},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1526542221892},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1526542221892},{"_id":"public/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1526542221892},{"_id":"public/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1526542221892},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1526542221903},{"_id":"source/_posts/ASP.NET-Core-Middleware.md","hash":"78a6d19f86be7a873a7d35f0cec2ffa54f6cc3c2","modified":1526544399190},{"_id":"source/_posts/58CityHouseSearch-JS.md","hash":"9368e418ffdf6794655cc1381e84e44d345c4cf1","modified":1526545108739},{"_id":"source/_posts/58CityHouseSearch_move_to_aspnetcore.md","hash":"52e9af746e17670ad19f1eebeb54f1f901c1768b","modified":1526545184703},{"_id":"source/_posts/asp.net core.md","hash":"b57fea964684aa93dc718110c50b421fe7912efb","modified":1526545139771},{"_id":"source/_posts/linux.md","hash":"21ff29b9569d6077408cb7af6cdcb463afedda08","modified":1526544548586},{"_id":"source/_posts/.md","hash":"2d32e9d997c97a9615fa87f3d8553c999289d7c7","modified":1526543994948},{"_id":"source/_posts/Bytes -To-String.md","hash":"6331d5cf46bc6fbdafb669b20f2c651c817c82cb","modified":1526544408410},{"_id":"source/_posts/C#-58CityHouse-Crawler.md","hash":"c4349c138ca4b2bd7ba5fe75dece7d8d6bd81e18","modified":1526544412127},{"_id":"source/_posts/C#-Join.md","hash":"0d101cd0dbf5d273c93ee4c21ae0a9bf68e18b7c","modified":1526544417784},{"_id":"source/_posts/C#-.md","hash":"697c044afa9b87e2d561404be1e17e49e32dfb6a","modified":1526544353579},{"_id":"source/_posts/C#.NET().md","hash":"bad66faca3cf6f64ccf4af3dcb39d217ee1363da","modified":1526544437351},{"_id":"source/_posts/C#-LINQ().md","hash":"e69b73efd33db3e0f6dfec96ae37e0bdd0081c32","modified":1526544421232},{"_id":"source/_posts/C#.md","hash":"83635c8f79cf8de9b14eeb569f89e1d2ef694f34","modified":1526544443010},{"_id":"source/_posts/C#.md","hash":"dedfd10c37f5a9f5f444824a1b2d502128c86485","modified":1526544451066},{"_id":"source/_posts/C#.NET.md","hash":"250350f063eadd2643d92d81e25cdcff181aedbb","modified":1526544430759},{"_id":"source/_posts/auto_rebase_git_repository.md","hash":"ef9a875c1cdf2ee0cd15ec281aed399d78f40410","modified":1526545171267},{"_id":"source/_posts/C#.md","hash":"1a94c57047c4235e24fc348431896d420f3d8ae6","modified":1526543994948},{"_id":"source/_posts/CLR-GC-Handle-Table.md","hash":"09a6b9c7d4ce8468c7d06a95e85bc2dfd65cc1dc","modified":1526544463159},{"_id":"source/_posts/Can't_install_Preview2_on_fresh_VS2015_Update3_Installation.md","hash":"2b1ec0fb27b02ebcaea98857e7290483f270d1a8","modified":1526544454938},{"_id":"source/_posts/CodeSmith-MySQL.md","hash":"42447da71d239715907ab4e1e548372aba0d372f","modified":1526543994948},{"_id":"source/_posts/CodeSmithMySQL .Net Framework Data Provider.md","hash":"094f21d67004e9d1b177d7ee86f1e3715cd4211b","modified":1526544477498},{"_id":"source/_posts/how_to_make_crawler_base_netcore.md","hash":"29fde4f9e4866684f8bc3aeb6a25f56cf0adf203","modified":1526543994948},{"_id":"source/_posts/JexusHTTPS.md","hash":"6234769c7eee49c264cf9e0281a865b5224538f7","modified":1526543994948},{"_id":"source/_posts/ipproy_for_crawler.md","hash":"2f4170454c9844315aecfc032532dc0ac08eff44","modified":1526543994948},{"_id":"source/_posts/javascript_requirejs_rf_code.md","hash":"41854a2518d231e235d76a5926f03a49800a6891","modified":1526543994948},{"_id":"source/_posts/jenkins-dotnetcore.md","hash":"891f956d2381d2612a78a74422f2c1b5f04c264b","modified":1526543994948},{"_id":"source/_posts/mono-webreques-https-exception.md","hash":"6820775e908d29eb45626cf5c6889ce9ae98c6b4","modified":1526544502153},{"_id":"source/_posts/some_script.md","hash":"81d2b32da7ae0fe11a08e0fc3475ddef6e70ad9f","modified":1526543994948},{"_id":"source/_posts/the_first_aspnetcore.md","hash":"d5efcbc7946ab5e84d160d7ed4047f5a956fa88f","modified":1526544534780},{"_id":"source/_posts/ubuntujexusmywebsql.md","hash":"69a68135958334c844bcfe8be816238c50b4a1fb","modified":1526545840571},{"_id":"source/_posts/visualstudio_shortcut_key.md","hash":"1ebe10eca84f4c1b0401a2f4a31f038bcd9b1036","modified":1526545899105},{"_id":"source/_posts/visualstudiocode_for_php_debug.md","hash":"4510fc822de6116f58faebeaf452a4d101ec3c53","modified":1526543994948},{"_id":"source/_posts/webchat_JS_SDK.md","hash":"554ee9cc633bb4bd4035d2f661af91ce5414e5d9","modified":1526544544805}],"Category":[{"name":"dotnet core","_id":"cjha9swh10002fr1whiwm50rk"},{"name":"JavaScript","_id":"cjha9swh70007fr1wlu2gkrvr"},{"name":"asp.net core","_id":"cjha9swh9000bfr1w7rz0eswa"},{"name":"linux","_id":"cjha9swhb000ffr1wpbu7rzh1"},{"name":"memorandum","_id":"cjha9swhc000kfr1wx7odzyay"},{"name":"dotnet","_id":"cjha9u0dh0002gr1wxbdfllrr"},{"name":".net","_id":"cjha9u0dz000jgr1wuwsmx1j8"},{"name":"git","_id":"cjha9u0e0000ngr1wy46r70of"},{"name":"CodeSmith","_id":"cjha9xxso0005ie1wn8dc94mj"},{"name":"MySQL","_id":"cjha9xxsx000aie1wunh49agr"},{"name":"jexus","_id":"cjha9xxt1000fie1w4ixjiy6t"},{"name":"ipproxy","_id":"cjha9xxt3000lie1wmwfilh51"},{"name":"javascript","_id":"cjha9xxt4000qie1wq7ftwlfv"},{"name":"sctripts","_id":"cjha9xxyc0011ie1wdj0o7ivz"},{"name":"ubuntu","_id":"cjha9yrmg0003j21wucj95sm7"},{"name":"Visual Studio","_id":"cjha9yrmt0009j21w97np20dk"}],"Data":[],"Page":[],"Post":[{"layout":"post","title":"ASP.NET Core  Middleware","_content":"\nASP.NET HttpModule/HttpHandlerHttpModule/HttpHandlerHttpModule/HttpHandler\n\n[HttpHandlerHttpModule](http://www.cnblogs.com/fish-li/archive/2013/01/04/2844908.html)\n\nASP.NET CoreASP.NET CoreHttpModule\n\n# Middleware\n\n## Middleware\n\nASP.NET Core HttpModule  MiddlewareASP.NET Core MiddlewareMiddlewareASP.NET Core meddlewareHttpModule\n\nmiddleware\n\n```csharp\n\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env, \n                      ILoggerFactory loggerFactory)\n{\n    loggerFactory.AddConsole(Configuration.GetSection(\"Logging\"));\n    loggerFactory.AddDebug();\n\n    app.UseStaticFiles();\n\n    app.UseMvc(routes =>\n    {\n        routes.MapRoute(\"default\",\n        \"{controller=Home}/{action=Index}/{id?}\");\n    });\n}\n\n```\n\nASP.NET CoreSatarup.csStarup.csConfigure()middleware\n\nmiddleware UseStaticFiles UseMvccoremiddlewareUseStaticFiles HTTP RequestUseMvcMVC routingmiddlewareMVC routing\n\nUseMvcMVC routing http://website/[Controller]/[Action] \n\n### HttpModule\n\nHttpModule/ authorization  HttpModule  Authorization  (AuthorizatRequest)  ASP.NET life cycle  HttpModule  /Middleware\n\n## Middleware \n\n[https://docs.asp.net/en/latest/fundamentals/middleware.html](https://docs.asp.net/en/latest/fundamentals/middleware.html) middlewareasp.net docs\n\nASP.NET runtimemiddleware\n\n![middleware](http://7xread.com1.z0.glb.clouddn.com/0b6d43ad-7d95-48ea-bbf3-ea7a93c4a366)\n\n middleware  Invoke() engine  middleware IncokeMiddleware  Invoke()  Invoke()  middlewareMiddleware  HttpContextHttpModule\n\n\n HTTP request engine  middleware  Invoke()HttpContext middleware  middleware  Invoke() HttpContext middleware  Invoke()  HttpContext  middleware  call stack  middleware  middleware  engine client request.\n\nMiddleware\n\n##  Middleware \n\n```csharp\npublic class SampleMiddleware\n{\n    private readonly RequestDelegate _next;\n\n    public SampleMiddleware(RequestDelegate next)\n    {\n        _next = next;\n    }\n\n    public async Task Invoke(HttpContext context)\n    {\n        if (string.IsNullOrEmpty(context.User.Identity.Name))\n        {\n            context.Response.Redirect(\"/NoName.html\");\n            return;\n        }\n        await _next.Invoke(context);\n    }\n}\n\n```\n\n\nmiddlewareSampleMiddlewareInvokeInvoke()HttpContext\n\n_next RequestDelegatedelegatemiddlewaremiddleware delegatemiddlewaremiddleware\n\n\n Invoke()  await _next.Invoke() middleware await _next.Invoke() \n\n SampleMiddleware  username  NoName.html  middleware \n\nmiddleware ApplicationBuilder\n\n```csharp\n\npublic static partial class MiddlewareExtensions\n{\n    public static IApplicationBuilder UseSampleMiddleware(\n    this IApplicationBuilder builder)\n    {\n        return builder.UseMiddleware<SampleMiddleware>();\n    }\n}\n```\n\nUseSampleMiddleware()ApplicationBuilder  SampleMiddleware\n\nStartup.cs Configure()  SampleMiddleware  pipeline\n\n```csharp\n\npublic void Configure(IApplicationBuilder app,IHostingEnvironment env, \n                      ILoggerFactory loggerFactory)\n{\n    loggerFactory.AddConsole(Configuration.GetSection(\"Logging\"));\n    loggerFactory.AddDebug();\n\n    app.UseStaticFiles();\n\n    app.UseSampleMiddleware();   // <-- SampleMiddleware\n\n    app.UseMvc(routes =>\n    {\n        routes.MapRoute(\"default\",\n        \"{controller=Home}/{action=Index}/{id?}\");\n    });\n}\n\n```\n\n SampleMiddleware  UseStaticFiles  UseMvc  http request  MVC routing  HttpContext  usernameusername dotnet run  Http code 302  http redirect SampleMiddleware  redirect \n\n![http redirect](http://7xread.com1.z0.glb.clouddn.com/1d7e4c87-9fff-4401-8933-36dcbf857199)\n\n## Middleware \n\n middleware  middleware  HttpContext  Configure() :\n\n```csharp\n\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env,\n                       ILoggerFactory loggerFactory)\n{\n    loggerFactory.AddConsole(Configuration.GetSection(\"Logging\"));\n    loggerFactory.AddDebug();\n\n    app.UseSampleMiddleware();   // SampleMiddleware\n\n    app.UseStaticFiles();        // StaticFiles\n\n    app.UseMvc(routes =>\n    {\n        routes.MapRoute(\"default\",\"{controller=Home}/{action=Index}/{id?}\");\n    });\n}\n```\n\nSampleMiddleware StaticFiles  SampleMiddleware  NoName.html\n\n?  ApplicationBuilder  SampleMiddleware NoName.html middleware (StaticFiles)  ApplicationBuilder  NoName.html NoName.html \n\n### Middleware  middleware \n\n## Middleware \n\n ASP.NET Core  middleware  ASP.NET fundamental  function delegate , task, denepdency injection  source code  ASP.NET Core\n\n RequestDelegate,  delegate middleware  delegate.  source code  [RequestDelegate.cs](https://github.com/aspnet/httpabstractions/blob/master/src/Microsoft.AspNet.Http.Abstractions/RequestDelegate.cs)\n\nIApplicationBuilder interface APP middleware souce code  [IApplicationBuilder.cs](https://github.com/aspnet/httpabstractions/blob/master/src/Microsoft.AspNet.Http.Abstractions/IApplicationBuilder.cs)\n\n Use() Use()  middleware delegate  host engine \n\n UseMiddlewareExtensions  builder.UseMiddleware<SampleMiddleware>();  middleware  Invoke()Invoke()Invoke()  HttpContext typemiddleware instance  delegate\n\n ASP.NET Core APP Startup.cs  Configure()  middleware delegate  stack  stack  StaticFiles,   SampleMiddleware  Mvc middleware  stack pop  Mvc  _next  engine  middleware  pop  SampleMiddleware  SampleMiddleware  _next  pop  Mvc middleware host engine  Build()  host engine Run() host engine  \n[WebHostBuilder.cs](https://github.com/aspnet/hosting/blob/master/src/Microsoft.AspNet.Hosting/WebHostBuilder.cs)\n\n\n\n\n[https://dotblogs.com.tw/aspnetshare/2016/03/20/201603191](https://dotblogs.com.tw/aspnetshare/2016/03/20/201603191)","source":"_posts/ASP.NET-Core-Middleware.md","raw":"---\nlayout: post\ntitle: ASP.NET Core  Middleware\ncategory: dotnet core\n---\n\nASP.NET HttpModule/HttpHandlerHttpModule/HttpHandlerHttpModule/HttpHandler\n\n[HttpHandlerHttpModule](http://www.cnblogs.com/fish-li/archive/2013/01/04/2844908.html)\n\nASP.NET CoreASP.NET CoreHttpModule\n\n# Middleware\n\n## Middleware\n\nASP.NET Core HttpModule  MiddlewareASP.NET Core MiddlewareMiddlewareASP.NET Core meddlewareHttpModule\n\nmiddleware\n\n```csharp\n\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env, \n                      ILoggerFactory loggerFactory)\n{\n    loggerFactory.AddConsole(Configuration.GetSection(\"Logging\"));\n    loggerFactory.AddDebug();\n\n    app.UseStaticFiles();\n\n    app.UseMvc(routes =>\n    {\n        routes.MapRoute(\"default\",\n        \"{controller=Home}/{action=Index}/{id?}\");\n    });\n}\n\n```\n\nASP.NET CoreSatarup.csStarup.csConfigure()middleware\n\nmiddleware UseStaticFiles UseMvccoremiddlewareUseStaticFiles HTTP RequestUseMvcMVC routingmiddlewareMVC routing\n\nUseMvcMVC routing http://website/[Controller]/[Action] \n\n### HttpModule\n\nHttpModule/ authorization  HttpModule  Authorization  (AuthorizatRequest)  ASP.NET life cycle  HttpModule  /Middleware\n\n## Middleware \n\n[https://docs.asp.net/en/latest/fundamentals/middleware.html](https://docs.asp.net/en/latest/fundamentals/middleware.html) middlewareasp.net docs\n\nASP.NET runtimemiddleware\n\n![middleware](http://7xread.com1.z0.glb.clouddn.com/0b6d43ad-7d95-48ea-bbf3-ea7a93c4a366)\n\n middleware  Invoke() engine  middleware IncokeMiddleware  Invoke()  Invoke()  middlewareMiddleware  HttpContextHttpModule\n\n\n HTTP request engine  middleware  Invoke()HttpContext middleware  middleware  Invoke() HttpContext middleware  Invoke()  HttpContext  middleware  call stack  middleware  middleware  engine client request.\n\nMiddleware\n\n##  Middleware \n\n```csharp\npublic class SampleMiddleware\n{\n    private readonly RequestDelegate _next;\n\n    public SampleMiddleware(RequestDelegate next)\n    {\n        _next = next;\n    }\n\n    public async Task Invoke(HttpContext context)\n    {\n        if (string.IsNullOrEmpty(context.User.Identity.Name))\n        {\n            context.Response.Redirect(\"/NoName.html\");\n            return;\n        }\n        await _next.Invoke(context);\n    }\n}\n\n```\n\n\nmiddlewareSampleMiddlewareInvokeInvoke()HttpContext\n\n_next RequestDelegatedelegatemiddlewaremiddleware delegatemiddlewaremiddleware\n\n\n Invoke()  await _next.Invoke() middleware await _next.Invoke() \n\n SampleMiddleware  username  NoName.html  middleware \n\nmiddleware ApplicationBuilder\n\n```csharp\n\npublic static partial class MiddlewareExtensions\n{\n    public static IApplicationBuilder UseSampleMiddleware(\n    this IApplicationBuilder builder)\n    {\n        return builder.UseMiddleware<SampleMiddleware>();\n    }\n}\n```\n\nUseSampleMiddleware()ApplicationBuilder  SampleMiddleware\n\nStartup.cs Configure()  SampleMiddleware  pipeline\n\n```csharp\n\npublic void Configure(IApplicationBuilder app,IHostingEnvironment env, \n                      ILoggerFactory loggerFactory)\n{\n    loggerFactory.AddConsole(Configuration.GetSection(\"Logging\"));\n    loggerFactory.AddDebug();\n\n    app.UseStaticFiles();\n\n    app.UseSampleMiddleware();   // <-- SampleMiddleware\n\n    app.UseMvc(routes =>\n    {\n        routes.MapRoute(\"default\",\n        \"{controller=Home}/{action=Index}/{id?}\");\n    });\n}\n\n```\n\n SampleMiddleware  UseStaticFiles  UseMvc  http request  MVC routing  HttpContext  usernameusername dotnet run  Http code 302  http redirect SampleMiddleware  redirect \n\n![http redirect](http://7xread.com1.z0.glb.clouddn.com/1d7e4c87-9fff-4401-8933-36dcbf857199)\n\n## Middleware \n\n middleware  middleware  HttpContext  Configure() :\n\n```csharp\n\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env,\n                       ILoggerFactory loggerFactory)\n{\n    loggerFactory.AddConsole(Configuration.GetSection(\"Logging\"));\n    loggerFactory.AddDebug();\n\n    app.UseSampleMiddleware();   // SampleMiddleware\n\n    app.UseStaticFiles();        // StaticFiles\n\n    app.UseMvc(routes =>\n    {\n        routes.MapRoute(\"default\",\"{controller=Home}/{action=Index}/{id?}\");\n    });\n}\n```\n\nSampleMiddleware StaticFiles  SampleMiddleware  NoName.html\n\n?  ApplicationBuilder  SampleMiddleware NoName.html middleware (StaticFiles)  ApplicationBuilder  NoName.html NoName.html \n\n### Middleware  middleware \n\n## Middleware \n\n ASP.NET Core  middleware  ASP.NET fundamental  function delegate , task, denepdency injection  source code  ASP.NET Core\n\n RequestDelegate,  delegate middleware  delegate.  source code  [RequestDelegate.cs](https://github.com/aspnet/httpabstractions/blob/master/src/Microsoft.AspNet.Http.Abstractions/RequestDelegate.cs)\n\nIApplicationBuilder interface APP middleware souce code  [IApplicationBuilder.cs](https://github.com/aspnet/httpabstractions/blob/master/src/Microsoft.AspNet.Http.Abstractions/IApplicationBuilder.cs)\n\n Use() Use()  middleware delegate  host engine \n\n UseMiddlewareExtensions  builder.UseMiddleware<SampleMiddleware>();  middleware  Invoke()Invoke()Invoke()  HttpContext typemiddleware instance  delegate\n\n ASP.NET Core APP Startup.cs  Configure()  middleware delegate  stack  stack  StaticFiles,   SampleMiddleware  Mvc middleware  stack pop  Mvc  _next  engine  middleware  pop  SampleMiddleware  SampleMiddleware  _next  pop  Mvc middleware host engine  Build()  host engine Run() host engine  \n[WebHostBuilder.cs](https://github.com/aspnet/hosting/blob/master/src/Microsoft.AspNet.Hosting/WebHostBuilder.cs)\n\n\n\n\n[https://dotblogs.com.tw/aspnetshare/2016/03/20/201603191](https://dotblogs.com.tw/aspnetshare/2016/03/20/201603191)","slug":"ASP.NET-Core-Middleware","published":1,"date":"2016-07-08T16:01:12.000Z","updated":"2018-05-17T08:06:39.190Z","comments":1,"photos":[],"link":"","_id":"cjha9swgw0000fr1w98vfk01c","content":"<p>ASP.NET HttpModule/HttpHandlerHttpModule/HttpHandlerHttpModule/HttpHandler</p>\n<p><a href=\"http://www.cnblogs.com/fish-li/archive/2013/01/04/2844908.html\" target=\"_blank\" rel=\"noopener\">HttpHandlerHttpModule</a></p>\n<p>ASP.NET CoreASP.NET CoreHttpModule</p>\n<h1 id=\"Middleware\"><a href=\"#Middleware\" class=\"headerlink\" title=\"Middleware\"></a>Middleware</h1><h2 id=\"Middleware\"><a href=\"#Middleware\" class=\"headerlink\" title=\"Middleware\"></a>Middleware</h2><p>ASP.NET Core HttpModule  MiddlewareASP.NET Core MiddlewareMiddlewareASP.NET Core meddlewareHttpModule</p>\n<p>middleware</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IHostingEnvironment env, </span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                      ILoggerFactory loggerFactory</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    loggerFactory.AddConsole(Configuration.GetSection(<span class=\"string\">\"Logging\"</span>));</span><br><span class=\"line\">    loggerFactory.AddDebug();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseStaticFiles();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseMvc(routes =&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        routes.MapRoute(<span class=\"string\">\"default\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;\"</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ASP.NET CoreSatarup.csStarup.csConfigure()middleware</p>\n<p>middleware UseStaticFiles UseMvccoremiddlewareUseStaticFiles HTTP RequestUseMvcMVC routingmiddlewareMVC routing</p>\n<p>UseMvcMVC routing <a href=\"http://website/[Controller]/[Action]\" target=\"_blank\" rel=\"noopener\">http://website/[Controller]/[Action]</a> </p>\n<h3 id=\"HttpModule\"><a href=\"#HttpModule\" class=\"headerlink\" title=\"HttpModule\"></a>HttpModule</h3><p>HttpModule/ authorization  HttpModule  Authorization  (AuthorizatRequest)  ASP.NET life cycle  HttpModule  /Middleware</p>\n<h2 id=\"Middleware-\"><a href=\"#Middleware-\" class=\"headerlink\" title=\"Middleware \"></a>Middleware </h2><p><a href=\"https://docs.asp.net/en/latest/fundamentals/middleware.html\" target=\"_blank\" rel=\"noopener\">https://docs.asp.net/en/latest/fundamentals/middleware.html</a> middlewareasp.net docs</p>\n<p>ASP.NET runtimemiddleware</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/0b6d43ad-7d95-48ea-bbf3-ea7a93c4a366\" alt=\"middleware\"></p>\n<p> middleware  Invoke() engine  middleware IncokeMiddleware  Invoke()  Invoke()  middlewareMiddleware  HttpContextHttpModule</p>\n<p> HTTP request engine  middleware  Invoke()HttpContext middleware  middleware  Invoke() HttpContext middleware  Invoke()  HttpContext  middleware  call stack  middleware  middleware  engine client request.</p>\n<p>Middleware</p>\n<h2 id=\"-Middleware\"><a href=\"#-Middleware\" class=\"headerlink\" title=\" Middleware\"></a> Middleware</h2><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SampleMiddleware</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> RequestDelegate _next;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SampleMiddleware</span>(<span class=\"params\">RequestDelegate next</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        _next = next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">async</span> Task <span class=\"title\">Invoke</span>(<span class=\"params\">HttpContext context</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(context.User.Identity.Name))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            context.Response.Redirect(<span class=\"string\">\"/NoName.html\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">await</span> _next.Invoke(context);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>middlewareSampleMiddlewareInvokeInvoke()HttpContext</p>\n<p>_next RequestDelegatedelegatemiddlewaremiddleware delegatemiddlewaremiddleware</p>\n<p> Invoke()  await _next.Invoke() middleware await _next.Invoke() </p>\n<p> SampleMiddleware  username  NoName.html  middleware </p>\n<p>middleware ApplicationBuilder</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">partial</span> <span class=\"keyword\">class</span> <span class=\"title\">MiddlewareExtensions</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IApplicationBuilder <span class=\"title\">UseSampleMiddleware</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">    <span class=\"keyword\">this</span> IApplicationBuilder builder</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder.UseMiddleware&lt;SampleMiddleware&gt;();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>UseSampleMiddleware()ApplicationBuilder  SampleMiddleware</p>\n<p>Startup.cs Configure()  SampleMiddleware  pipeline</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app,IHostingEnvironment env, </span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                      ILoggerFactory loggerFactory</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    loggerFactory.AddConsole(Configuration.GetSection(<span class=\"string\">\"Logging\"</span>));</span><br><span class=\"line\">    loggerFactory.AddDebug();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseStaticFiles();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseSampleMiddleware();   <span class=\"comment\">// &lt;-- SampleMiddleware</span></span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseMvc(routes =&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        routes.MapRoute(<span class=\"string\">\"default\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;\"</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> SampleMiddleware  UseStaticFiles  UseMvc  http request  MVC routing  HttpContext  usernameusername dotnet run  Http code 302  http redirect SampleMiddleware  redirect </p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/1d7e4c87-9fff-4401-8933-36dcbf857199\" alt=\"http redirect\"></p>\n<h2 id=\"Middleware-\"><a href=\"#Middleware-\" class=\"headerlink\" title=\"Middleware \"></a>Middleware </h2><p> middleware  middleware  HttpContext  Configure() :</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IHostingEnvironment env,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                       ILoggerFactory loggerFactory</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    loggerFactory.AddConsole(Configuration.GetSection(<span class=\"string\">\"Logging\"</span>));</span><br><span class=\"line\">    loggerFactory.AddDebug();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseSampleMiddleware();   <span class=\"comment\">// SampleMiddleware</span></span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseStaticFiles();        <span class=\"comment\">// StaticFiles</span></span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseMvc(routes =&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        routes.MapRoute(<span class=\"string\">\"default\"</span>,<span class=\"string\">\"&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;\"</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>SampleMiddleware StaticFiles  SampleMiddleware  NoName.html</p>\n<p>?  ApplicationBuilder  SampleMiddleware NoName.html middleware (StaticFiles)  ApplicationBuilder  NoName.html NoName.html </p>\n<h3 id=\"Middleware--middleware-\"><a href=\"#Middleware--middleware-\" class=\"headerlink\" title=\"Middleware  middleware \"></a>Middleware  middleware </h3><h2 id=\"Middleware-\"><a href=\"#Middleware-\" class=\"headerlink\" title=\"Middleware \"></a>Middleware </h2><p> ASP.NET Core  middleware  ASP.NET fundamental  function delegate , task, denepdency injection  source code  ASP.NET Core</p>\n<p> RequestDelegate,  delegate middleware  delegate.  source code  <a href=\"https://github.com/aspnet/httpabstractions/blob/master/src/Microsoft.AspNet.Http.Abstractions/RequestDelegate.cs\" target=\"_blank\" rel=\"noopener\">RequestDelegate.cs</a></p>\n<p>IApplicationBuilder interface APP middleware souce code  <a href=\"https://github.com/aspnet/httpabstractions/blob/master/src/Microsoft.AspNet.Http.Abstractions/IApplicationBuilder.cs\" target=\"_blank\" rel=\"noopener\">IApplicationBuilder.cs</a></p>\n<p> Use() Use()  middleware delegate  host engine </p>\n<p> UseMiddlewareExtensions  builder.UseMiddleware<samplemiddleware>();  middleware  Invoke()Invoke()Invoke()  HttpContext typemiddleware instance  delegate</samplemiddleware></p>\n<p> ASP.NET Core APP Startup.cs  Configure()  middleware delegate  stack  stack  StaticFiles,   SampleMiddleware  Mvc middleware  stack pop  Mvc  _next  engine  middleware  pop  SampleMiddleware  SampleMiddleware  _next  pop  Mvc middleware host engine  Build()  host engine Run() host engine <br><a href=\"https://github.com/aspnet/hosting/blob/master/src/Microsoft.AspNet.Hosting/WebHostBuilder.cs\" target=\"_blank\" rel=\"noopener\">WebHostBuilder.cs</a></p>\n<p></p>\n<p><a href=\"https://dotblogs.com.tw/aspnetshare/2016/03/20/201603191\" target=\"_blank\" rel=\"noopener\">https://dotblogs.com.tw/aspnetshare/2016/03/20/201603191</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>ASP.NET HttpModule/HttpHandlerHttpModule/HttpHandlerHttpModule/HttpHandler</p>\n<p><a href=\"http://www.cnblogs.com/fish-li/archive/2013/01/04/2844908.html\" target=\"_blank\" rel=\"noopener\">HttpHandlerHttpModule</a></p>\n<p>ASP.NET CoreASP.NET CoreHttpModule</p>\n<h1 id=\"Middleware\"><a href=\"#Middleware\" class=\"headerlink\" title=\"Middleware\"></a>Middleware</h1><h2 id=\"Middleware\"><a href=\"#Middleware\" class=\"headerlink\" title=\"Middleware\"></a>Middleware</h2><p>ASP.NET Core HttpModule  MiddlewareASP.NET Core MiddlewareMiddlewareASP.NET Core meddlewareHttpModule</p>\n<p>middleware</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IHostingEnvironment env, </span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                      ILoggerFactory loggerFactory</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    loggerFactory.AddConsole(Configuration.GetSection(<span class=\"string\">\"Logging\"</span>));</span><br><span class=\"line\">    loggerFactory.AddDebug();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseStaticFiles();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseMvc(routes =&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        routes.MapRoute(<span class=\"string\">\"default\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;\"</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ASP.NET CoreSatarup.csStarup.csConfigure()middleware</p>\n<p>middleware UseStaticFiles UseMvccoremiddlewareUseStaticFiles HTTP RequestUseMvcMVC routingmiddlewareMVC routing</p>\n<p>UseMvcMVC routing <a href=\"http://website/[Controller]/[Action]\" target=\"_blank\" rel=\"noopener\">http://website/[Controller]/[Action]</a> </p>\n<h3 id=\"HttpModule\"><a href=\"#HttpModule\" class=\"headerlink\" title=\"HttpModule\"></a>HttpModule</h3><p>HttpModule/ authorization  HttpModule  Authorization  (AuthorizatRequest)  ASP.NET life cycle  HttpModule  /Middleware</p>\n<h2 id=\"Middleware-\"><a href=\"#Middleware-\" class=\"headerlink\" title=\"Middleware \"></a>Middleware </h2><p><a href=\"https://docs.asp.net/en/latest/fundamentals/middleware.html\" target=\"_blank\" rel=\"noopener\">https://docs.asp.net/en/latest/fundamentals/middleware.html</a> middlewareasp.net docs</p>\n<p>ASP.NET runtimemiddleware</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/0b6d43ad-7d95-48ea-bbf3-ea7a93c4a366\" alt=\"middleware\"></p>\n<p> middleware  Invoke() engine  middleware IncokeMiddleware  Invoke()  Invoke()  middlewareMiddleware  HttpContextHttpModule</p>\n<p> HTTP request engine  middleware  Invoke()HttpContext middleware  middleware  Invoke() HttpContext middleware  Invoke()  HttpContext  middleware  call stack  middleware  middleware  engine client request.</p>\n<p>Middleware</p>\n<h2 id=\"-Middleware\"><a href=\"#-Middleware\" class=\"headerlink\" title=\" Middleware\"></a> Middleware</h2><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">SampleMiddleware</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">readonly</span> RequestDelegate _next;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">SampleMiddleware</span>(<span class=\"params\">RequestDelegate next</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        _next = next;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">async</span> Task <span class=\"title\">Invoke</span>(<span class=\"params\">HttpContext context</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(context.User.Identity.Name))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            context.Response.Redirect(<span class=\"string\">\"/NoName.html\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">await</span> _next.Invoke(context);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>middlewareSampleMiddlewareInvokeInvoke()HttpContext</p>\n<p>_next RequestDelegatedelegatemiddlewaremiddleware delegatemiddlewaremiddleware</p>\n<p> Invoke()  await _next.Invoke() middleware await _next.Invoke() </p>\n<p> SampleMiddleware  username  NoName.html  middleware </p>\n<p>middleware ApplicationBuilder</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">partial</span> <span class=\"keyword\">class</span> <span class=\"title\">MiddlewareExtensions</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IApplicationBuilder <span class=\"title\">UseSampleMiddleware</span>(<span class=\"params\"></span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">    <span class=\"keyword\">this</span> IApplicationBuilder builder</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> builder.UseMiddleware&lt;SampleMiddleware&gt;();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>UseSampleMiddleware()ApplicationBuilder  SampleMiddleware</p>\n<p>Startup.cs Configure()  SampleMiddleware  pipeline</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app,IHostingEnvironment env, </span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                      ILoggerFactory loggerFactory</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    loggerFactory.AddConsole(Configuration.GetSection(<span class=\"string\">\"Logging\"</span>));</span><br><span class=\"line\">    loggerFactory.AddDebug();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseStaticFiles();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseSampleMiddleware();   <span class=\"comment\">// &lt;-- SampleMiddleware</span></span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseMvc(routes =&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        routes.MapRoute(<span class=\"string\">\"default\"</span>,</span><br><span class=\"line\">        <span class=\"string\">\"&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;\"</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> SampleMiddleware  UseStaticFiles  UseMvc  http request  MVC routing  HttpContext  usernameusername dotnet run  Http code 302  http redirect SampleMiddleware  redirect </p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/1d7e4c87-9fff-4401-8933-36dcbf857199\" alt=\"http redirect\"></p>\n<h2 id=\"Middleware-\"><a href=\"#Middleware-\" class=\"headerlink\" title=\"Middleware \"></a>Middleware </h2><p> middleware  middleware  HttpContext  Configure() :</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IHostingEnvironment env,</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"params\">                       ILoggerFactory loggerFactory</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    loggerFactory.AddConsole(Configuration.GetSection(<span class=\"string\">\"Logging\"</span>));</span><br><span class=\"line\">    loggerFactory.AddDebug();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseSampleMiddleware();   <span class=\"comment\">// SampleMiddleware</span></span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseStaticFiles();        <span class=\"comment\">// StaticFiles</span></span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseMvc(routes =&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        routes.MapRoute(<span class=\"string\">\"default\"</span>,<span class=\"string\">\"&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;\"</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>SampleMiddleware StaticFiles  SampleMiddleware  NoName.html</p>\n<p>?  ApplicationBuilder  SampleMiddleware NoName.html middleware (StaticFiles)  ApplicationBuilder  NoName.html NoName.html </p>\n<h3 id=\"Middleware--middleware-\"><a href=\"#Middleware--middleware-\" class=\"headerlink\" title=\"Middleware  middleware \"></a>Middleware  middleware </h3><h2 id=\"Middleware-\"><a href=\"#Middleware-\" class=\"headerlink\" title=\"Middleware \"></a>Middleware </h2><p> ASP.NET Core  middleware  ASP.NET fundamental  function delegate , task, denepdency injection  source code  ASP.NET Core</p>\n<p> RequestDelegate,  delegate middleware  delegate.  source code  <a href=\"https://github.com/aspnet/httpabstractions/blob/master/src/Microsoft.AspNet.Http.Abstractions/RequestDelegate.cs\" target=\"_blank\" rel=\"noopener\">RequestDelegate.cs</a></p>\n<p>IApplicationBuilder interface APP middleware souce code  <a href=\"https://github.com/aspnet/httpabstractions/blob/master/src/Microsoft.AspNet.Http.Abstractions/IApplicationBuilder.cs\" target=\"_blank\" rel=\"noopener\">IApplicationBuilder.cs</a></p>\n<p> Use() Use()  middleware delegate  host engine </p>\n<p> UseMiddlewareExtensions  builder.UseMiddleware<samplemiddleware>();  middleware  Invoke()Invoke()Invoke()  HttpContext typemiddleware instance  delegate</samplemiddleware></p>\n<p> ASP.NET Core APP Startup.cs  Configure()  middleware delegate  stack  stack  StaticFiles,   SampleMiddleware  Mvc middleware  stack pop  Mvc  _next  engine  middleware  pop  SampleMiddleware  SampleMiddleware  _next  pop  Mvc middleware host engine  Build()  host engine Run() host engine <br><a href=\"https://github.com/aspnet/hosting/blob/master/src/Microsoft.AspNet.Hosting/WebHostBuilder.cs\" target=\"_blank\" rel=\"noopener\">WebHostBuilder.cs</a></p>\n<p></p>\n<p><a href=\"https://dotblogs.com.tw/aspnetshare/2016/03/20/201603191\" target=\"_blank\" rel=\"noopener\">https://dotblogs.com.tw/aspnetshare/2016/03/20/201603191</a></p>\n"},{"layout":"post","title":"58JS","_content":"# 58JS\n\n[58](http://codelover.link:8080/)\n\nGithub[https://github.com/liguobao/58HouseSearch](https://github.com/liguobao/58HouseSearch)\n\n()[API+Python(.NET)](https://zhuanlan.zhihu.com/p/21960329)\n\n\n\n\n\n1. IPIP\n2. \n3. 585858\n4. \n\nAPI\n\n## JavaScript API mapmap\n\nmap Amap\n\n```javascript\nmap = new AMap.Map(\"container\", {\n        resizeEnable: true,\n        zoomEnable: true,\n        center: [121.297428, 31.1345],//\n        zoom: 11\n    });\n\n```\n\n## IP\nMap.CitySearch()IP\n\n```JavaScript\nfunction showCityInfo(map) {\n    //\n    var citysearch = new AMap.CitySearch();\n    //IP\n    citysearch.getLocalCity(function (status, result) {\n        if (status === 'complete' && result.info === 'OK') {\n            if (result && result.city && result.bounds) {\n                var cityinfo = result.city;//XX\n                var citybounds = result.bounds;//\n                cityName = cityinfo.substring(0, cityinfo.length - 1);//\n                ConvertCityCNNameToShortCut();//58->sh,->su,\n                                              //\n\n                document.getElementById('IPLocation').innerHTML = '' + cityName;\n                //\n                map.setBounds(citybounds);\n            }\n        } else {\n            document.getElementById('IPLocation').innerHTML = result.info;\n        }\n    });\n}\n\n```\n\n## \n\n\n\nAPI...\n\n```JavaScript\nfunction MapMoveToLocationCity()\n{\n    map.on('moveend', getCity);\n    function getCity() {\n        map.getCity(function (data) {\n            if (data['province'] && typeof data['province'] === 'string') {\n\n                var cityinfo = (data['city'] || data['province']);\n                cityName = cityinfo.substring(0, cityinfo.length - 1);\n                ConvertCityCNNameToShortCut();//58\n\n                document.getElementById('IPLocation').innerHTML = '' + cityName;\n\n            }\n        });\n    }\n}\n```\n\nmapgetCity\n\ncityprovince\n\nprovince\n\n## 58\n\n()bug\n\n58 =sh=gz=bj=cd\n\nJS\n\n=gz=gz\n=sn=sn\n=hz=hz\n\n\n\n5858\n[58](http://www.58.com/changecity.aspx?PGTID=0d100000-0007-a77b-4c4b-a28f725b8f5a&ClickID=1)\n\n![123](http://7xread.com1.z0.glb.clouddn.com/c01c293a-d5cc-4f58-80dc-13aa05d47b01)\n\n\n\njson\n\n\n\n```JavaScript\n\n//json\n$.getJSON(\"DomainJS/city.json\", function (data)\n{\n      allCityInfo = data;\n});\n\n\nfunction ConvertCityCNNameToShortCut()\n{\n    var filterarray = $.grep(allCityInfo, function (obj) {\n        return obj.cityName == cityName;\n    });//json\n    //json\n    cityNameCNPY = filterarray instanceof Array ? \n    filterarray[0].shortCut : filterarray != null ? filterarray.shortCut : \"\";\n}\n\n```\n\n## \n\n```html\n  <div class=\"control-input\">\n       <input id=\"work-location\" type=\"text\" style=\"width:60%\">\n  </div>\n```\n\n```JavaScript\n var auto = new AMap.Autocomplete({\n        input: \"work-location\"\n    });\n\n    AMap.event.addListener(auto, \"select\", workLocationSelected);\n```\n\nIDwork-locationinputAmap\nworkLocationSelected\n\n![2233](http://7xread.com1.z0.glb.clouddn.com/fe425992-e7c4-4cae-800e-319eff3b17e8)\n\nlocationSelected\n\n```js\nfunction workLocationSelected(e) {\n    workAddress = e.poi.name;\n    loadWorkLocation();\n}\n\nfunction loadWorkLocation() {\n    delWorkLocation();\n    var geocoder = new AMap.Geocoder({\n        city: cityName,\n        radius: 1000\n    });\n\n    geocoder.getLocation(workAddress, function (status, result) {\n        if (status === \"complete\" && result.info === 'OK') {\n            var geocode = result.geocodes[0];\n            x = geocode.location.getLng();\n            y = geocode.location.getLat();\n            loadWorkMarker(x, y);\n            loadWorkRange(x, y, 60, \"#3f67a5\", vehicle);\n            map.setZoomAndCenter(12, [x, y]);\n        }\n    })\n}\n\n```\n\n...\n\n\n\n### \n\n![123](http://7xread.com1.z0.glb.clouddn.com/e7900aba-5a56-417c-9dd9-63527583e84b)\n\n### \n\n![333](http://7xread.com1.z0.glb.clouddn.com/c9947d97-1b76-42bf-82b3-aca817e84e13)\n\n### \n\n![233](http://7xread.com1.z0.glb.clouddn.com/941809ae-aa37-4a3b-89c7-10646cc7e3e7)\n\n### \n\n![233](http://7xread.com1.z0.glb.clouddn.com/86712397-27ec-4b37-bbf8-81191e530ef6)\n","source":"_posts/58CityHouseSearch-JS.md","raw":"---\nlayout: post\ntitle: 58JS\ncategory: JavaScript\n---\n# 58JS\n\n[58](http://codelover.link:8080/)\n\nGithub[https://github.com/liguobao/58HouseSearch](https://github.com/liguobao/58HouseSearch)\n\n()[API+Python(.NET)](https://zhuanlan.zhihu.com/p/21960329)\n\n\n\n\n\n1. IPIP\n2. \n3. 585858\n4. \n\nAPI\n\n## JavaScript API mapmap\n\nmap Amap\n\n```javascript\nmap = new AMap.Map(\"container\", {\n        resizeEnable: true,\n        zoomEnable: true,\n        center: [121.297428, 31.1345],//\n        zoom: 11\n    });\n\n```\n\n## IP\nMap.CitySearch()IP\n\n```JavaScript\nfunction showCityInfo(map) {\n    //\n    var citysearch = new AMap.CitySearch();\n    //IP\n    citysearch.getLocalCity(function (status, result) {\n        if (status === 'complete' && result.info === 'OK') {\n            if (result && result.city && result.bounds) {\n                var cityinfo = result.city;//XX\n                var citybounds = result.bounds;//\n                cityName = cityinfo.substring(0, cityinfo.length - 1);//\n                ConvertCityCNNameToShortCut();//58->sh,->su,\n                                              //\n\n                document.getElementById('IPLocation').innerHTML = '' + cityName;\n                //\n                map.setBounds(citybounds);\n            }\n        } else {\n            document.getElementById('IPLocation').innerHTML = result.info;\n        }\n    });\n}\n\n```\n\n## \n\n\n\nAPI...\n\n```JavaScript\nfunction MapMoveToLocationCity()\n{\n    map.on('moveend', getCity);\n    function getCity() {\n        map.getCity(function (data) {\n            if (data['province'] && typeof data['province'] === 'string') {\n\n                var cityinfo = (data['city'] || data['province']);\n                cityName = cityinfo.substring(0, cityinfo.length - 1);\n                ConvertCityCNNameToShortCut();//58\n\n                document.getElementById('IPLocation').innerHTML = '' + cityName;\n\n            }\n        });\n    }\n}\n```\n\nmapgetCity\n\ncityprovince\n\nprovince\n\n## 58\n\n()bug\n\n58 =sh=gz=bj=cd\n\nJS\n\n=gz=gz\n=sn=sn\n=hz=hz\n\n\n\n5858\n[58](http://www.58.com/changecity.aspx?PGTID=0d100000-0007-a77b-4c4b-a28f725b8f5a&ClickID=1)\n\n![123](http://7xread.com1.z0.glb.clouddn.com/c01c293a-d5cc-4f58-80dc-13aa05d47b01)\n\n\n\njson\n\n\n\n```JavaScript\n\n//json\n$.getJSON(\"DomainJS/city.json\", function (data)\n{\n      allCityInfo = data;\n});\n\n\nfunction ConvertCityCNNameToShortCut()\n{\n    var filterarray = $.grep(allCityInfo, function (obj) {\n        return obj.cityName == cityName;\n    });//json\n    //json\n    cityNameCNPY = filterarray instanceof Array ? \n    filterarray[0].shortCut : filterarray != null ? filterarray.shortCut : \"\";\n}\n\n```\n\n## \n\n```html\n  <div class=\"control-input\">\n       <input id=\"work-location\" type=\"text\" style=\"width:60%\">\n  </div>\n```\n\n```JavaScript\n var auto = new AMap.Autocomplete({\n        input: \"work-location\"\n    });\n\n    AMap.event.addListener(auto, \"select\", workLocationSelected);\n```\n\nIDwork-locationinputAmap\nworkLocationSelected\n\n![2233](http://7xread.com1.z0.glb.clouddn.com/fe425992-e7c4-4cae-800e-319eff3b17e8)\n\nlocationSelected\n\n```js\nfunction workLocationSelected(e) {\n    workAddress = e.poi.name;\n    loadWorkLocation();\n}\n\nfunction loadWorkLocation() {\n    delWorkLocation();\n    var geocoder = new AMap.Geocoder({\n        city: cityName,\n        radius: 1000\n    });\n\n    geocoder.getLocation(workAddress, function (status, result) {\n        if (status === \"complete\" && result.info === 'OK') {\n            var geocode = result.geocodes[0];\n            x = geocode.location.getLng();\n            y = geocode.location.getLat();\n            loadWorkMarker(x, y);\n            loadWorkRange(x, y, 60, \"#3f67a5\", vehicle);\n            map.setZoomAndCenter(12, [x, y]);\n        }\n    })\n}\n\n```\n\n...\n\n\n\n### \n\n![123](http://7xread.com1.z0.glb.clouddn.com/e7900aba-5a56-417c-9dd9-63527583e84b)\n\n### \n\n![333](http://7xread.com1.z0.glb.clouddn.com/c9947d97-1b76-42bf-82b3-aca817e84e13)\n\n### \n\n![233](http://7xread.com1.z0.glb.clouddn.com/941809ae-aa37-4a3b-89c7-10646cc7e3e7)\n\n### \n\n![233](http://7xread.com1.z0.glb.clouddn.com/86712397-27ec-4b37-bbf8-81191e530ef6)\n","slug":"58CityHouseSearch-JS","published":1,"date":"2016-08-13T06:45:44.000Z","updated":"2018-05-17T08:18:28.739Z","comments":1,"photos":[],"link":"","_id":"cjha9swgz0001fr1wnvx5bsjv","content":"<h1 id=\"58JS\"><a href=\"#58JS\" class=\"headerlink\" title=\"58JS\"></a>58JS</h1><p><a href=\"http://codelover.link:8080/\" target=\"_blank\" rel=\"noopener\">58</a></p>\n<p>Github<a href=\"https://github.com/liguobao/58HouseSearch\" target=\"_blank\" rel=\"noopener\">https://github.com/liguobao/58HouseSearch</a></p>\n<p>()<a href=\"https://zhuanlan.zhihu.com/p/21960329\" target=\"_blank\" rel=\"noopener\">API+Python(.NET)</a></p>\n<p></p>\n<p></p>\n<ol>\n<li>IPIP</li>\n<li></li>\n<li>585858</li>\n<li></li>\n</ol>\n<p>API</p>\n<h2 id=\"JavaScript-API-mapmap\"><a href=\"#JavaScript-API-mapmap\" class=\"headerlink\" title=\"JavaScript API mapmap\"></a>JavaScript API mapmap</h2><p>map Amap</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map = <span class=\"keyword\">new</span> AMap.Map(<span class=\"string\">\"container\"</span>, &#123;</span><br><span class=\"line\">        resizeEnable: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        zoomEnable: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        center: [<span class=\"number\">121.297428</span>, <span class=\"number\">31.1345</span>],<span class=\"comment\">//</span></span><br><span class=\"line\">        zoom: <span class=\"number\">11</span></span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h2><p>Map.CitySearch()IP</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">showCityInfo</span>(<span class=\"params\">map</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> citysearch = <span class=\"keyword\">new</span> AMap.CitySearch();</span><br><span class=\"line\">    <span class=\"comment\">//IP</span></span><br><span class=\"line\">    citysearch.getLocalCity(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">status, result</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (status === <span class=\"string\">'complete'</span> &amp;&amp; result.info === <span class=\"string\">'OK'</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (result &amp;&amp; result.city &amp;&amp; result.bounds) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> cityinfo = result.city;<span class=\"comment\">//XX</span></span><br><span class=\"line\">                <span class=\"keyword\">var</span> citybounds = result.bounds;<span class=\"comment\">//</span></span><br><span class=\"line\">                cityName = cityinfo.substring(<span class=\"number\">0</span>, cityinfo.length - <span class=\"number\">1</span>);<span class=\"comment\">//</span></span><br><span class=\"line\">                ConvertCityCNNameToShortCut();<span class=\"comment\">//58-&gt;sh,-&gt;su,</span></span><br><span class=\"line\">                                              <span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'IPLocation'</span>).innerHTML = <span class=\"string\">''</span> + cityName;</span><br><span class=\"line\">                <span class=\"comment\">//</span></span><br><span class=\"line\">                map.setBounds(citybounds);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'IPLocation'</span>).innerHTML = result.info;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br>API</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MapMoveToLocationCity</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    map.on(<span class=\"string\">'moveend'</span>, getCity);</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCity</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        map.getCity(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (data[<span class=\"string\">'province'</span>] &amp;&amp; <span class=\"keyword\">typeof</span> data[<span class=\"string\">'province'</span>] === <span class=\"string\">'string'</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">var</span> cityinfo = (data[<span class=\"string\">'city'</span>] || data[<span class=\"string\">'province'</span>]);</span><br><span class=\"line\">                cityName = cityinfo.substring(<span class=\"number\">0</span>, cityinfo.length - <span class=\"number\">1</span>);</span><br><span class=\"line\">                ConvertCityCNNameToShortCut();<span class=\"comment\">//58</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'IPLocation'</span>).innerHTML = <span class=\"string\">''</span> + cityName;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>mapgetCity</p>\n<p>cityprovince</p>\n<p>province</p>\n<h2 id=\"58\"><a href=\"#58\" class=\"headerlink\" title=\"58\"></a>58</h2><p>()bug</p>\n<p>58 =sh=gz=bj=cd</p>\n<p>JS</p>\n<p>=gz=gz<br>=sn=sn<br>=hz=hz</p>\n<p></p>\n<p>5858<br><a href=\"http://www.58.com/changecity.aspx?PGTID=0d100000-0007-a77b-4c4b-a28f725b8f5a&amp;ClickID=1\" target=\"_blank\" rel=\"noopener\">58</a></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/c01c293a-d5cc-4f58-80dc-13aa05d47b01\" alt=\"123\"></p>\n<p></p>\n<p>json</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//json</span></span><br><span class=\"line\">$.getJSON(<span class=\"string\">\"DomainJS/city.json\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">      allCityInfo = data;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ConvertCityCNNameToShortCut</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> filterarray = $.grep(allCityInfo, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">obj</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> obj.cityName == cityName;</span><br><span class=\"line\">    &#125;);<span class=\"comment\">//json</span></span><br><span class=\"line\">    <span class=\"comment\">//json</span></span><br><span class=\"line\">    cityNameCNPY = filterarray <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span> ? </span><br><span class=\"line\">    filterarray[<span class=\"number\">0</span>].shortCut : filterarray != <span class=\"literal\">null</span> ? filterarray.shortCut : <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"control-input\"</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">\"work-location\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width:60%\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> auto = <span class=\"keyword\">new</span> AMap.Autocomplete(&#123;</span><br><span class=\"line\">       input: <span class=\"string\">\"work-location\"</span></span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">   AMap.event.addListener(auto, <span class=\"string\">\"select\"</span>, workLocationSelected);</span><br></pre></td></tr></table></figure>\n<p>IDwork-locationinputAmap<br>workLocationSelected</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/fe425992-e7c4-4cae-800e-319eff3b17e8\" alt=\"2233\"></p>\n<p>locationSelected</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">workLocationSelected</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">    workAddress = e.poi.name;</span><br><span class=\"line\">    loadWorkLocation();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">loadWorkLocation</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    delWorkLocation();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> geocoder = <span class=\"keyword\">new</span> AMap.Geocoder(&#123;</span><br><span class=\"line\">        city: cityName,</span><br><span class=\"line\">        radius: <span class=\"number\">1000</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    geocoder.getLocation(workAddress, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">status, result</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (status === <span class=\"string\">\"complete\"</span> &amp;&amp; result.info === <span class=\"string\">'OK'</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> geocode = result.geocodes[<span class=\"number\">0</span>];</span><br><span class=\"line\">            x = geocode.location.getLng();</span><br><span class=\"line\">            y = geocode.location.getLat();</span><br><span class=\"line\">            loadWorkMarker(x, y);</span><br><span class=\"line\">            loadWorkRange(x, y, <span class=\"number\">60</span>, <span class=\"string\">\"#3f67a5\"</span>, vehicle);</span><br><span class=\"line\">            map.setZoomAndCenter(<span class=\"number\">12</span>, [x, y]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://7xread.com1.z0.glb.clouddn.com/e7900aba-5a56-417c-9dd9-63527583e84b\" alt=\"123\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://7xread.com1.z0.glb.clouddn.com/c9947d97-1b76-42bf-82b3-aca817e84e13\" alt=\"333\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://7xread.com1.z0.glb.clouddn.com/941809ae-aa37-4a3b-89c7-10646cc7e3e7\" alt=\"233\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://7xread.com1.z0.glb.clouddn.com/86712397-27ec-4b37-bbf8-81191e530ef6\" alt=\"233\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"58JS\"><a href=\"#58JS\" class=\"headerlink\" title=\"58JS\"></a>58JS</h1><p><a href=\"http://codelover.link:8080/\" target=\"_blank\" rel=\"noopener\">58</a></p>\n<p>Github<a href=\"https://github.com/liguobao/58HouseSearch\" target=\"_blank\" rel=\"noopener\">https://github.com/liguobao/58HouseSearch</a></p>\n<p>()<a href=\"https://zhuanlan.zhihu.com/p/21960329\" target=\"_blank\" rel=\"noopener\">API+Python(.NET)</a></p>\n<p></p>\n<p></p>\n<ol>\n<li>IPIP</li>\n<li></li>\n<li>585858</li>\n<li></li>\n</ol>\n<p>API</p>\n<h2 id=\"JavaScript-API-mapmap\"><a href=\"#JavaScript-API-mapmap\" class=\"headerlink\" title=\"JavaScript API mapmap\"></a>JavaScript API mapmap</h2><p>map Amap</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">map = <span class=\"keyword\">new</span> AMap.Map(<span class=\"string\">\"container\"</span>, &#123;</span><br><span class=\"line\">        resizeEnable: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        zoomEnable: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        center: [<span class=\"number\">121.297428</span>, <span class=\"number\">31.1345</span>],<span class=\"comment\">//</span></span><br><span class=\"line\">        zoom: <span class=\"number\">11</span></span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n<h2 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h2><p>Map.CitySearch()IP</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">showCityInfo</span>(<span class=\"params\">map</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> citysearch = <span class=\"keyword\">new</span> AMap.CitySearch();</span><br><span class=\"line\">    <span class=\"comment\">//IP</span></span><br><span class=\"line\">    citysearch.getLocalCity(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">status, result</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (status === <span class=\"string\">'complete'</span> &amp;&amp; result.info === <span class=\"string\">'OK'</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (result &amp;&amp; result.city &amp;&amp; result.bounds) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> cityinfo = result.city;<span class=\"comment\">//XX</span></span><br><span class=\"line\">                <span class=\"keyword\">var</span> citybounds = result.bounds;<span class=\"comment\">//</span></span><br><span class=\"line\">                cityName = cityinfo.substring(<span class=\"number\">0</span>, cityinfo.length - <span class=\"number\">1</span>);<span class=\"comment\">//</span></span><br><span class=\"line\">                ConvertCityCNNameToShortCut();<span class=\"comment\">//58-&gt;sh,-&gt;su,</span></span><br><span class=\"line\">                                              <span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'IPLocation'</span>).innerHTML = <span class=\"string\">''</span> + cityName;</span><br><span class=\"line\">                <span class=\"comment\">//</span></span><br><span class=\"line\">                map.setBounds(citybounds);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'IPLocation'</span>).innerHTML = result.info;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br>API</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">MapMoveToLocationCity</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    map.on(<span class=\"string\">'moveend'</span>, getCity);</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getCity</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        map.getCity(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>) </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (data[<span class=\"string\">'province'</span>] &amp;&amp; <span class=\"keyword\">typeof</span> data[<span class=\"string\">'province'</span>] === <span class=\"string\">'string'</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">var</span> cityinfo = (data[<span class=\"string\">'city'</span>] || data[<span class=\"string\">'province'</span>]);</span><br><span class=\"line\">                cityName = cityinfo.substring(<span class=\"number\">0</span>, cityinfo.length - <span class=\"number\">1</span>);</span><br><span class=\"line\">                ConvertCityCNNameToShortCut();<span class=\"comment\">//58</span></span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'IPLocation'</span>).innerHTML = <span class=\"string\">''</span> + cityName;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>mapgetCity</p>\n<p>cityprovince</p>\n<p>province</p>\n<h2 id=\"58\"><a href=\"#58\" class=\"headerlink\" title=\"58\"></a>58</h2><p>()bug</p>\n<p>58 =sh=gz=bj=cd</p>\n<p>JS</p>\n<p>=gz=gz<br>=sn=sn<br>=hz=hz</p>\n<p></p>\n<p>5858<br><a href=\"http://www.58.com/changecity.aspx?PGTID=0d100000-0007-a77b-4c4b-a28f725b8f5a&amp;ClickID=1\" target=\"_blank\" rel=\"noopener\">58</a></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/c01c293a-d5cc-4f58-80dc-13aa05d47b01\" alt=\"123\"></p>\n<p></p>\n<p>json</p>\n<p></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//json</span></span><br><span class=\"line\">$.getJSON(<span class=\"string\">\"DomainJS/city.json\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">data</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">      allCityInfo = data;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">ConvertCityCNNameToShortCut</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> filterarray = $.grep(allCityInfo, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">obj</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> obj.cityName == cityName;</span><br><span class=\"line\">    &#125;);<span class=\"comment\">//json</span></span><br><span class=\"line\">    <span class=\"comment\">//json</span></span><br><span class=\"line\">    cityNameCNPY = filterarray <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Array</span> ? </span><br><span class=\"line\">    filterarray[<span class=\"number\">0</span>].shortCut : filterarray != <span class=\"literal\">null</span> ? filterarray.shortCut : <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"control-input\"</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">\"work-location\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"width:60%\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> auto = <span class=\"keyword\">new</span> AMap.Autocomplete(&#123;</span><br><span class=\"line\">       input: <span class=\"string\">\"work-location\"</span></span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">   AMap.event.addListener(auto, <span class=\"string\">\"select\"</span>, workLocationSelected);</span><br></pre></td></tr></table></figure>\n<p>IDwork-locationinputAmap<br>workLocationSelected</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/fe425992-e7c4-4cae-800e-319eff3b17e8\" alt=\"2233\"></p>\n<p>locationSelected</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">workLocationSelected</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">    workAddress = e.poi.name;</span><br><span class=\"line\">    loadWorkLocation();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">loadWorkLocation</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    delWorkLocation();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> geocoder = <span class=\"keyword\">new</span> AMap.Geocoder(&#123;</span><br><span class=\"line\">        city: cityName,</span><br><span class=\"line\">        radius: <span class=\"number\">1000</span></span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    geocoder.getLocation(workAddress, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">status, result</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (status === <span class=\"string\">\"complete\"</span> &amp;&amp; result.info === <span class=\"string\">'OK'</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> geocode = result.geocodes[<span class=\"number\">0</span>];</span><br><span class=\"line\">            x = geocode.location.getLng();</span><br><span class=\"line\">            y = geocode.location.getLat();</span><br><span class=\"line\">            loadWorkMarker(x, y);</span><br><span class=\"line\">            loadWorkRange(x, y, <span class=\"number\">60</span>, <span class=\"string\">\"#3f67a5\"</span>, vehicle);</span><br><span class=\"line\">            map.setZoomAndCenter(<span class=\"number\">12</span>, [x, y]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://7xread.com1.z0.glb.clouddn.com/e7900aba-5a56-417c-9dd9-63527583e84b\" alt=\"123\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://7xread.com1.z0.glb.clouddn.com/c9947d97-1b76-42bf-82b3-aca817e84e13\" alt=\"333\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://7xread.com1.z0.glb.clouddn.com/941809ae-aa37-4a3b-89c7-10646cc7e3e7\" alt=\"233\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><img src=\"http://7xread.com1.z0.glb.clouddn.com/86712397-27ec-4b37-bbf8-81191e530ef6\" alt=\"233\"></p>\n"},{"layout":"post","title":"58HouseSearchasp.net core","date":"2016-10-03T16:00:00.000Z","_content":"# 58HouseSearchasp.net core\n\n[58HouseSearch](https://github.com/liguobao/58HouseSearch)ASP.NET MVC 4Windows+VS2015linux+mono+jexus\n\n\n\n...\n\n## \n\n.NET CORE.NET\n\nWindows APICOM\n\n## \n\n\n\n- ,\n\n- Windows APICOM\n\n    \n\n    API\n\n58HouseSearch\n\n\n:\n\n- [AngleSharp](https://github.com/FlorianRappl/AngleSharp)\n\n- [Newtonsoft.Json](http://www.newtonsoft.com/json)\n\n- [log4net](http://logging.apache.org/log4net/)\n\nAngleSharpHTMLlinqHTML\n\n.net core\n...\n\n![AngleSharp](http://7xread.com1.z0.glb.clouddn.com/1a950803-3d38-4b16-9761-6c9cd806b0b9)\n\n\nNewtonsoft.Json\n\nPVnuget.net core\n\nlog4net...log4net\nPS:Nloglog4net\n\nWindows API...\n\n\n### \n\n- [Visual Studio Community 2015 with Update 3  Free](https://www.visualstudio.com/downloads/)\n- [.NET Core SDK](https://www.microsoft.com/net/download)\n- [.NET Core](https://www.microsoft.com/net/download)\n- [.NET Core 1.0.1 - VS 2015 Tooling Preview 2](https://go.microsoft.com/fwlink/?LinkId=827546)\n\n\n\n1. Visual Studio Community 2015 with Update 3 \n\n\n![](http://7xread.com1.z0.glb.clouddn.com/1e723e08-b3d5-4dab-b4a6-1de70799c4c8)\n\n\n\n![-1](http://7xread.com1.z0.glb.clouddn.com/706771d8-d3f2-4122-a61d-5e961887121a)\n\n![-2](http://7xread.com1.z0.glb.clouddn.com/455ec5cc-b429-4563-a4fb-3a0c18608969)\n\n2. .NET Core SDK.NET Core.NET Core 1.0.1 - VS 2015 Tooling Preview 2\n\n3. .NET Core 1.0.1 - VS 2015 Tooling Preview 2 0x80072f8a\n\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/47c517d1-4b48-4088-be4a-a0768413e768)\n\n[DotNetCore.1.0.1-VS2015Tools.Preview2.0.20x80072f8a](http://www.cnblogs.com/JiaoWoWeiZai/p/5892255.html)\n\nVS2O15-ASP.NET CORE\n![ASP.NET CORE](http://7xread.com1.z0.glb.clouddn.com/3364e7c9-a41e-47f2-8d08-60345e4efa35)\n\n### \n\n#### ASP.NET CORE\n\n\n\n![ASP.NET CORE](http://7xread.com1.z0.glb.clouddn.com/e047d81d-56f1-4e51-9d72-7989e1fc6225)\n\n#### Nuget\n\nhttps://www.nuget.org/packages/AngleSharp/\n\nhttps://www.nuget.org/packages/Newtonsoft.Json\n\n#### Controllers\nControllers\n\n#### Views\nViews\n\n#### \nasp.net core MVCasp.net mvc\n\nasp.net core MVCviewIMG/Little/PaleGreen.png/webroot/IMG/Little/PaleGreen.png\n\nasp.net mvc/IMG/Little/PaleGreen.png\n\nwebroot\n\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/2fee156b-2505-4953-bfe9-1d2521f13565)\n\n\n\n### \n\n#### Startup.csMVC\n\n```C#\n    public class Startup\n    {\n        // This method gets called by the runtime. Use this method to add services to the container.\n        // For more information on how to configure your application, visit http://go.microsoft.com/fwlink/?LinkID=398940\n        public void ConfigureServices(IServiceCollection services)\n        {\n            //MVC\n            services.AddMvc();\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env,\n        ILoggerFactory loggerFactory)\n        {\n            loggerFactory.AddConsole();\n\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n            //\n            app.UseStaticFiles();\n            //MVC\n            app.UseMvcWithDefaultRoute();\n            //\n            app.UseMvc(routes =>\n            {\n                routes.MapRoute(\n                    name: \"default\",\n                    template: \"{controller=House}/{action=Index}/{id?}\"); \n            });\n        }\n    }\n\n```\n\n#### GetHTMLByURL\n\n\n\n![old GetHTMLByURL](http://7xread.com1.z0.glb.clouddn.com/d005a100-e3e6-423b-b34c-3eae11b2ab63)\n\n.net coreHttpWebRequestWebRequest,\n\n\n\n```C#\n        public static string GetHTMLByURL(string Url, string type = \"UTF-8\")\n        {\n            try\n            {\n                Url = Url.ToLower();\n\n                System.Net.WebRequest wReq = System.Net.WebRequest.Create(Url);\n                // Get the response instance.\n                System.Net.WebResponse wResp = wReq.GetResponseAsync().Result;\n                System.IO.Stream respStream = wResp.GetResponseStream();\n                using (System.IO.StreamReader reader = new System.IO.\n                StreamReader(respStream, Encoding.GetEncoding(type)))\n                {\n                    return reader.ReadToEnd();\n                }\n            }\n            catch (System.Exception ex)\n            {\n\n                return string.Empty;\n            }\n\n        }\n```\n\n#### Controller\n\n...\n\n### ubuntu\n\n[Install for Ubuntu 14.04, 16.04 & Linux Mint 17](https://www.microsoft.com/net/core#ubuntu)\n\n\n\n```sh\n//Ubuntu 14.04 / Linux Mint 17\nsudo sh -c 'echo \"deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ trusty main\" > /etc/apt/sources.list.d/dotnetdev.list'\nsudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893\nsudo apt-get update\n\n\n//Ubuntu 16.04\nsudo sh -c 'echo \"deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ xenial main\" > /etc/apt/sources.list.d/dotnetdev.list'\nsudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893\nsudo apt-get update\n\n```\n\n\n\n```sh\nsudo apt-get install dotnet-dev-1.0.0-preview2-003131\n```\n\n dotnet -v \n\n![dotnet -v ](http://7xread.com1.z0.glb.clouddn.com/6ebca12e-2be9-487e-b230-d22562a5aabe)\n\nubuntu asp.net core\n\n### project.json\n\n#### dependencies\n\nNET Core 1.0.1 - VS 2015 Tooling Preview 2asp.net core ubuntu asp.net core \n\nubuntu.NET Core 1.0.0\n\n.NET Core 1.0.1:\n\n![.NET Core 1.0.1](http://7xread.com1.z0.glb.clouddn.com/a3192bdf-f548-4fad-868a-4865632acd29)\n\nubuntuasp.net core\n\n.NET Core 1.0.1 ubuntu.NET Core 1.0.0.\n\nMicrosoft.NETCore.App version Microsoft.AspNetCore.Server.KestrelMicrosoft.AspNetCore.Mvc 1.0.0\n\n```json\n  \"dependencies\": {\n    \"Microsoft.NETCore.App\": {\n      \"version\": \"1.0.1\",\n      \"type\": \"platform\"\n    },\n    \"Microsoft.AspNetCore.Diagnostics\": \"1.0.0\",\n    \"Microsoft.AspNetCore.Server.IISIntegration\": \"1.0.0\",\n    \"Microsoft.AspNetCore.Server.Kestrel\": \"1.0.1\",\n    \"Microsoft.Extensions.Logging.Console\": \"1.0.0\",\n    \"Microsoft.AspNetCore.Mvc\": \"1.0.1\",\n    \"Microsoft.AspNetCore.StaticFiles\": \"1.0.0\",\n    \"Newtonsoft.Json\": \"9.0.1\",\n    \"AngleSharp\": \"0.9.8.1\"\n  },\n\n```\n\n#### publishOptions\n\nViews\n\n```sh\n  \"publishOptions\": {\n    \"include\": [\n      \"wwwroot\",\n      \"web.config\",\n      \"Views\"\n    ]\n  },\n```\n\n#### runtimes\n\nruntimes \n[https://docs.nuget.org/ndocs/schema/project.json](https://docs.nuget.org/ndocs/schema/project.json)\n\n```json\n  \"runtimes\": { \"ubuntu.14.04-x64\": {} }\n```\n\n,\n\n```sh\ndotnet restore\n\ndotnet run\n```\n\n\n\n![log](http://7xread.com1.z0.glb.clouddn.com/b1191226-c33b-45c7-98cc-f62bb3ea73b4)\n\n\n### jexus/\n\n[ASP.NET Core \",\" jexus](http://www.cnblogs.com/gaobing/p/5663012.html)\n\n","source":"_posts/58CityHouseSearch_move_to_aspnetcore.md","raw":"---\nlayout: post\ntitle: 58HouseSearchasp.net core\ncategory: asp.net core\ndate: 2016-10-04\ntags:\n- asp.net core\n- 58City\n- \n---\n# 58HouseSearchasp.net core\n\n[58HouseSearch](https://github.com/liguobao/58HouseSearch)ASP.NET MVC 4Windows+VS2015linux+mono+jexus\n\n\n\n...\n\n## \n\n.NET CORE.NET\n\nWindows APICOM\n\n## \n\n\n\n- ,\n\n- Windows APICOM\n\n    \n\n    API\n\n58HouseSearch\n\n\n:\n\n- [AngleSharp](https://github.com/FlorianRappl/AngleSharp)\n\n- [Newtonsoft.Json](http://www.newtonsoft.com/json)\n\n- [log4net](http://logging.apache.org/log4net/)\n\nAngleSharpHTMLlinqHTML\n\n.net core\n...\n\n![AngleSharp](http://7xread.com1.z0.glb.clouddn.com/1a950803-3d38-4b16-9761-6c9cd806b0b9)\n\n\nNewtonsoft.Json\n\nPVnuget.net core\n\nlog4net...log4net\nPS:Nloglog4net\n\nWindows API...\n\n\n### \n\n- [Visual Studio Community 2015 with Update 3  Free](https://www.visualstudio.com/downloads/)\n- [.NET Core SDK](https://www.microsoft.com/net/download)\n- [.NET Core](https://www.microsoft.com/net/download)\n- [.NET Core 1.0.1 - VS 2015 Tooling Preview 2](https://go.microsoft.com/fwlink/?LinkId=827546)\n\n\n\n1. Visual Studio Community 2015 with Update 3 \n\n\n![](http://7xread.com1.z0.glb.clouddn.com/1e723e08-b3d5-4dab-b4a6-1de70799c4c8)\n\n\n\n![-1](http://7xread.com1.z0.glb.clouddn.com/706771d8-d3f2-4122-a61d-5e961887121a)\n\n![-2](http://7xread.com1.z0.glb.clouddn.com/455ec5cc-b429-4563-a4fb-3a0c18608969)\n\n2. .NET Core SDK.NET Core.NET Core 1.0.1 - VS 2015 Tooling Preview 2\n\n3. .NET Core 1.0.1 - VS 2015 Tooling Preview 2 0x80072f8a\n\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/47c517d1-4b48-4088-be4a-a0768413e768)\n\n[DotNetCore.1.0.1-VS2015Tools.Preview2.0.20x80072f8a](http://www.cnblogs.com/JiaoWoWeiZai/p/5892255.html)\n\nVS2O15-ASP.NET CORE\n![ASP.NET CORE](http://7xread.com1.z0.glb.clouddn.com/3364e7c9-a41e-47f2-8d08-60345e4efa35)\n\n### \n\n#### ASP.NET CORE\n\n\n\n![ASP.NET CORE](http://7xread.com1.z0.glb.clouddn.com/e047d81d-56f1-4e51-9d72-7989e1fc6225)\n\n#### Nuget\n\nhttps://www.nuget.org/packages/AngleSharp/\n\nhttps://www.nuget.org/packages/Newtonsoft.Json\n\n#### Controllers\nControllers\n\n#### Views\nViews\n\n#### \nasp.net core MVCasp.net mvc\n\nasp.net core MVCviewIMG/Little/PaleGreen.png/webroot/IMG/Little/PaleGreen.png\n\nasp.net mvc/IMG/Little/PaleGreen.png\n\nwebroot\n\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/2fee156b-2505-4953-bfe9-1d2521f13565)\n\n\n\n### \n\n#### Startup.csMVC\n\n```C#\n    public class Startup\n    {\n        // This method gets called by the runtime. Use this method to add services to the container.\n        // For more information on how to configure your application, visit http://go.microsoft.com/fwlink/?LinkID=398940\n        public void ConfigureServices(IServiceCollection services)\n        {\n            //MVC\n            services.AddMvc();\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env,\n        ILoggerFactory loggerFactory)\n        {\n            loggerFactory.AddConsole();\n\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n            //\n            app.UseStaticFiles();\n            //MVC\n            app.UseMvcWithDefaultRoute();\n            //\n            app.UseMvc(routes =>\n            {\n                routes.MapRoute(\n                    name: \"default\",\n                    template: \"{controller=House}/{action=Index}/{id?}\"); \n            });\n        }\n    }\n\n```\n\n#### GetHTMLByURL\n\n\n\n![old GetHTMLByURL](http://7xread.com1.z0.glb.clouddn.com/d005a100-e3e6-423b-b34c-3eae11b2ab63)\n\n.net coreHttpWebRequestWebRequest,\n\n\n\n```C#\n        public static string GetHTMLByURL(string Url, string type = \"UTF-8\")\n        {\n            try\n            {\n                Url = Url.ToLower();\n\n                System.Net.WebRequest wReq = System.Net.WebRequest.Create(Url);\n                // Get the response instance.\n                System.Net.WebResponse wResp = wReq.GetResponseAsync().Result;\n                System.IO.Stream respStream = wResp.GetResponseStream();\n                using (System.IO.StreamReader reader = new System.IO.\n                StreamReader(respStream, Encoding.GetEncoding(type)))\n                {\n                    return reader.ReadToEnd();\n                }\n            }\n            catch (System.Exception ex)\n            {\n\n                return string.Empty;\n            }\n\n        }\n```\n\n#### Controller\n\n...\n\n### ubuntu\n\n[Install for Ubuntu 14.04, 16.04 & Linux Mint 17](https://www.microsoft.com/net/core#ubuntu)\n\n\n\n```sh\n//Ubuntu 14.04 / Linux Mint 17\nsudo sh -c 'echo \"deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ trusty main\" > /etc/apt/sources.list.d/dotnetdev.list'\nsudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893\nsudo apt-get update\n\n\n//Ubuntu 16.04\nsudo sh -c 'echo \"deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ xenial main\" > /etc/apt/sources.list.d/dotnetdev.list'\nsudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893\nsudo apt-get update\n\n```\n\n\n\n```sh\nsudo apt-get install dotnet-dev-1.0.0-preview2-003131\n```\n\n dotnet -v \n\n![dotnet -v ](http://7xread.com1.z0.glb.clouddn.com/6ebca12e-2be9-487e-b230-d22562a5aabe)\n\nubuntu asp.net core\n\n### project.json\n\n#### dependencies\n\nNET Core 1.0.1 - VS 2015 Tooling Preview 2asp.net core ubuntu asp.net core \n\nubuntu.NET Core 1.0.0\n\n.NET Core 1.0.1:\n\n![.NET Core 1.0.1](http://7xread.com1.z0.glb.clouddn.com/a3192bdf-f548-4fad-868a-4865632acd29)\n\nubuntuasp.net core\n\n.NET Core 1.0.1 ubuntu.NET Core 1.0.0.\n\nMicrosoft.NETCore.App version Microsoft.AspNetCore.Server.KestrelMicrosoft.AspNetCore.Mvc 1.0.0\n\n```json\n  \"dependencies\": {\n    \"Microsoft.NETCore.App\": {\n      \"version\": \"1.0.1\",\n      \"type\": \"platform\"\n    },\n    \"Microsoft.AspNetCore.Diagnostics\": \"1.0.0\",\n    \"Microsoft.AspNetCore.Server.IISIntegration\": \"1.0.0\",\n    \"Microsoft.AspNetCore.Server.Kestrel\": \"1.0.1\",\n    \"Microsoft.Extensions.Logging.Console\": \"1.0.0\",\n    \"Microsoft.AspNetCore.Mvc\": \"1.0.1\",\n    \"Microsoft.AspNetCore.StaticFiles\": \"1.0.0\",\n    \"Newtonsoft.Json\": \"9.0.1\",\n    \"AngleSharp\": \"0.9.8.1\"\n  },\n\n```\n\n#### publishOptions\n\nViews\n\n```sh\n  \"publishOptions\": {\n    \"include\": [\n      \"wwwroot\",\n      \"web.config\",\n      \"Views\"\n    ]\n  },\n```\n\n#### runtimes\n\nruntimes \n[https://docs.nuget.org/ndocs/schema/project.json](https://docs.nuget.org/ndocs/schema/project.json)\n\n```json\n  \"runtimes\": { \"ubuntu.14.04-x64\": {} }\n```\n\n,\n\n```sh\ndotnet restore\n\ndotnet run\n```\n\n\n\n![log](http://7xread.com1.z0.glb.clouddn.com/b1191226-c33b-45c7-98cc-f62bb3ea73b4)\n\n\n### jexus/\n\n[ASP.NET Core \",\" jexus](http://www.cnblogs.com/gaobing/p/5663012.html)\n\n","slug":"58CityHouseSearch_move_to_aspnetcore","published":1,"updated":"2018-05-17T08:19:44.703Z","comments":1,"photos":[],"link":"","_id":"cjha9swh30003fr1wm85vq4yp","content":"<h1 id=\"58HouseSearchasp-net-core\"><a href=\"#58HouseSearchasp-net-core\" class=\"headerlink\" title=\"58HouseSearchasp.net core\"></a>58HouseSearchasp.net core</h1><p><a href=\"https://github.com/liguobao/58HouseSearch\" target=\"_blank\" rel=\"noopener\">58HouseSearch</a>ASP.NET MVC 4Windows+VS2015linux+mono+jexus</p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>.NET CORE.NET</p>\n<p>Windows APICOM</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li><p>,</p>\n</li>\n<li><p>Windows APICOM</p>\n<p>  </p>\n<p>  API</p>\n</li>\n</ul>\n<p>58HouseSearch</p>\n<p><br>:</p>\n<ul>\n<li><p><a href=\"https://github.com/FlorianRappl/AngleSharp\" target=\"_blank\" rel=\"noopener\">AngleSharp</a></p>\n</li>\n<li><p><a href=\"http://www.newtonsoft.com/json\" target=\"_blank\" rel=\"noopener\">Newtonsoft.Json</a></p>\n</li>\n<li><p><a href=\"http://logging.apache.org/log4net/\" target=\"_blank\" rel=\"noopener\">log4net</a></p>\n</li>\n</ul>\n<p>AngleSharpHTMLlinqHTML</p>\n<p>.net core<br></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/1a950803-3d38-4b16-9761-6c9cd806b0b9\" alt=\"AngleSharp\"></p>\n<p>Newtonsoft.Json</p>\n<p>PVnuget.net core</p>\n<p>log4netlog4net<br>PS:Nloglog4net</p>\n<p>Windows API</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><a href=\"https://www.visualstudio.com/downloads/\" target=\"_blank\" rel=\"noopener\">Visual Studio Community 2015 with Update 3  Free</a></li>\n<li><a href=\"https://www.microsoft.com/net/download\" target=\"_blank\" rel=\"noopener\">.NET Core SDK</a></li>\n<li><a href=\"https://www.microsoft.com/net/download\" target=\"_blank\" rel=\"noopener\">.NET Core</a></li>\n<li><a href=\"https://go.microsoft.com/fwlink/?LinkId=827546\" target=\"_blank\" rel=\"noopener\">.NET Core 1.0.1 - VS 2015 Tooling Preview 2</a></li>\n</ul>\n<p></p>\n<ol>\n<li>Visual Studio Community 2015 with Update 3 </li>\n</ol>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/1e723e08-b3d5-4dab-b4a6-1de70799c4c8\" alt=\"\"></p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/706771d8-d3f2-4122-a61d-5e961887121a\" alt=\"-1\"></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/455ec5cc-b429-4563-a4fb-3a0c18608969\" alt=\"-2\"></p>\n<ol start=\"2\">\n<li><p>.NET Core SDK.NET Core.NET Core 1.0.1 - VS 2015 Tooling Preview 2</p>\n</li>\n<li><p>.NET Core 1.0.1 - VS 2015 Tooling Preview 2 0x80072f8a</p>\n</li>\n</ol>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/47c517d1-4b48-4088-be4a-a0768413e768\" alt=\"\"></p>\n<p><a href=\"http://www.cnblogs.com/JiaoWoWeiZai/p/5892255.html\" target=\"_blank\" rel=\"noopener\">DotNetCore.1.0.1-VS2015Tools.Preview2.0.20x80072f8a</a></p>\n<p>VS2O15-ASP.NET CORE<br><img src=\"http://7xread.com1.z0.glb.clouddn.com/3364e7c9-a41e-47f2-8d08-60345e4efa35\" alt=\"ASP.NET CORE\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"ASP-NET-CORE\"><a href=\"#ASP-NET-CORE\" class=\"headerlink\" title=\"ASP.NET CORE\"></a>ASP.NET CORE</h4><p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/e047d81d-56f1-4e51-9d72-7989e1fc6225\" alt=\"ASP.NET CORE\"></p>\n<h4 id=\"Nuget\"><a href=\"#Nuget\" class=\"headerlink\" title=\"Nuget\"></a>Nuget</h4><p><a href=\"https://www.nuget.org/packages/AngleSharp/\" target=\"_blank\" rel=\"noopener\">https://www.nuget.org/packages/AngleSharp/</a></p>\n<p><a href=\"https://www.nuget.org/packages/Newtonsoft.Json\" target=\"_blank\" rel=\"noopener\">https://www.nuget.org/packages/Newtonsoft.Json</a></p>\n<h4 id=\"Controllers\"><a href=\"#Controllers\" class=\"headerlink\" title=\"Controllers\"></a>Controllers</h4><p>Controllers</p>\n<h4 id=\"Views\"><a href=\"#Views\" class=\"headerlink\" title=\"Views\"></a>Views</h4><p>Views</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>asp.net core MVCasp.net mvc</p>\n<p>asp.net core MVCviewIMG/Little/PaleGreen.png/webroot/IMG/Little/PaleGreen.png</p>\n<p>asp.net mvc/IMG/Little/PaleGreen.png</p>\n<p>webroot</p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/2fee156b-2505-4953-bfe9-1d2521f13565\" alt=\"\"></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"Startup-csMVC\"><a href=\"#Startup-csMVC\" class=\"headerlink\" title=\"Startup.csMVC\"></a>Startup.csMVC</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Startup</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    // This method gets called by the runtime. Use this method to add services to the container.</span><br><span class=\"line\">    // For more information on how to configure your application, visit http://go.microsoft.com/fwlink/?LinkID=398940</span><br><span class=\"line\">    public void ConfigureServices(IServiceCollection services)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        //MVC</span><br><span class=\"line\">        services.AddMvc();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.</span><br><span class=\"line\">    public void Configure(IApplicationBuilder app, IHostingEnvironment env,</span><br><span class=\"line\">    ILoggerFactory loggerFactory)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        loggerFactory.AddConsole();</span><br><span class=\"line\"></span><br><span class=\"line\">        if (env.IsDevelopment())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            app.UseDeveloperExceptionPage();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        //</span><br><span class=\"line\">        app.UseStaticFiles();</span><br><span class=\"line\">        //MVC</span><br><span class=\"line\">        app.UseMvcWithDefaultRoute();</span><br><span class=\"line\">        //</span><br><span class=\"line\">        app.UseMvc(routes =&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            routes.MapRoute(</span><br><span class=\"line\">                name: &quot;default&quot;,</span><br><span class=\"line\">                template: &quot;&#123;controller=House&#125;/&#123;action=Index&#125;/&#123;id?&#125;&quot;); </span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"GetHTMLByURL\"><a href=\"#GetHTMLByURL\" class=\"headerlink\" title=\"GetHTMLByURL\"></a>GetHTMLByURL</h4><p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/d005a100-e3e6-423b-b34c-3eae11b2ab63\" alt=\"old GetHTMLByURL\"></p>\n<p>.net coreHttpWebRequestWebRequest,</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static string GetHTMLByURL(string Url, string type = &quot;UTF-8&quot;)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    try</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Url = Url.ToLower();</span><br><span class=\"line\"></span><br><span class=\"line\">        System.Net.WebRequest wReq = System.Net.WebRequest.Create(Url);</span><br><span class=\"line\">        // Get the response instance.</span><br><span class=\"line\">        System.Net.WebResponse wResp = wReq.GetResponseAsync().Result;</span><br><span class=\"line\">        System.IO.Stream respStream = wResp.GetResponseStream();</span><br><span class=\"line\">        using (System.IO.StreamReader reader = new System.IO.</span><br><span class=\"line\">        StreamReader(respStream, Encoding.GetEncoding(type)))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            return reader.ReadToEnd();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    catch (System.Exception ex)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        return string.Empty;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"Controller\"><a href=\"#Controller\" class=\"headerlink\" title=\"Controller\"></a>Controller</h4><p></p>\n<h3 id=\"ubuntu\"><a href=\"#ubuntu\" class=\"headerlink\" title=\"ubuntu\"></a>ubuntu</h3><p><a href=\"https://www.microsoft.com/net/core#ubuntu\" target=\"_blank\" rel=\"noopener\">Install for Ubuntu 14.04, 16.04 &amp; Linux Mint 17</a></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Ubuntu 14.04 / Linux Mint 17</span><br><span class=\"line\">sudo sh -c <span class=\"string\">'echo \"deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ trusty main\" &gt; /etc/apt/sources.list.d/dotnetdev.list'</span></span><br><span class=\"line\">sudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">//Ubuntu 16.04</span><br><span class=\"line\">sudo sh -c <span class=\"string\">'echo \"deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ xenial main\" &gt; /etc/apt/sources.list.d/dotnetdev.list'</span></span><br><span class=\"line\">sudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893</span><br><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install dotnet-dev-1.0.0-preview2-003131</span><br></pre></td></tr></table></figure>\n<p> dotnet -v </p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/6ebca12e-2be9-487e-b230-d22562a5aabe\" alt=\"dotnet -v \"></p>\n<p>ubuntu asp.net core</p>\n<h3 id=\"project-json\"><a href=\"#project-json\" class=\"headerlink\" title=\"project.json\"></a>project.json</h3><h4 id=\"dependencies\"><a href=\"#dependencies\" class=\"headerlink\" title=\"dependencies\"></a>dependencies</h4><p>NET Core 1.0.1 - VS 2015 Tooling Preview 2asp.net core ubuntu asp.net core </p>\n<p>ubuntu.NET Core 1.0.0</p>\n<p>.NET Core 1.0.1:</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/a3192bdf-f548-4fad-868a-4865632acd29\" alt=\".NET Core 1.0.1\"></p>\n<p>ubuntuasp.net core</p>\n<p>.NET Core 1.0.1 ubuntu.NET Core 1.0.0.</p>\n<p>Microsoft.NETCore.App version Microsoft.AspNetCore.Server.KestrelMicrosoft.AspNetCore.Mvc 1.0.0</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"dependencies\": &#123;</span><br><span class=\"line\">  \"Microsoft.NETCore.App\": &#123;</span><br><span class=\"line\">    \"version\": \"1.0.1\",</span><br><span class=\"line\">    \"type\": \"platform\"</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  \"Microsoft.AspNetCore.Diagnostics\": \"1.0.0\",</span><br><span class=\"line\">  \"Microsoft.AspNetCore.Server.IISIntegration\": \"1.0.0\",</span><br><span class=\"line\">  \"Microsoft.AspNetCore.Server.Kestrel\": \"1.0.1\",</span><br><span class=\"line\">  \"Microsoft.Extensions.Logging.Console\": \"1.0.0\",</span><br><span class=\"line\">  \"Microsoft.AspNetCore.Mvc\": \"1.0.1\",</span><br><span class=\"line\">  \"Microsoft.AspNetCore.StaticFiles\": \"1.0.0\",</span><br><span class=\"line\">  \"Newtonsoft.Json\": \"9.0.1\",</span><br><span class=\"line\">  \"AngleSharp\": \"0.9.8.1\"</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h4 id=\"publishOptions\"><a href=\"#publishOptions\" class=\"headerlink\" title=\"publishOptions\"></a>publishOptions</h4><p>Views</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"publishOptions\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"include\"</span>: [</span><br><span class=\"line\">    <span class=\"string\">\"wwwroot\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"web.config\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"Views\"</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h4 id=\"runtimes\"><a href=\"#runtimes\" class=\"headerlink\" title=\"runtimes\"></a>runtimes</h4><p>runtimes <br><a href=\"https://docs.nuget.org/ndocs/schema/project.json\" target=\"_blank\" rel=\"noopener\">https://docs.nuget.org/ndocs/schema/project.json</a></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"runtimes\": &#123; \"ubuntu.14.04-x64\": &#123;&#125; &#125;</span><br></pre></td></tr></table></figure>\n<p>,</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet restore</span><br><span class=\"line\"></span><br><span class=\"line\">dotnet run</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/b1191226-c33b-45c7-98cc-f62bb3ea73b4\" alt=\"log\"></p>\n<h3 id=\"jexus-\"><a href=\"#jexus-\" class=\"headerlink\" title=\"jexus/\"></a>jexus/</h3><p><a href=\"http://www.cnblogs.com/gaobing/p/5663012.html\" target=\"_blank\" rel=\"noopener\">ASP.NET Core , jexus</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"58HouseSearchasp-net-core\"><a href=\"#58HouseSearchasp-net-core\" class=\"headerlink\" title=\"58HouseSearchasp.net core\"></a>58HouseSearchasp.net core</h1><p><a href=\"https://github.com/liguobao/58HouseSearch\" target=\"_blank\" rel=\"noopener\">58HouseSearch</a>ASP.NET MVC 4Windows+VS2015linux+mono+jexus</p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>.NET CORE.NET</p>\n<p>Windows APICOM</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li><p>,</p>\n</li>\n<li><p>Windows APICOM</p>\n<p>  </p>\n<p>  API</p>\n</li>\n</ul>\n<p>58HouseSearch</p>\n<p><br>:</p>\n<ul>\n<li><p><a href=\"https://github.com/FlorianRappl/AngleSharp\" target=\"_blank\" rel=\"noopener\">AngleSharp</a></p>\n</li>\n<li><p><a href=\"http://www.newtonsoft.com/json\" target=\"_blank\" rel=\"noopener\">Newtonsoft.Json</a></p>\n</li>\n<li><p><a href=\"http://logging.apache.org/log4net/\" target=\"_blank\" rel=\"noopener\">log4net</a></p>\n</li>\n</ul>\n<p>AngleSharpHTMLlinqHTML</p>\n<p>.net core<br></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/1a950803-3d38-4b16-9761-6c9cd806b0b9\" alt=\"AngleSharp\"></p>\n<p>Newtonsoft.Json</p>\n<p>PVnuget.net core</p>\n<p>log4netlog4net<br>PS:Nloglog4net</p>\n<p>Windows API</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><a href=\"https://www.visualstudio.com/downloads/\" target=\"_blank\" rel=\"noopener\">Visual Studio Community 2015 with Update 3  Free</a></li>\n<li><a href=\"https://www.microsoft.com/net/download\" target=\"_blank\" rel=\"noopener\">.NET Core SDK</a></li>\n<li><a href=\"https://www.microsoft.com/net/download\" target=\"_blank\" rel=\"noopener\">.NET Core</a></li>\n<li><a href=\"https://go.microsoft.com/fwlink/?LinkId=827546\" target=\"_blank\" rel=\"noopener\">.NET Core 1.0.1 - VS 2015 Tooling Preview 2</a></li>\n</ul>\n<p></p>\n<ol>\n<li>Visual Studio Community 2015 with Update 3 </li>\n</ol>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/1e723e08-b3d5-4dab-b4a6-1de70799c4c8\" alt=\"\"></p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/706771d8-d3f2-4122-a61d-5e961887121a\" alt=\"-1\"></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/455ec5cc-b429-4563-a4fb-3a0c18608969\" alt=\"-2\"></p>\n<ol start=\"2\">\n<li><p>.NET Core SDK.NET Core.NET Core 1.0.1 - VS 2015 Tooling Preview 2</p>\n</li>\n<li><p>.NET Core 1.0.1 - VS 2015 Tooling Preview 2 0x80072f8a</p>\n</li>\n</ol>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/47c517d1-4b48-4088-be4a-a0768413e768\" alt=\"\"></p>\n<p><a href=\"http://www.cnblogs.com/JiaoWoWeiZai/p/5892255.html\" target=\"_blank\" rel=\"noopener\">DotNetCore.1.0.1-VS2015Tools.Preview2.0.20x80072f8a</a></p>\n<p>VS2O15-ASP.NET CORE<br><img src=\"http://7xread.com1.z0.glb.clouddn.com/3364e7c9-a41e-47f2-8d08-60345e4efa35\" alt=\"ASP.NET CORE\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"ASP-NET-CORE\"><a href=\"#ASP-NET-CORE\" class=\"headerlink\" title=\"ASP.NET CORE\"></a>ASP.NET CORE</h4><p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/e047d81d-56f1-4e51-9d72-7989e1fc6225\" alt=\"ASP.NET CORE\"></p>\n<h4 id=\"Nuget\"><a href=\"#Nuget\" class=\"headerlink\" title=\"Nuget\"></a>Nuget</h4><p><a href=\"https://www.nuget.org/packages/AngleSharp/\" target=\"_blank\" rel=\"noopener\">https://www.nuget.org/packages/AngleSharp/</a></p>\n<p><a href=\"https://www.nuget.org/packages/Newtonsoft.Json\" target=\"_blank\" rel=\"noopener\">https://www.nuget.org/packages/Newtonsoft.Json</a></p>\n<h4 id=\"Controllers\"><a href=\"#Controllers\" class=\"headerlink\" title=\"Controllers\"></a>Controllers</h4><p>Controllers</p>\n<h4 id=\"Views\"><a href=\"#Views\" class=\"headerlink\" title=\"Views\"></a>Views</h4><p>Views</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>asp.net core MVCasp.net mvc</p>\n<p>asp.net core MVCviewIMG/Little/PaleGreen.png/webroot/IMG/Little/PaleGreen.png</p>\n<p>asp.net mvc/IMG/Little/PaleGreen.png</p>\n<p>webroot</p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/2fee156b-2505-4953-bfe9-1d2521f13565\" alt=\"\"></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"Startup-csMVC\"><a href=\"#Startup-csMVC\" class=\"headerlink\" title=\"Startup.csMVC\"></a>Startup.csMVC</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class Startup</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    // This method gets called by the runtime. Use this method to add services to the container.</span><br><span class=\"line\">    // For more information on how to configure your application, visit http://go.microsoft.com/fwlink/?LinkID=398940</span><br><span class=\"line\">    public void ConfigureServices(IServiceCollection services)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        //MVC</span><br><span class=\"line\">        services.AddMvc();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.</span><br><span class=\"line\">    public void Configure(IApplicationBuilder app, IHostingEnvironment env,</span><br><span class=\"line\">    ILoggerFactory loggerFactory)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        loggerFactory.AddConsole();</span><br><span class=\"line\"></span><br><span class=\"line\">        if (env.IsDevelopment())</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            app.UseDeveloperExceptionPage();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        //</span><br><span class=\"line\">        app.UseStaticFiles();</span><br><span class=\"line\">        //MVC</span><br><span class=\"line\">        app.UseMvcWithDefaultRoute();</span><br><span class=\"line\">        //</span><br><span class=\"line\">        app.UseMvc(routes =&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            routes.MapRoute(</span><br><span class=\"line\">                name: &quot;default&quot;,</span><br><span class=\"line\">                template: &quot;&#123;controller=House&#125;/&#123;action=Index&#125;/&#123;id?&#125;&quot;); </span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"GetHTMLByURL\"><a href=\"#GetHTMLByURL\" class=\"headerlink\" title=\"GetHTMLByURL\"></a>GetHTMLByURL</h4><p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/d005a100-e3e6-423b-b34c-3eae11b2ab63\" alt=\"old GetHTMLByURL\"></p>\n<p>.net coreHttpWebRequestWebRequest,</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static string GetHTMLByURL(string Url, string type = &quot;UTF-8&quot;)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    try</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        Url = Url.ToLower();</span><br><span class=\"line\"></span><br><span class=\"line\">        System.Net.WebRequest wReq = System.Net.WebRequest.Create(Url);</span><br><span class=\"line\">        // Get the response instance.</span><br><span class=\"line\">        System.Net.WebResponse wResp = wReq.GetResponseAsync().Result;</span><br><span class=\"line\">        System.IO.Stream respStream = wResp.GetResponseStream();</span><br><span class=\"line\">        using (System.IO.StreamReader reader = new System.IO.</span><br><span class=\"line\">        StreamReader(respStream, Encoding.GetEncoding(type)))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            return reader.ReadToEnd();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    catch (System.Exception ex)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        return string.Empty;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"Controller\"><a href=\"#Controller\" class=\"headerlink\" title=\"Controller\"></a>Controller</h4><p></p>\n<h3 id=\"ubuntu\"><a href=\"#ubuntu\" class=\"headerlink\" title=\"ubuntu\"></a>ubuntu</h3><p><a href=\"https://www.microsoft.com/net/core#ubuntu\" target=\"_blank\" rel=\"noopener\">Install for Ubuntu 14.04, 16.04 &amp; Linux Mint 17</a></p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Ubuntu 14.04 / Linux Mint 17</span><br><span class=\"line\">sudo sh -c <span class=\"string\">'echo \"deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ trusty main\" &gt; /etc/apt/sources.list.d/dotnetdev.list'</span></span><br><span class=\"line\">sudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893</span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">//Ubuntu 16.04</span><br><span class=\"line\">sudo sh -c <span class=\"string\">'echo \"deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ xenial main\" &gt; /etc/apt/sources.list.d/dotnetdev.list'</span></span><br><span class=\"line\">sudo apt-key adv --keyserver apt-mo.trafficmanager.net --recv-keys 417A0893</span><br><span class=\"line\">sudo apt-get update</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install dotnet-dev-1.0.0-preview2-003131</span><br></pre></td></tr></table></figure>\n<p> dotnet -v </p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/6ebca12e-2be9-487e-b230-d22562a5aabe\" alt=\"dotnet -v \"></p>\n<p>ubuntu asp.net core</p>\n<h3 id=\"project-json\"><a href=\"#project-json\" class=\"headerlink\" title=\"project.json\"></a>project.json</h3><h4 id=\"dependencies\"><a href=\"#dependencies\" class=\"headerlink\" title=\"dependencies\"></a>dependencies</h4><p>NET Core 1.0.1 - VS 2015 Tooling Preview 2asp.net core ubuntu asp.net core </p>\n<p>ubuntu.NET Core 1.0.0</p>\n<p>.NET Core 1.0.1:</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/a3192bdf-f548-4fad-868a-4865632acd29\" alt=\".NET Core 1.0.1\"></p>\n<p>ubuntuasp.net core</p>\n<p>.NET Core 1.0.1 ubuntu.NET Core 1.0.0.</p>\n<p>Microsoft.NETCore.App version Microsoft.AspNetCore.Server.KestrelMicrosoft.AspNetCore.Mvc 1.0.0</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"dependencies\": &#123;</span><br><span class=\"line\">  \"Microsoft.NETCore.App\": &#123;</span><br><span class=\"line\">    \"version\": \"1.0.1\",</span><br><span class=\"line\">    \"type\": \"platform\"</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  \"Microsoft.AspNetCore.Diagnostics\": \"1.0.0\",</span><br><span class=\"line\">  \"Microsoft.AspNetCore.Server.IISIntegration\": \"1.0.0\",</span><br><span class=\"line\">  \"Microsoft.AspNetCore.Server.Kestrel\": \"1.0.1\",</span><br><span class=\"line\">  \"Microsoft.Extensions.Logging.Console\": \"1.0.0\",</span><br><span class=\"line\">  \"Microsoft.AspNetCore.Mvc\": \"1.0.1\",</span><br><span class=\"line\">  \"Microsoft.AspNetCore.StaticFiles\": \"1.0.0\",</span><br><span class=\"line\">  \"Newtonsoft.Json\": \"9.0.1\",</span><br><span class=\"line\">  \"AngleSharp\": \"0.9.8.1\"</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h4 id=\"publishOptions\"><a href=\"#publishOptions\" class=\"headerlink\" title=\"publishOptions\"></a>publishOptions</h4><p>Views</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"publishOptions\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"include\"</span>: [</span><br><span class=\"line\">    <span class=\"string\">\"wwwroot\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"web.config\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"Views\"</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h4 id=\"runtimes\"><a href=\"#runtimes\" class=\"headerlink\" title=\"runtimes\"></a>runtimes</h4><p>runtimes <br><a href=\"https://docs.nuget.org/ndocs/schema/project.json\" target=\"_blank\" rel=\"noopener\">https://docs.nuget.org/ndocs/schema/project.json</a></p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"runtimes\": &#123; \"ubuntu.14.04-x64\": &#123;&#125; &#125;</span><br></pre></td></tr></table></figure>\n<p>,</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dotnet restore</span><br><span class=\"line\"></span><br><span class=\"line\">dotnet run</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/b1191226-c33b-45c7-98cc-f62bb3ea73b4\" alt=\"log\"></p>\n<h3 id=\"jexus-\"><a href=\"#jexus-\" class=\"headerlink\" title=\"jexus/\"></a>jexus/</h3><p><a href=\"http://www.cnblogs.com/gaobing/p/5663012.html\" target=\"_blank\" rel=\"noopener\">ASP.NET Core , jexus</a></p>\n"},{"layout":"post","title":"ASP.NET Core Hosting","_content":"# ASP.NET Core Hosting\n\nASP.NETIISIISASP.NET ISAPI filterhttpIISw3wpworker processASP.NET runtime.net coreASP.NETWindowsIISweb serverjexuslinux webservermono.NET Microsoft \n\n\n\n## ASP.NET Core.NET CoreASP.NET Core\n\n### 1Kestrel  IIS platform handler\n\n ASP.NET Core runtimeIISASP.NET CoreConsole appASP.NET CoreI/O - KestrelIISruntimeKestrel I/OIISASP.NET ASP.NET CoreIISIIS Http Platform Handlerweb.configASP.NET Core Http Platform Handler\n\n```csharp\n<system.webServer>\n    <handlers>\n      <add name=\"httpPlatformHandler\" path=\"*\" verb=\"*\"\n      modules=\"httpPlatformHandler\" resourceType=\"Unspecified\"/>\n    </handlers>\n    <httpPlatform processPath=\"WebApp.exe\" arguments=\"\" \n    stdoutLogEnabled=\"false\" startupTimeLimit=\"3600\"/>\n  </system.webServer>\n\n```\nHttp Platform Handler\n[http://www.iis.net/downloads/microsoft/httpplatformhandler](http://www.iis.net/downloads/microsoft/httpplatformhandler)\n\n\nASP.NET CoreEXEHTTPIISweb.configWebApp.exeASP.NET CoreWebApp.exeKestrelHTTPASP.NET Core runtimeIISproxy/forwarder\n\nPSasp.net core IIS moduleHttp Platform Handler\n\n[https://github.com/aspnet/IISIntegration/issues/105](https://github.com/aspnet/IISIntegration/issues/105)\n\n\n\n### 2Main()\nASP.NET Core.NET static void Main(),runtime\n```csharp\n public static void Main(string[] args)\n        {\n            var host = new WebHostBuilder()\n                .UseServer(\"Microsoft.AspNetCore.Server.Kestrel\")\n                .UseContentRoot(Directory.GetCurrentDirectory())\n                .UseDefaultConfiguration(args)\n                .UseIISPlatformHandlerUrl()\n                .UseStartup<Startup>()\n                .Build();\n\n            host.Run();\n        }\n```\n\nASP.NET Core host engine  WebHostBuilder\n\n IWebHostBuilder interface UseServer()  server\n\n UseServer() UseServer(string assemblyName)Kestrel:\"Microsoft.AspNetCore.Server.Kestrel\" server server  IServerFactory interface hosting server\n\n##### UseContentRoot() \n- working directorywebapp.exe\n\n##### UseDefaultConfiguration() \n- IWebHostBuilder  application key, environment name, server factory location, content root path  WebApp.exe hostingPSappsettings.jsonConfiguration\nUseDefaultConfiguration()  Main() \n\nPS\"UseDefaultConfiguration() UseDefaultHostingConfiguration()\"()\n\n\n##### UseIISPlatofmrHandleUrl() \n-  IWebHostBuilder   ASP.NET Core  IIS  IIS http platform handler  server port  application path ASP.NET Core  http://localhost:5000/start IIS\n\n##### UseStartup<>()\n\n-  WebHostBuilder \n\n```csharp\n\npublic static IWebHostBuilder UseStartup<TStartup>\n(this IWebHostBuilder hostBuilder) where TStartup : class\n\n```\n <>  class\n\n Startup(service)(middleware)\n\n\n### 3Startup\nclass,ASP.NET CoreStartupStartupUseStartup()starup classBuild()starup classConfigureServices()  Configure()\n\n Startup .\n\n```csharp\n public Startup(IHostingEnvironment env)\n        {\n            // Set up configuration sources.\n            var builder = new ConfigurationBuilder()\n                .AddJsonFile(\"appsettings.json\")\n                .AddJsonFile($\"appsettings.{env.EnvironmentName}.json\", optional: true)\n                .AddEnvironmentVariables();\n            Configuration = builder.Build().ReloadOnChanged(\"appsettings.json\");\n        }\n```\n\nHost engine  Build() startup type  Startup class Build() Startup\n\nIHostingEnvironmentEnvironmentName\n\nConfiguration\n\n AddJsonFile()json fileappsettings.jsonappsettings.production.json AddJsonFile()  trueappsettings.production.json  appsettings.json \n\n IWebHostBuilder  Build() host engine Startup class ConfigureServices()  Configure()\n\n ConfigureSerivces()  web application  service container (IServiceCollection) \n \n ```csharp\n \n   public void ConfigureServices(IServiceCollection services)\n        {\n            // add entity framework\n            services.AddEntityFramework()\n                    .AddDbContext<BlogsContext>(o => o.UseSqlServer(Configuration[\"Data1:DefaultConnection:ConnectionString\"]))\n             \n            // Add framework services.\n            services.AddMvc();\n        }\n\n```\n\nentity frameworkmvcservicesEntity framework services \n\n\nConfigure() middleware\n\n```csharp\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)\n        {\n            loggerFactory.AddConsole(Configuration.GetSection(\"Logging\"));\n            loggerFactory.AddDebug();\n\n            app.UseStaticFiles();\n\n            app.UseMvcWithDefaultRoute();\n        }\n\n```\n\n\n### 4Build  Run\nIHostWebBuilderBuild and Run. \n\n\n##### Build() \n-  hosting service Startup  services  middleware content root path  application nameConfigurationhost engine (WebHost.cs)\n\n##### Run() \n-  host engine   CancelKeyPress  Run()   CancellationTokenSource() host engine\n\n CancelKeyPress  Ctrl+C   host engine \n\n hard code:\n\nhost.Run(cts.Token, \"Application started. Press Ctrl+C to shut down.\");\n\n...\n\n\n[ASP.NET Core  (Hosting)](https://dotblogs.com.tw/aspnetshare/2016/03/28/20160327)\n\nASP.NET Core \n \n\n\n\n\n```csharp\n\n```","source":"_posts/asp.net core.md","raw":"---\nlayout: post\ntitle: ASP.NET Core Hosting\ncategory: dotnet core\n---\n# ASP.NET Core Hosting\n\nASP.NETIISIISASP.NET ISAPI filterhttpIISw3wpworker processASP.NET runtime.net coreASP.NETWindowsIISweb serverjexuslinux webservermono.NET Microsoft \n\n\n\n## ASP.NET Core.NET CoreASP.NET Core\n\n### 1Kestrel  IIS platform handler\n\n ASP.NET Core runtimeIISASP.NET CoreConsole appASP.NET CoreI/O - KestrelIISruntimeKestrel I/OIISASP.NET ASP.NET CoreIISIIS Http Platform Handlerweb.configASP.NET Core Http Platform Handler\n\n```csharp\n<system.webServer>\n    <handlers>\n      <add name=\"httpPlatformHandler\" path=\"*\" verb=\"*\"\n      modules=\"httpPlatformHandler\" resourceType=\"Unspecified\"/>\n    </handlers>\n    <httpPlatform processPath=\"WebApp.exe\" arguments=\"\" \n    stdoutLogEnabled=\"false\" startupTimeLimit=\"3600\"/>\n  </system.webServer>\n\n```\nHttp Platform Handler\n[http://www.iis.net/downloads/microsoft/httpplatformhandler](http://www.iis.net/downloads/microsoft/httpplatformhandler)\n\n\nASP.NET CoreEXEHTTPIISweb.configWebApp.exeASP.NET CoreWebApp.exeKestrelHTTPASP.NET Core runtimeIISproxy/forwarder\n\nPSasp.net core IIS moduleHttp Platform Handler\n\n[https://github.com/aspnet/IISIntegration/issues/105](https://github.com/aspnet/IISIntegration/issues/105)\n\n\n\n### 2Main()\nASP.NET Core.NET static void Main(),runtime\n```csharp\n public static void Main(string[] args)\n        {\n            var host = new WebHostBuilder()\n                .UseServer(\"Microsoft.AspNetCore.Server.Kestrel\")\n                .UseContentRoot(Directory.GetCurrentDirectory())\n                .UseDefaultConfiguration(args)\n                .UseIISPlatformHandlerUrl()\n                .UseStartup<Startup>()\n                .Build();\n\n            host.Run();\n        }\n```\n\nASP.NET Core host engine  WebHostBuilder\n\n IWebHostBuilder interface UseServer()  server\n\n UseServer() UseServer(string assemblyName)Kestrel:\"Microsoft.AspNetCore.Server.Kestrel\" server server  IServerFactory interface hosting server\n\n##### UseContentRoot() \n- working directorywebapp.exe\n\n##### UseDefaultConfiguration() \n- IWebHostBuilder  application key, environment name, server factory location, content root path  WebApp.exe hostingPSappsettings.jsonConfiguration\nUseDefaultConfiguration()  Main() \n\nPS\"UseDefaultConfiguration() UseDefaultHostingConfiguration()\"()\n\n\n##### UseIISPlatofmrHandleUrl() \n-  IWebHostBuilder   ASP.NET Core  IIS  IIS http platform handler  server port  application path ASP.NET Core  http://localhost:5000/start IIS\n\n##### UseStartup<>()\n\n-  WebHostBuilder \n\n```csharp\n\npublic static IWebHostBuilder UseStartup<TStartup>\n(this IWebHostBuilder hostBuilder) where TStartup : class\n\n```\n <>  class\n\n Startup(service)(middleware)\n\n\n### 3Startup\nclass,ASP.NET CoreStartupStartupUseStartup()starup classBuild()starup classConfigureServices()  Configure()\n\n Startup .\n\n```csharp\n public Startup(IHostingEnvironment env)\n        {\n            // Set up configuration sources.\n            var builder = new ConfigurationBuilder()\n                .AddJsonFile(\"appsettings.json\")\n                .AddJsonFile($\"appsettings.{env.EnvironmentName}.json\", optional: true)\n                .AddEnvironmentVariables();\n            Configuration = builder.Build().ReloadOnChanged(\"appsettings.json\");\n        }\n```\n\nHost engine  Build() startup type  Startup class Build() Startup\n\nIHostingEnvironmentEnvironmentName\n\nConfiguration\n\n AddJsonFile()json fileappsettings.jsonappsettings.production.json AddJsonFile()  trueappsettings.production.json  appsettings.json \n\n IWebHostBuilder  Build() host engine Startup class ConfigureServices()  Configure()\n\n ConfigureSerivces()  web application  service container (IServiceCollection) \n \n ```csharp\n \n   public void ConfigureServices(IServiceCollection services)\n        {\n            // add entity framework\n            services.AddEntityFramework()\n                    .AddDbContext<BlogsContext>(o => o.UseSqlServer(Configuration[\"Data1:DefaultConnection:ConnectionString\"]))\n             \n            // Add framework services.\n            services.AddMvc();\n        }\n\n```\n\nentity frameworkmvcservicesEntity framework services \n\n\nConfigure() middleware\n\n```csharp\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)\n        {\n            loggerFactory.AddConsole(Configuration.GetSection(\"Logging\"));\n            loggerFactory.AddDebug();\n\n            app.UseStaticFiles();\n\n            app.UseMvcWithDefaultRoute();\n        }\n\n```\n\n\n### 4Build  Run\nIHostWebBuilderBuild and Run. \n\n\n##### Build() \n-  hosting service Startup  services  middleware content root path  application nameConfigurationhost engine (WebHost.cs)\n\n##### Run() \n-  host engine   CancelKeyPress  Run()   CancellationTokenSource() host engine\n\n CancelKeyPress  Ctrl+C   host engine \n\n hard code:\n\nhost.Run(cts.Token, \"Application started. Press Ctrl+C to shut down.\");\n\n...\n\n\n[ASP.NET Core  (Hosting)](https://dotblogs.com.tw/aspnetshare/2016/03/28/20160327)\n\nASP.NET Core \n \n\n\n\n\n```csharp\n\n```","slug":"asp.net core","published":1,"date":"2016-06-30T16:16:48.000Z","updated":"2018-05-17T08:18:59.771Z","comments":1,"photos":[],"link":"","_id":"cjha9swh40004fr1w4xs64hw0","content":"<h1 id=\"ASP-NET-Core-Hosting\"><a href=\"#ASP-NET-Core-Hosting\" class=\"headerlink\" title=\"ASP.NET Core Hosting\"></a>ASP.NET Core Hosting</h1><p>ASP.NETIISIISASP.NET ISAPI filterhttpIISw3wpworker processASP.NET runtime.net coreASP.NETWindowsIISweb serverjexuslinux webservermono.NET Microsoft </p>\n<p></p>\n<h2 id=\"ASP-NET-Core-NET-CoreASP-NET-Core\"><a href=\"#ASP-NET-Core-NET-CoreASP-NET-Core\" class=\"headerlink\" title=\"ASP.NET Core.NET CoreASP.NET Core\"></a>ASP.NET Core.NET CoreASP.NET Core</h2><h3 id=\"1Kestrel--IIS-platform-handler\"><a href=\"#1Kestrel--IIS-platform-handler\" class=\"headerlink\" title=\"1Kestrel  IIS platform handler\"></a>1Kestrel  IIS platform handler</h3><p> ASP.NET Core runtimeIISASP.NET CoreConsole appASP.NET CoreI/O - KestrelIISruntimeKestrel I/OIISASP.NET ASP.NET CoreIISIIS Http Platform Handlerweb.configASP.NET Core Http Platform Handler</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;system.webServer&gt;</span><br><span class=\"line\">    &lt;handlers&gt;</span><br><span class=\"line\">      &lt;<span class=\"keyword\">add</span> name=<span class=\"string\">\"httpPlatformHandler\"</span> path=<span class=\"string\">\"*\"</span> verb=<span class=\"string\">\"*\"</span></span><br><span class=\"line\">      modules=<span class=\"string\">\"httpPlatformHandler\"</span> resourceType=<span class=\"string\">\"Unspecified\"</span>/&gt;</span><br><span class=\"line\">    &lt;/handlers&gt;</span><br><span class=\"line\">    &lt;httpPlatform processPath=<span class=\"string\">\"WebApp.exe\"</span> arguments=<span class=\"string\">\"\"</span> </span><br><span class=\"line\">    stdoutLogEnabled=<span class=\"string\">\"false\"</span> startupTimeLimit=<span class=\"string\">\"3600\"</span>/&gt;</span><br><span class=\"line\">  &lt;/system.webServer&gt;</span><br></pre></td></tr></table></figure>\n<p>Http Platform Handler<br><a href=\"http://www.iis.net/downloads/microsoft/httpplatformhandler\" target=\"_blank\" rel=\"noopener\">http://www.iis.net/downloads/microsoft/httpplatformhandler</a></p>\n<p>ASP.NET CoreEXEHTTPIISweb.configWebApp.exeASP.NET CoreWebApp.exeKestrelHTTPASP.NET Core runtimeIISproxy/forwarder</p>\n<p>PSasp.net core IIS moduleHttp Platform Handler</p>\n<p><a href=\"https://github.com/aspnet/IISIntegration/issues/105\" target=\"_blank\" rel=\"noopener\">https://github.com/aspnet/IISIntegration/issues/105</a></p>\n<h3 id=\"2Main\"><a href=\"#2Main\" class=\"headerlink\" title=\"2Main()\"></a>2Main()</h3><p>ASP.NET Core.NET static void Main(),runtime<br><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>)</span></span><br><span class=\"line\"><span class=\"function\">       </span>&#123;</span><br><span class=\"line\">           <span class=\"keyword\">var</span> host = <span class=\"keyword\">new</span> WebHostBuilder()</span><br><span class=\"line\">               .UseServer(<span class=\"string\">\"Microsoft.AspNetCore.Server.Kestrel\"</span>)</span><br><span class=\"line\">               .UseContentRoot(Directory.GetCurrentDirectory())</span><br><span class=\"line\">               .UseDefaultConfiguration(args)</span><br><span class=\"line\">               .UseIISPlatformHandlerUrl()</span><br><span class=\"line\">               .UseStartup&lt;Startup&gt;()</span><br><span class=\"line\">               .Build();</span><br><span class=\"line\"></span><br><span class=\"line\">           host.Run();</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure></p>\n<p>ASP.NET Core host engine  WebHostBuilder</p>\n<p> IWebHostBuilder interface UseServer()  server</p>\n<p> UseServer() UseServer(string assemblyName)Kestrel:Microsoft.AspNetCore.Server.Kestrel server server  IServerFactory interface hosting server</p>\n<h5 id=\"UseContentRoot\"><a href=\"#UseContentRoot\" class=\"headerlink\" title=\"UseContentRoot()\"></a>UseContentRoot()</h5><ul>\n<li>working directorywebapp.exe</li>\n</ul>\n<h5 id=\"UseDefaultConfiguration\"><a href=\"#UseDefaultConfiguration\" class=\"headerlink\" title=\"UseDefaultConfiguration()\"></a>UseDefaultConfiguration()</h5><ul>\n<li>IWebHostBuilder  application key, environment name, server factory location, content root path  WebApp.exe hostingPSappsettings.jsonConfiguration<br>UseDefaultConfiguration()  Main() </li>\n</ul>\n<p>PSUseDefaultConfiguration() UseDefaultHostingConfiguration()()</p>\n<h5 id=\"UseIISPlatofmrHandleUrl\"><a href=\"#UseIISPlatofmrHandleUrl\" class=\"headerlink\" title=\"UseIISPlatofmrHandleUrl()\"></a>UseIISPlatofmrHandleUrl()</h5><ul>\n<li> IWebHostBuilder   ASP.NET Core  IIS  IIS http platform handler  server port  application path ASP.NET Core  <a href=\"http://localhost:5000/start\" target=\"_blank\" rel=\"noopener\">http://localhost:5000/start</a> IIS</li>\n</ul>\n<h5 id=\"UseStartup-lt-gt\"><a href=\"#UseStartup-lt-gt\" class=\"headerlink\" title=\"UseStartup&lt;&gt;()\"></a>UseStartup&lt;&gt;()</h5><ul>\n<li> WebHostBuilder </li>\n</ul>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IWebHostBuilder UseStartup&lt;TStartup&gt;</span><br><span class=\"line\">(<span class=\"keyword\">this</span> IWebHostBuilder hostBuilder) <span class=\"keyword\">where</span> TStartup : <span class=\"keyword\">class</span></span><br></pre></td></tr></table></figure>\n<p> &lt;&gt;  class</p>\n<p> Startup(service)(middleware)</p>\n<h3 id=\"3Startup\"><a href=\"#3Startup\" class=\"headerlink\" title=\"3Startup\"></a>3Startup</h3><p>class,ASP.NET CoreStartupStartupUseStartup()starup classBuild()starup classConfigureServices()  Configure()</p>\n<p> Startup .</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Startup</span>(<span class=\"params\">IHostingEnvironment env</span>)</span></span><br><span class=\"line\"><span class=\"function\">       </span>&#123;</span><br><span class=\"line\">           <span class=\"comment\">// Set up configuration sources.</span></span><br><span class=\"line\">           <span class=\"keyword\">var</span> builder = <span class=\"keyword\">new</span> ConfigurationBuilder()</span><br><span class=\"line\">               .AddJsonFile(<span class=\"string\">\"appsettings.json\"</span>)</span><br><span class=\"line\">               .AddJsonFile(<span class=\"string\">$\"appsettings.<span class=\"subst\">&#123;env.EnvironmentName&#125;</span>.json\"</span>, optional: <span class=\"literal\">true</span>)</span><br><span class=\"line\">               .AddEnvironmentVariables();</span><br><span class=\"line\">           Configuration = builder.Build().ReloadOnChanged(<span class=\"string\">\"appsettings.json\"</span>);</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<p>Host engine  Build() startup type  Startup class Build() Startup</p>\n<p>IHostingEnvironmentEnvironmentName</p>\n<p>Configuration</p>\n<p> AddJsonFile()json fileappsettings.jsonappsettings.production.json AddJsonFile()  trueappsettings.production.json  appsettings.json </p>\n<p> IWebHostBuilder  Build() host engine Startup class ConfigureServices()  Configure()</p>\n<p> ConfigureSerivces()  web application  service container (IServiceCollection) </p>\n <figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ConfigureServices</span>(<span class=\"params\">IServiceCollection services</span>)</span></span><br><span class=\"line\"><span class=\"function\">     </span>&#123;</span><br><span class=\"line\">         <span class=\"comment\">// add entity framework</span></span><br><span class=\"line\">         services.AddEntityFramework()</span><br><span class=\"line\">                 .AddDbContext&lt;BlogsContext&gt;(o =&gt; o.UseSqlServer(Configuration[<span class=\"string\">\"Data1:DefaultConnection:ConnectionString\"</span>]))</span><br><span class=\"line\">          </span><br><span class=\"line\">         <span class=\"comment\">// Add framework services.</span></span><br><span class=\"line\">         services.AddMvc();</span><br><span class=\"line\">     &#125;</span><br></pre></td></tr></table></figure>\n<p>entity frameworkmvcservicesEntity framework services </p>\n<p>Configure() middleware</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    loggerFactory.AddConsole(Configuration.GetSection(<span class=\"string\">\"Logging\"</span>));</span><br><span class=\"line\">    loggerFactory.AddDebug();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseStaticFiles();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseMvcWithDefaultRoute();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"4Build--Run\"><a href=\"#4Build--Run\" class=\"headerlink\" title=\"4Build  Run\"></a>4Build  Run</h3><p>IHostWebBuilderBuild and Run. </p>\n<h5 id=\"Build\"><a href=\"#Build\" class=\"headerlink\" title=\"Build()\"></a>Build()</h5><ul>\n<li> hosting service Startup  services  middleware content root path  application nameConfigurationhost engine (WebHost.cs)</li>\n</ul>\n<h5 id=\"Run\"><a href=\"#Run\" class=\"headerlink\" title=\"Run()\"></a>Run()</h5><ul>\n<li> host engine   CancelKeyPress  Run()   CancellationTokenSource() host engine</li>\n</ul>\n<p> CancelKeyPress  Ctrl+C   host engine </p>\n<p> hard code:</p>\n<p>host.Run(cts.Token, Application started. Press Ctrl+C to shut down.);</p>\n<p></p>\n<p><a href=\"https://dotblogs.com.tw/aspnetshare/2016/03/28/20160327\" target=\"_blank\" rel=\"noopener\">ASP.NET Core  (Hosting)</a></p>\n<p>ASP.NET Core </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"ASP-NET-Core-Hosting\"><a href=\"#ASP-NET-Core-Hosting\" class=\"headerlink\" title=\"ASP.NET Core Hosting\"></a>ASP.NET Core Hosting</h1><p>ASP.NETIISIISASP.NET ISAPI filterhttpIISw3wpworker processASP.NET runtime.net coreASP.NETWindowsIISweb serverjexuslinux webservermono.NET Microsoft </p>\n<p></p>\n<h2 id=\"ASP-NET-Core-NET-CoreASP-NET-Core\"><a href=\"#ASP-NET-Core-NET-CoreASP-NET-Core\" class=\"headerlink\" title=\"ASP.NET Core.NET CoreASP.NET Core\"></a>ASP.NET Core.NET CoreASP.NET Core</h2><h3 id=\"1Kestrel--IIS-platform-handler\"><a href=\"#1Kestrel--IIS-platform-handler\" class=\"headerlink\" title=\"1Kestrel  IIS platform handler\"></a>1Kestrel  IIS platform handler</h3><p> ASP.NET Core runtimeIISASP.NET CoreConsole appASP.NET CoreI/O - KestrelIISruntimeKestrel I/OIISASP.NET ASP.NET CoreIISIIS Http Platform Handlerweb.configASP.NET Core Http Platform Handler</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;system.webServer&gt;</span><br><span class=\"line\">    &lt;handlers&gt;</span><br><span class=\"line\">      &lt;<span class=\"keyword\">add</span> name=<span class=\"string\">\"httpPlatformHandler\"</span> path=<span class=\"string\">\"*\"</span> verb=<span class=\"string\">\"*\"</span></span><br><span class=\"line\">      modules=<span class=\"string\">\"httpPlatformHandler\"</span> resourceType=<span class=\"string\">\"Unspecified\"</span>/&gt;</span><br><span class=\"line\">    &lt;/handlers&gt;</span><br><span class=\"line\">    &lt;httpPlatform processPath=<span class=\"string\">\"WebApp.exe\"</span> arguments=<span class=\"string\">\"\"</span> </span><br><span class=\"line\">    stdoutLogEnabled=<span class=\"string\">\"false\"</span> startupTimeLimit=<span class=\"string\">\"3600\"</span>/&gt;</span><br><span class=\"line\">  &lt;/system.webServer&gt;</span><br></pre></td></tr></table></figure>\n<p>Http Platform Handler<br><a href=\"http://www.iis.net/downloads/microsoft/httpplatformhandler\" target=\"_blank\" rel=\"noopener\">http://www.iis.net/downloads/microsoft/httpplatformhandler</a></p>\n<p>ASP.NET CoreEXEHTTPIISweb.configWebApp.exeASP.NET CoreWebApp.exeKestrelHTTPASP.NET Core runtimeIISproxy/forwarder</p>\n<p>PSasp.net core IIS moduleHttp Platform Handler</p>\n<p><a href=\"https://github.com/aspnet/IISIntegration/issues/105\" target=\"_blank\" rel=\"noopener\">https://github.com/aspnet/IISIntegration/issues/105</a></p>\n<h3 id=\"2Main\"><a href=\"#2Main\" class=\"headerlink\" title=\"2Main()\"></a>2Main()</h3><p>ASP.NET Core.NET static void Main(),runtime<br><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">Main</span>(<span class=\"params\"><span class=\"keyword\">string</span>[] args</span>)</span></span><br><span class=\"line\"><span class=\"function\">       </span>&#123;</span><br><span class=\"line\">           <span class=\"keyword\">var</span> host = <span class=\"keyword\">new</span> WebHostBuilder()</span><br><span class=\"line\">               .UseServer(<span class=\"string\">\"Microsoft.AspNetCore.Server.Kestrel\"</span>)</span><br><span class=\"line\">               .UseContentRoot(Directory.GetCurrentDirectory())</span><br><span class=\"line\">               .UseDefaultConfiguration(args)</span><br><span class=\"line\">               .UseIISPlatformHandlerUrl()</span><br><span class=\"line\">               .UseStartup&lt;Startup&gt;()</span><br><span class=\"line\">               .Build();</span><br><span class=\"line\"></span><br><span class=\"line\">           host.Run();</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure></p>\n<p>ASP.NET Core host engine  WebHostBuilder</p>\n<p> IWebHostBuilder interface UseServer()  server</p>\n<p> UseServer() UseServer(string assemblyName)Kestrel:Microsoft.AspNetCore.Server.Kestrel server server  IServerFactory interface hosting server</p>\n<h5 id=\"UseContentRoot\"><a href=\"#UseContentRoot\" class=\"headerlink\" title=\"UseContentRoot()\"></a>UseContentRoot()</h5><ul>\n<li>working directorywebapp.exe</li>\n</ul>\n<h5 id=\"UseDefaultConfiguration\"><a href=\"#UseDefaultConfiguration\" class=\"headerlink\" title=\"UseDefaultConfiguration()\"></a>UseDefaultConfiguration()</h5><ul>\n<li>IWebHostBuilder  application key, environment name, server factory location, content root path  WebApp.exe hostingPSappsettings.jsonConfiguration<br>UseDefaultConfiguration()  Main() </li>\n</ul>\n<p>PSUseDefaultConfiguration() UseDefaultHostingConfiguration()()</p>\n<h5 id=\"UseIISPlatofmrHandleUrl\"><a href=\"#UseIISPlatofmrHandleUrl\" class=\"headerlink\" title=\"UseIISPlatofmrHandleUrl()\"></a>UseIISPlatofmrHandleUrl()</h5><ul>\n<li> IWebHostBuilder   ASP.NET Core  IIS  IIS http platform handler  server port  application path ASP.NET Core  <a href=\"http://localhost:5000/start\" target=\"_blank\" rel=\"noopener\">http://localhost:5000/start</a> IIS</li>\n</ul>\n<h5 id=\"UseStartup-lt-gt\"><a href=\"#UseStartup-lt-gt\" class=\"headerlink\" title=\"UseStartup&lt;&gt;()\"></a>UseStartup&lt;&gt;()</h5><ul>\n<li> WebHostBuilder </li>\n</ul>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> IWebHostBuilder UseStartup&lt;TStartup&gt;</span><br><span class=\"line\">(<span class=\"keyword\">this</span> IWebHostBuilder hostBuilder) <span class=\"keyword\">where</span> TStartup : <span class=\"keyword\">class</span></span><br></pre></td></tr></table></figure>\n<p> &lt;&gt;  class</p>\n<p> Startup(service)(middleware)</p>\n<h3 id=\"3Startup\"><a href=\"#3Startup\" class=\"headerlink\" title=\"3Startup\"></a>3Startup</h3><p>class,ASP.NET CoreStartupStartupUseStartup()starup classBuild()starup classConfigureServices()  Configure()</p>\n<p> Startup .</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">Startup</span>(<span class=\"params\">IHostingEnvironment env</span>)</span></span><br><span class=\"line\"><span class=\"function\">       </span>&#123;</span><br><span class=\"line\">           <span class=\"comment\">// Set up configuration sources.</span></span><br><span class=\"line\">           <span class=\"keyword\">var</span> builder = <span class=\"keyword\">new</span> ConfigurationBuilder()</span><br><span class=\"line\">               .AddJsonFile(<span class=\"string\">\"appsettings.json\"</span>)</span><br><span class=\"line\">               .AddJsonFile(<span class=\"string\">$\"appsettings.<span class=\"subst\">&#123;env.EnvironmentName&#125;</span>.json\"</span>, optional: <span class=\"literal\">true</span>)</span><br><span class=\"line\">               .AddEnvironmentVariables();</span><br><span class=\"line\">           Configuration = builder.Build().ReloadOnChanged(<span class=\"string\">\"appsettings.json\"</span>);</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<p>Host engine  Build() startup type  Startup class Build() Startup</p>\n<p>IHostingEnvironmentEnvironmentName</p>\n<p>Configuration</p>\n<p> AddJsonFile()json fileappsettings.jsonappsettings.production.json AddJsonFile()  trueappsettings.production.json  appsettings.json </p>\n<p> IWebHostBuilder  Build() host engine Startup class ConfigureServices()  Configure()</p>\n<p> ConfigureSerivces()  web application  service container (IServiceCollection) </p>\n <figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> </span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ConfigureServices</span>(<span class=\"params\">IServiceCollection services</span>)</span></span><br><span class=\"line\"><span class=\"function\">     </span>&#123;</span><br><span class=\"line\">         <span class=\"comment\">// add entity framework</span></span><br><span class=\"line\">         services.AddEntityFramework()</span><br><span class=\"line\">                 .AddDbContext&lt;BlogsContext&gt;(o =&gt; o.UseSqlServer(Configuration[<span class=\"string\">\"Data1:DefaultConnection:ConnectionString\"</span>]))</span><br><span class=\"line\">          </span><br><span class=\"line\">         <span class=\"comment\">// Add framework services.</span></span><br><span class=\"line\">         services.AddMvc();</span><br><span class=\"line\">     &#125;</span><br></pre></td></tr></table></figure>\n<p>entity frameworkmvcservicesEntity framework services </p>\n<p>Configure() middleware</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    loggerFactory.AddConsole(Configuration.GetSection(<span class=\"string\">\"Logging\"</span>));</span><br><span class=\"line\">    loggerFactory.AddDebug();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseStaticFiles();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseMvcWithDefaultRoute();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"4Build--Run\"><a href=\"#4Build--Run\" class=\"headerlink\" title=\"4Build  Run\"></a>4Build  Run</h3><p>IHostWebBuilderBuild and Run. </p>\n<h5 id=\"Build\"><a href=\"#Build\" class=\"headerlink\" title=\"Build()\"></a>Build()</h5><ul>\n<li> hosting service Startup  services  middleware content root path  application nameConfigurationhost engine (WebHost.cs)</li>\n</ul>\n<h5 id=\"Run\"><a href=\"#Run\" class=\"headerlink\" title=\"Run()\"></a>Run()</h5><ul>\n<li> host engine   CancelKeyPress  Run()   CancellationTokenSource() host engine</li>\n</ul>\n<p> CancelKeyPress  Ctrl+C   host engine </p>\n<p> hard code:</p>\n<p>host.Run(cts.Token, Application started. Press Ctrl+C to shut down.);</p>\n<p></p>\n<p><a href=\"https://dotblogs.com.tw/aspnetshare/2016/03/28/20160327\" target=\"_blank\" rel=\"noopener\">ASP.NET Core  (Hosting)</a></p>\n<p>ASP.NET Core </p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"Linux","---date":"2017-03-24T16:00:00.000Z","_content":"# Linux\n\n## \n\n```sh\n//\n$ netstat -anp | grep \"5000\"\n//\n$ kill -9 2553\n// \n$ nohup command &\n\n```\n\n## SS\n\n```sh\n$ apt-get update\n//ss\n$ apt-get install python-pip \n$ pip install shadowsocks\n//ss\n$ nohup ssserver -s ip -k  &\n```\n\n## MySQL5.7\n\n```sh\nhttp://tecadmin.net/install-mysql-5-on-ubuntu/\n\n$ sudo apt-get install software-properties-common\n$ sudo add-apt-repository -y ppa:ondrej/mysql-5.7\n$ sudo apt-get update\n$ sudo apt-get install mysql-server\n\n//\n/etc/mysql/my.cnf\n\nbind-address\t\t= 0.0.0.0\n\n//MySQL\n$ /etc/init.d/mysql restart\n\n```\n\n## MySQL\n\n```sh\n//\ngrant all privileges  on *.* to root@'%' identified by \"root\";\n//\nflush privileges;\n\n\ngrant select,insert,update,delete,create,drop on  to joe@10.163.225.87 identified by 123;\n\n\ngrant all  on xxxDB.* to xxx@'%';\n\n```\n\n## MySQLChecking for tables which need an upgrade, are corrupt or were not closed cleanly\n\n\n\n```sh\n$ sudo service mysql stop \n$ sudo /etc/init.d/apparmor reload\n$ sudo service mysql start\n\n\n\n\ndown vote\nThis error occurs due to multiple installations of mysql. Run the command:\n\n$ ps -A|grep mysql\nKill the process by using:\n\n$ sudo pkill mysql\nand then run command:\n\n$ ps -A|grep mysqld\nAlso Kill this process by running:\n\n$ sudo pkill mysqld\nNow you are fully set just run the following commands:\n\n$ service mysql restart\nmysql -u root -p\n\n```\n\n## 7z\n\n```sh\n//\n$ 7z a -t7z -r manager.7z /home/manager/*\n//\n$ 7z X xx.zip\n\n```\n\n## ,root\n\n```\n$ sudo passwd root\n\n$ sudo vi /etc/ssh/sshd_config\n\n$ sudo service ssh  restart\n\n```\n\n## \n\n```sh\n//\n$ ls /etc/rc*\n//sysv-rc-conf\n$ sudo apt-get install sysv-rc-conf\n$ sudo sysv-rc-conf \n\n```","source":"_posts/linux.md","raw":"---\nlayout: post\ntitle: Linux\ncategory: linux\n---date: 2017-03-25 00:00:00\ntags:\n- linux\n- Shell\n---\n# Linux\n\n## \n\n```sh\n//\n$ netstat -anp | grep \"5000\"\n//\n$ kill -9 2553\n// \n$ nohup command &\n\n```\n\n## SS\n\n```sh\n$ apt-get update\n//ss\n$ apt-get install python-pip \n$ pip install shadowsocks\n//ss\n$ nohup ssserver -s ip -k  &\n```\n\n## MySQL5.7\n\n```sh\nhttp://tecadmin.net/install-mysql-5-on-ubuntu/\n\n$ sudo apt-get install software-properties-common\n$ sudo add-apt-repository -y ppa:ondrej/mysql-5.7\n$ sudo apt-get update\n$ sudo apt-get install mysql-server\n\n//\n/etc/mysql/my.cnf\n\nbind-address\t\t= 0.0.0.0\n\n//MySQL\n$ /etc/init.d/mysql restart\n\n```\n\n## MySQL\n\n```sh\n//\ngrant all privileges  on *.* to root@'%' identified by \"root\";\n//\nflush privileges;\n\n\ngrant select,insert,update,delete,create,drop on  to joe@10.163.225.87 identified by 123;\n\n\ngrant all  on xxxDB.* to xxx@'%';\n\n```\n\n## MySQLChecking for tables which need an upgrade, are corrupt or were not closed cleanly\n\n\n\n```sh\n$ sudo service mysql stop \n$ sudo /etc/init.d/apparmor reload\n$ sudo service mysql start\n\n\n\n\ndown vote\nThis error occurs due to multiple installations of mysql. Run the command:\n\n$ ps -A|grep mysql\nKill the process by using:\n\n$ sudo pkill mysql\nand then run command:\n\n$ ps -A|grep mysqld\nAlso Kill this process by running:\n\n$ sudo pkill mysqld\nNow you are fully set just run the following commands:\n\n$ service mysql restart\nmysql -u root -p\n\n```\n\n## 7z\n\n```sh\n//\n$ 7z a -t7z -r manager.7z /home/manager/*\n//\n$ 7z X xx.zip\n\n```\n\n## ,root\n\n```\n$ sudo passwd root\n\n$ sudo vi /etc/ssh/sshd_config\n\n$ sudo service ssh  restart\n\n```\n\n## \n\n```sh\n//\n$ ls /etc/rc*\n//sysv-rc-conf\n$ sudo apt-get install sysv-rc-conf\n$ sudo sysv-rc-conf \n\n```","slug":"linux","published":1,"date":"2017-03-25T05:16:21.000Z","updated":"2018-05-17T08:09:08.586Z","comments":1,"photos":[],"link":"","_id":"cjha9swh60006fr1wk575i2kd","content":"<h1 id=\"Linux\"><a href=\"#Linux\" class=\"headerlink\" title=\"Linux\"></a>Linux</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">$ netstat -anp | grep <span class=\"string\">\"5000\"</span></span><br><span class=\"line\">//</span><br><span class=\"line\">$ <span class=\"built_in\">kill</span> -9 2553</span><br><span class=\"line\">// </span><br><span class=\"line\">$ nohup <span class=\"built_in\">command</span> &amp;</span><br></pre></td></tr></table></figure>\n<h2 id=\"SS\"><a href=\"#SS\" class=\"headerlink\" title=\"SS\"></a>SS</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ apt-get update</span><br><span class=\"line\">//ss</span><br><span class=\"line\">$ apt-get install python-pip </span><br><span class=\"line\">$ pip install shadowsocks</span><br><span class=\"line\">//ss</span><br><span class=\"line\">$ nohup ssserver -s ip -k  &amp;</span><br></pre></td></tr></table></figure>\n<h2 id=\"MySQL5-7\"><a href=\"#MySQL5-7\" class=\"headerlink\" title=\"MySQL5.7\"></a>MySQL5.7</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://tecadmin.net/install-mysql-5-on-ubuntu/</span><br><span class=\"line\"></span><br><span class=\"line\">$ sudo apt-get install software-properties-common</span><br><span class=\"line\">$ sudo add-apt-repository -y ppa:ondrej/mysql-5.7</span><br><span class=\"line\">$ sudo apt-get update</span><br><span class=\"line\">$ sudo apt-get install mysql-server</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">/etc/mysql/my.cnf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">bind</span>-address\t\t= 0.0.0.0</span><br><span class=\"line\"></span><br><span class=\"line\">//MySQL</span><br><span class=\"line\">$ /etc/init.d/mysql restart</span><br></pre></td></tr></table></figure>\n<h2 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">grant all privileges  on *.* to root@<span class=\"string\">'%'</span> identified by <span class=\"string\">\"root\"</span>;</span><br><span class=\"line\">//</span><br><span class=\"line\">flush privileges;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">grant select,insert,update,delete,create,drop on  to joe@10.163.225.87 identified by 123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">grant all  on xxxDB.* to xxx@<span class=\"string\">'%'</span>;</span><br></pre></td></tr></table></figure>\n<h2 id=\"MySQLChecking-for-tables-which-need-an-upgrade-are-corrupt-or-were-not-closed-cleanly\"><a href=\"#MySQLChecking-for-tables-which-need-an-upgrade-are-corrupt-or-were-not-closed-cleanly\" class=\"headerlink\" title=\"MySQLChecking for tables which need an upgrade, are corrupt or were not closed cleanly\"></a>MySQLChecking for tables which need an upgrade, are corrupt or were not closed cleanly</h2><p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo service mysql stop </span><br><span class=\"line\">$ sudo /etc/init.d/apparmor reload</span><br><span class=\"line\">$ sudo service mysql start</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">down vote</span><br><span class=\"line\">This error occurs due to multiple installations of mysql. Run the <span class=\"built_in\">command</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">$ ps -A|grep mysql</span><br><span class=\"line\">Kill the process by using:</span><br><span class=\"line\"></span><br><span class=\"line\">$ sudo pkill mysql</span><br><span class=\"line\">and <span class=\"keyword\">then</span> run <span class=\"built_in\">command</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">$ ps -A|grep mysqld</span><br><span class=\"line\">Also Kill this process by running:</span><br><span class=\"line\"></span><br><span class=\"line\">$ sudo pkill mysqld</span><br><span class=\"line\">Now you are fully <span class=\"built_in\">set</span> just run the following commands:</span><br><span class=\"line\"></span><br><span class=\"line\">$ service mysql restart</span><br><span class=\"line\">mysql -u root -p</span><br></pre></td></tr></table></figure>\n<h2 id=\"7z\"><a href=\"#7z\" class=\"headerlink\" title=\"7z\"></a>7z</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">$ 7z a -t7z -r manager.7z /home/manager/*</span><br><span class=\"line\">//</span><br><span class=\"line\">$ 7z X xx.zip</span><br></pre></td></tr></table></figure>\n<h2 id=\"-root\"><a href=\"#-root\" class=\"headerlink\" title=\",root\"></a>,root</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo passwd root</span><br><span class=\"line\"></span><br><span class=\"line\">$ sudo vi /etc/ssh/sshd_config</span><br><span class=\"line\"></span><br><span class=\"line\">$ sudo service ssh  restart</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">$ ls /etc/rc*</span><br><span class=\"line\">//sysv-rc-conf</span><br><span class=\"line\">$ sudo apt-get install sysv-rc-conf</span><br><span class=\"line\">$ sudo sysv-rc-conf</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"Linux\"><a href=\"#Linux\" class=\"headerlink\" title=\"Linux\"></a>Linux</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">$ netstat -anp | grep <span class=\"string\">\"5000\"</span></span><br><span class=\"line\">//</span><br><span class=\"line\">$ <span class=\"built_in\">kill</span> -9 2553</span><br><span class=\"line\">// </span><br><span class=\"line\">$ nohup <span class=\"built_in\">command</span> &amp;</span><br></pre></td></tr></table></figure>\n<h2 id=\"SS\"><a href=\"#SS\" class=\"headerlink\" title=\"SS\"></a>SS</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ apt-get update</span><br><span class=\"line\">//ss</span><br><span class=\"line\">$ apt-get install python-pip </span><br><span class=\"line\">$ pip install shadowsocks</span><br><span class=\"line\">//ss</span><br><span class=\"line\">$ nohup ssserver -s ip -k  &amp;</span><br></pre></td></tr></table></figure>\n<h2 id=\"MySQL5-7\"><a href=\"#MySQL5-7\" class=\"headerlink\" title=\"MySQL5.7\"></a>MySQL5.7</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://tecadmin.net/install-mysql-5-on-ubuntu/</span><br><span class=\"line\"></span><br><span class=\"line\">$ sudo apt-get install software-properties-common</span><br><span class=\"line\">$ sudo add-apt-repository -y ppa:ondrej/mysql-5.7</span><br><span class=\"line\">$ sudo apt-get update</span><br><span class=\"line\">$ sudo apt-get install mysql-server</span><br><span class=\"line\"></span><br><span class=\"line\">//</span><br><span class=\"line\">/etc/mysql/my.cnf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">bind</span>-address\t\t= 0.0.0.0</span><br><span class=\"line\"></span><br><span class=\"line\">//MySQL</span><br><span class=\"line\">$ /etc/init.d/mysql restart</span><br></pre></td></tr></table></figure>\n<h2 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">grant all privileges  on *.* to root@<span class=\"string\">'%'</span> identified by <span class=\"string\">\"root\"</span>;</span><br><span class=\"line\">//</span><br><span class=\"line\">flush privileges;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">grant select,insert,update,delete,create,drop on  to joe@10.163.225.87 identified by 123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">grant all  on xxxDB.* to xxx@<span class=\"string\">'%'</span>;</span><br></pre></td></tr></table></figure>\n<h2 id=\"MySQLChecking-for-tables-which-need-an-upgrade-are-corrupt-or-were-not-closed-cleanly\"><a href=\"#MySQLChecking-for-tables-which-need-an-upgrade-are-corrupt-or-were-not-closed-cleanly\" class=\"headerlink\" title=\"MySQLChecking for tables which need an upgrade, are corrupt or were not closed cleanly\"></a>MySQLChecking for tables which need an upgrade, are corrupt or were not closed cleanly</h2><p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo service mysql stop </span><br><span class=\"line\">$ sudo /etc/init.d/apparmor reload</span><br><span class=\"line\">$ sudo service mysql start</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">down vote</span><br><span class=\"line\">This error occurs due to multiple installations of mysql. Run the <span class=\"built_in\">command</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">$ ps -A|grep mysql</span><br><span class=\"line\">Kill the process by using:</span><br><span class=\"line\"></span><br><span class=\"line\">$ sudo pkill mysql</span><br><span class=\"line\">and <span class=\"keyword\">then</span> run <span class=\"built_in\">command</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">$ ps -A|grep mysqld</span><br><span class=\"line\">Also Kill this process by running:</span><br><span class=\"line\"></span><br><span class=\"line\">$ sudo pkill mysqld</span><br><span class=\"line\">Now you are fully <span class=\"built_in\">set</span> just run the following commands:</span><br><span class=\"line\"></span><br><span class=\"line\">$ service mysql restart</span><br><span class=\"line\">mysql -u root -p</span><br></pre></td></tr></table></figure>\n<h2 id=\"7z\"><a href=\"#7z\" class=\"headerlink\" title=\"7z\"></a>7z</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">$ 7z a -t7z -r manager.7z /home/manager/*</span><br><span class=\"line\">//</span><br><span class=\"line\">$ 7z X xx.zip</span><br></pre></td></tr></table></figure>\n<h2 id=\"-root\"><a href=\"#-root\" class=\"headerlink\" title=\",root\"></a>,root</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ sudo passwd root</span><br><span class=\"line\"></span><br><span class=\"line\">$ sudo vi /etc/ssh/sshd_config</span><br><span class=\"line\"></span><br><span class=\"line\">$ sudo service ssh  restart</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">$ ls /etc/rc*</span><br><span class=\"line\">//sysv-rc-conf</span><br><span class=\"line\">$ sudo apt-get install sysv-rc-conf</span><br><span class=\"line\">$ sudo sysv-rc-conf</span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"","_content":"# \n\n## [Markdown  ()](http://wowubuntu.com/markdown/)\n\n## [Markdown: Basics ](http://wowubuntu.com/markdown/basic.html)\n\n## [GitHubHexoBlog()](http://wsgzao.github.io/post/hexo-guide/)\n\n###Hexo\n\n```sh\nnpm install hexo-cli -g\nnpm install hexo --save\n\n#taobaonpm\nnpm install -g cnpm --registry=https://registry.npm.taobao.org\n```\n\n### Hexo\n\n```sh\nnpm install hexo-generator-index --save\nnpm install hexo-generator-archive --save\nnpm install hexo-generator-category --save\nnpm install hexo-generator-tag --save\nnpm install hexo-server --save\nnpm install hexo-deployer-git --save\nnpm install hexo-deployer-heroku --save\nnpm install hexo-deployer-rsync --save\nnpm install hexo-deployer-openshift --save\nnpm install hexo-renderer-marked@0.2 --save\nnpm install hexo-renderer-stylus@0.2 --save\nnpm install hexo-generator-feed@1 --save\nnpm install hexo-generator-sitemap@1 --save\n\n```\n\n## [wingitFIlename too long](https://www.mxgw.info/t/filename-too-long-in-git.html)\n\n```sh\ngit config --global core.longpaths true\n```\n\n## [git-ssh ](https://segmentfault.com/a/1190000002645623)\n","source":"_posts/.md","raw":"---\nlayout: post\ntitle: \ncategory: memorandum\n---\n# \n\n## [Markdown  ()](http://wowubuntu.com/markdown/)\n\n## [Markdown: Basics ](http://wowubuntu.com/markdown/basic.html)\n\n## [GitHubHexoBlog()](http://wsgzao.github.io/post/hexo-guide/)\n\n###Hexo\n\n```sh\nnpm install hexo-cli -g\nnpm install hexo --save\n\n#taobaonpm\nnpm install -g cnpm --registry=https://registry.npm.taobao.org\n```\n\n### Hexo\n\n```sh\nnpm install hexo-generator-index --save\nnpm install hexo-generator-archive --save\nnpm install hexo-generator-category --save\nnpm install hexo-generator-tag --save\nnpm install hexo-server --save\nnpm install hexo-deployer-git --save\nnpm install hexo-deployer-heroku --save\nnpm install hexo-deployer-rsync --save\nnpm install hexo-deployer-openshift --save\nnpm install hexo-renderer-marked@0.2 --save\nnpm install hexo-renderer-stylus@0.2 --save\nnpm install hexo-generator-feed@1 --save\nnpm install hexo-generator-sitemap@1 --save\n\n```\n\n## [wingitFIlename too long](https://www.mxgw.info/t/filename-too-long-in-git.html)\n\n```sh\ngit config --global core.longpaths true\n```\n\n## [git-ssh ](https://segmentfault.com/a/1190000002645623)\n","slug":"","published":1,"date":"2016-10-15T06:08:53.000Z","updated":"2018-05-17T07:59:54.948Z","comments":1,"photos":[],"link":"","_id":"cjha9swh80008fr1wof7myhs8","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"Markdown--\"><a href=\"#Markdown--\" class=\"headerlink\" title=\"Markdown  ()\"></a><a href=\"http://wowubuntu.com/markdown/\" target=\"_blank\" rel=\"noopener\">Markdown  ()</a></h2><h2 id=\"Markdown-Basics-\"><a href=\"#Markdown-Basics-\" class=\"headerlink\" title=\"Markdown: Basics \"></a><a href=\"http://wowubuntu.com/markdown/basic.html\" target=\"_blank\" rel=\"noopener\">Markdown: Basics </a></h2><h2 id=\"GitHubHexoBlog-\"><a href=\"#GitHubHexoBlog-\" class=\"headerlink\" title=\"GitHubHexoBlog()\"></a><a href=\"http://wsgzao.github.io/post/hexo-guide/\" target=\"_blank\" rel=\"noopener\">GitHubHexoBlog()</a></h2><p>###Hexo</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-cli -g</span><br><span class=\"line\">npm install hexo --save</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#taobaonpm</span></span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>\n<h3 id=\"Hexo\"><a href=\"#Hexo\" class=\"headerlink\" title=\"Hexo\"></a>Hexo</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-index --save</span><br><span class=\"line\">npm install hexo-generator-archive --save</span><br><span class=\"line\">npm install hexo-generator-category --save</span><br><span class=\"line\">npm install hexo-generator-tag --save</span><br><span class=\"line\">npm install hexo-server --save</span><br><span class=\"line\">npm install hexo-deployer-git --save</span><br><span class=\"line\">npm install hexo-deployer-heroku --save</span><br><span class=\"line\">npm install hexo-deployer-rsync --save</span><br><span class=\"line\">npm install hexo-deployer-openshift --save</span><br><span class=\"line\">npm install hexo-renderer-marked@0.2 --save</span><br><span class=\"line\">npm install hexo-renderer-stylus@0.2 --save</span><br><span class=\"line\">npm install hexo-generator-feed@1 --save</span><br><span class=\"line\">npm install hexo-generator-sitemap@1 --save</span><br></pre></td></tr></table></figure>\n<h2 id=\"wingitFIlename-too-long\"><a href=\"#wingitFIlename-too-long\" class=\"headerlink\" title=\"wingitFIlename too long\"></a><a href=\"https://www.mxgw.info/t/filename-too-long-in-git.html\" target=\"_blank\" rel=\"noopener\">wingitFIlename too long</a></h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global core.longpaths <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"git-ssh-\"><a href=\"#git-ssh-\" class=\"headerlink\" title=\"git-ssh \"></a><a href=\"https://segmentfault.com/a/1190000002645623\" target=\"_blank\" rel=\"noopener\">git-ssh </a></h2>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"Markdown--\"><a href=\"#Markdown--\" class=\"headerlink\" title=\"Markdown  ()\"></a><a href=\"http://wowubuntu.com/markdown/\" target=\"_blank\" rel=\"noopener\">Markdown  ()</a></h2><h2 id=\"Markdown-Basics-\"><a href=\"#Markdown-Basics-\" class=\"headerlink\" title=\"Markdown: Basics \"></a><a href=\"http://wowubuntu.com/markdown/basic.html\" target=\"_blank\" rel=\"noopener\">Markdown: Basics </a></h2><h2 id=\"GitHubHexoBlog-\"><a href=\"#GitHubHexoBlog-\" class=\"headerlink\" title=\"GitHubHexoBlog()\"></a><a href=\"http://wsgzao.github.io/post/hexo-guide/\" target=\"_blank\" rel=\"noopener\">GitHubHexoBlog()</a></h2><p>###Hexo</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-cli -g</span><br><span class=\"line\">npm install hexo --save</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#taobaonpm</span></span><br><span class=\"line\">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>\n<h3 id=\"Hexo\"><a href=\"#Hexo\" class=\"headerlink\" title=\"Hexo\"></a>Hexo</h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-index --save</span><br><span class=\"line\">npm install hexo-generator-archive --save</span><br><span class=\"line\">npm install hexo-generator-category --save</span><br><span class=\"line\">npm install hexo-generator-tag --save</span><br><span class=\"line\">npm install hexo-server --save</span><br><span class=\"line\">npm install hexo-deployer-git --save</span><br><span class=\"line\">npm install hexo-deployer-heroku --save</span><br><span class=\"line\">npm install hexo-deployer-rsync --save</span><br><span class=\"line\">npm install hexo-deployer-openshift --save</span><br><span class=\"line\">npm install hexo-renderer-marked@0.2 --save</span><br><span class=\"line\">npm install hexo-renderer-stylus@0.2 --save</span><br><span class=\"line\">npm install hexo-generator-feed@1 --save</span><br><span class=\"line\">npm install hexo-generator-sitemap@1 --save</span><br></pre></td></tr></table></figure>\n<h2 id=\"wingitFIlename-too-long\"><a href=\"#wingitFIlename-too-long\" class=\"headerlink\" title=\"wingitFIlename too long\"></a><a href=\"https://www.mxgw.info/t/filename-too-long-in-git.html\" target=\"_blank\" rel=\"noopener\">wingitFIlename too long</a></h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global core.longpaths <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"git-ssh-\"><a href=\"#git-ssh-\" class=\"headerlink\" title=\"git-ssh \"></a><a href=\"https://segmentfault.com/a/1190000002645623\" target=\"_blank\" rel=\"noopener\">git-ssh </a></h2>"},{"layout":"post","title":"byte to string","_content":"\nAES256bytestring\n\nC#ByteStringConvert.ToBase64()\n\n\n\n```csharp\n    public string BytesToString(byte[] buff)\n    {\n       return Convert.ToBase64String(buff);\n    }\n\n    public byte[] StringToBytes(string input)\n    {\n        return Encoding.UTF8.GetBytes(input);\n    }\n```\n\n URL+%URL\n\n \n\n1. [URL](http://www.ruanyifeng.com/blog/2010/02/url_encoding.html)\n2. [URL----url+=%&#](http://blog.csdn.net/luo_deng/article/details/12186535)\n \n \n C#HttpUtility.UrlEncode(input)HttpUtility.UrlEncode(input)URL\n EncodeDecode\n\n\nURLURLDecode\nDecode,\n\nencodedecode...\n....\n\n\n\n\nConvert.ToBase64String()\n/CTObug....\n\nCTObyte25516\n\n\n```csharp\n\t/// <summary>\n\t/// bytestring\n\t/// </summary>\n\t/// <param name=\"bytes\"></param>\n\t/// <returns></returns>\n\tprivate static string BytesToString(byte[] bytes)\n\t{\n\t    if (bytes == null)\n\t        return string.Empty;\n\t   return string.Join(string.Empty, \n\t   bytes.Select(b => string.Format(\"{0:x2}\", b)).ToArray());\n\t}\n\t\n\t/// <summary>\n\t/// stringbyte\n\t/// </summary>\n\t/// <param name=\"str\"></param>\n\t/// <returns></returns>\n\tprivate static byte[] StringToBytes(string str)\n\t{\n\t    if (string.IsNullOrEmpty(str))\n\t        return null;\n\t    byte[] bytes = new byte[str.Length / 2];\n\t    for (int i = 0; i < str.Length; i += 2)\n\t    {\n\t        bytes[i / 2] = Convert.ToByte(\"0x\" + str[i] + str[i + 1], 16);\n\t    }\n\t    return bytes;\n\t}\n```\n\n","source":"_posts/Bytes -To-String.md","raw":"---\nlayout: post\ntitle: byte to string\ncategory: dotnet\n---\n\nAES256bytestring\n\nC#ByteStringConvert.ToBase64()\n\n\n\n```csharp\n    public string BytesToString(byte[] buff)\n    {\n       return Convert.ToBase64String(buff);\n    }\n\n    public byte[] StringToBytes(string input)\n    {\n        return Encoding.UTF8.GetBytes(input);\n    }\n```\n\n URL+%URL\n\n \n\n1. [URL](http://www.ruanyifeng.com/blog/2010/02/url_encoding.html)\n2. [URL----url+=%&#](http://blog.csdn.net/luo_deng/article/details/12186535)\n \n \n C#HttpUtility.UrlEncode(input)HttpUtility.UrlEncode(input)URL\n EncodeDecode\n\n\nURLURLDecode\nDecode,\n\nencodedecode...\n....\n\n\n\n\nConvert.ToBase64String()\n/CTObug....\n\nCTObyte25516\n\n\n```csharp\n\t/// <summary>\n\t/// bytestring\n\t/// </summary>\n\t/// <param name=\"bytes\"></param>\n\t/// <returns></returns>\n\tprivate static string BytesToString(byte[] bytes)\n\t{\n\t    if (bytes == null)\n\t        return string.Empty;\n\t   return string.Join(string.Empty, \n\t   bytes.Select(b => string.Format(\"{0:x2}\", b)).ToArray());\n\t}\n\t\n\t/// <summary>\n\t/// stringbyte\n\t/// </summary>\n\t/// <param name=\"str\"></param>\n\t/// <returns></returns>\n\tprivate static byte[] StringToBytes(string str)\n\t{\n\t    if (string.IsNullOrEmpty(str))\n\t        return null;\n\t    byte[] bytes = new byte[str.Length / 2];\n\t    for (int i = 0; i < str.Length; i += 2)\n\t    {\n\t        bytes[i / 2] = Convert.ToByte(\"0x\" + str[i] + str[i + 1], 16);\n\t    }\n\t    return bytes;\n\t}\n```\n\n","slug":"Bytes -To-String","published":1,"date":"2016-03-03T14:28:01.000Z","updated":"2018-05-17T08:06:48.410Z","comments":1,"photos":[],"link":"","_id":"cjha9u0d60000gr1wg0ore55b","content":"<p>AES256bytestring</p>\n<p>C#ByteStringConvert.ToBase64()</p>\n<p></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">BytesToString</span>(<span class=\"params\"><span class=\"keyword\">byte</span>[] buff</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> Convert.ToBase64String(buff);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">byte</span>[] <span class=\"title\">StringToBytes</span>(<span class=\"params\"><span class=\"keyword\">string</span> input</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> Encoding.UTF8.GetBytes(input);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> URL+%URL</p>\n<p> </p>\n<ol>\n<li><a href=\"http://www.ruanyifeng.com/blog/2010/02/url_encoding.html\" target=\"_blank\" rel=\"noopener\">URL</a></li>\n<li><a href=\"http://blog.csdn.net/luo_deng/article/details/12186535\" target=\"_blank\" rel=\"noopener\">URL-url+=%&amp;#</a></li>\n</ol>\n<p> C#HttpUtility.UrlEncode(input)HttpUtility.UrlEncode(input)URL<br> EncodeDecode</p>\n<p>URLURLDecode<br>Decode,</p>\n<p>encodedecode<br>.</p>\n<p><br>Convert.ToBase64String()<br>/CTObug.</p>\n<p>CTObyte25516<br></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> bytestring</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"bytes\"&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> <span class=\"title\">BytesToString</span>(<span class=\"params\"><span class=\"keyword\">byte</span>[] bytes</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (bytes == <span class=\"literal\">null</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.Join(<span class=\"keyword\">string</span>.Empty, </span><br><span class=\"line\">   bytes.Select(b =&gt; <span class=\"keyword\">string</span>.Format(<span class=\"string\">\"&#123;0:x2&#125;\"</span>, b)).ToArray());</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> stringbyte</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"str\"&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">byte</span>[] <span class=\"title\">StringToBytes</span>(<span class=\"params\"><span class=\"keyword\">string</span> str</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(str))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">byte</span>[] bytes = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[str.Length / <span class=\"number\">2</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; str.Length; i += <span class=\"number\">2</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        bytes[i / <span class=\"number\">2</span>] = Convert.ToByte(<span class=\"string\">\"0x\"</span> + str[i] + str[i + <span class=\"number\">1</span>], <span class=\"number\">16</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> bytes;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p>AES256bytestring</p>\n<p>C#ByteStringConvert.ToBase64()</p>\n<p></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">string</span> <span class=\"title\">BytesToString</span>(<span class=\"params\"><span class=\"keyword\">byte</span>[] buff</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> Convert.ToBase64String(buff);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">byte</span>[] <span class=\"title\">StringToBytes</span>(<span class=\"params\"><span class=\"keyword\">string</span> input</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> Encoding.UTF8.GetBytes(input);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p> URL+%URL</p>\n<p> </p>\n<ol>\n<li><a href=\"http://www.ruanyifeng.com/blog/2010/02/url_encoding.html\" target=\"_blank\" rel=\"noopener\">URL</a></li>\n<li><a href=\"http://blog.csdn.net/luo_deng/article/details/12186535\" target=\"_blank\" rel=\"noopener\">URL-url+=%&amp;#</a></li>\n</ol>\n<p> C#HttpUtility.UrlEncode(input)HttpUtility.UrlEncode(input)URL<br> EncodeDecode</p>\n<p>URLURLDecode<br>Decode,</p>\n<p>encodedecode<br>.</p>\n<p><br>Convert.ToBase64String()<br>/CTObug.</p>\n<p>CTObyte25516<br></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> bytestring</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"bytes\"&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> <span class=\"title\">BytesToString</span>(<span class=\"params\"><span class=\"keyword\">byte</span>[] bytes</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (bytes == <span class=\"literal\">null</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.Join(<span class=\"keyword\">string</span>.Empty, </span><br><span class=\"line\">   bytes.Select(b =&gt; <span class=\"keyword\">string</span>.Format(<span class=\"string\">\"&#123;0:x2&#125;\"</span>, b)).ToArray());</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> stringbyte</span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"str\"&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">byte</span>[] <span class=\"title\">StringToBytes</span>(<span class=\"params\"><span class=\"keyword\">string</span> str</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(str))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"keyword\">byte</span>[] bytes = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[str.Length / <span class=\"number\">2</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; str.Length; i += <span class=\"number\">2</span>)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        bytes[i / <span class=\"number\">2</span>] = Convert.ToByte(<span class=\"string\">\"0x\"</span> + str[i] + str[i + <span class=\"number\">1</span>], <span class=\"number\">16</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> bytes;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n"},{"layout":"post","title":"C#-58","_content":"\n\n[API+Python](https://zhuanlan.zhihu.com/p/21883516)\n[API+Python](https://www.shiyanlou.com/courses/599)\n\n\n\n:python;\n\n\n\n\n\n...\n\npythonJS...\n\npython\n\n```python\n\n#-*- coding:utf-8 -*-\nfrom bs4 import BeautifulSoup\nfrom urlparse import urljoin\nimport requests\nimport csv\n\nurl = \"http://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000\"\n\n#0\npage = 0\n\ncsv_file = open(\"rent.csv\",\"wb\") \ncsv_writer = csv.writer(csv_file, delimiter=',')\n\nwhile True:\n    page += 1\n    print \"fetch: \", url.format(page=page)\n    response = requests.get(url.format(page=page))\n    html = BeautifulSoup(response.text)\n    house_list = html.select(\".list > li\")\n\n    # \n    if not house_list:\n        break\n\n    for house in house_list:\n        house_title = house.select(\"h2\")[0].string.encode(\"utf8\")\n        house_url = urljoin(url, house.select(\"a\")[0][\"href\"])\n        house_info_list = house_title.split()\n\n        # \n        if \"\" in house_info_list[1] or \"\" in house_info_list[1]:\n            house_location = house_info_list[0]\n        else:\n            house_location = house_info_list[1]\n\n        house_money = house.select(\".money\")[0].select(\"b\")[0].string.encode(\"utf8\")\n        csv_writer.writerow([house_title, house_location, house_money, house_url])\n\ncsv_file.close()\n\n```\nhttp://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000csv\nhttp://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000li\n\n\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/685849af-2ccc-4454-a26e-e2a1c3001378)\n\n![](http://7xread.com1.z0.glb.clouddn.com/909df442-b1d9-4073-84d0-99a5b3cc9022)\n\n#### li\n\n```html\n<li logr=\"\" class=\"\">\n  <a href=\"/pinpaigongyu/26851774057013x.shtml\"\n  target=\"_blank\" onclick=\"clickLog('from=fcpc_list_gy_sh_tupian')\" \n  tongji_label=\"listclick\">\n    <div class=\"img\">\n     <img lazy_src=\"\" alt=\"\" src=\"\">\n    </div>\n        <div class=\"des\">\n            <h2>  3</h2>\n            <p class=\"room\">\n            311&nbsp; &nbsp; 13m&nbsp;&nbsp; 3/6&nbsp; </p>\n            <p class=\"dist\"></p>\n            <p class=\"spec\">\n            <span class=\"spec1\"></span>\n            <span class=\"spec2\"></span>\n            <span class=\"spec3\"></span>\n            <span class=\"spec4\"></span>\n            </p>\n        </div>\n        <div class=\"money\">\n            <span><b>1100</b>/ </span>\n         <p></p>\n        </div>\n  </a>\n</li>\n```\n\npythonli\n\ntongji_label=\"listclick\"a\n\nHtmlAgilityPack\nHtmlAgilityPack[HtmlAgilityPack](http://htmlagilitypack.codeplex.com/)\n\nHtmlAgilityPack.NETHTMLJSHTML\nNuget PM\n\n```csharp\nInstall-Package HtmlAgilityPack\n\n```\n\n[Html Agility Pack](http://www.cnblogs.com/ITmuse/archive/2010/05/29/1747199.html)\n\ncontroller\n\n```csharp\n /// </summary>\n /// <param name=\"costFrom\"></param>\n /// <param name=\"costTo\"></param>\n /// <param name=\"cnName\"></param>\n /// <returns></returns>\n public ActionResult Get58CityRoomData(int costFrom, int costTo, string cnName)\n        {\n            if (costTo<=0 || costTo < costFrom)\n            {\n                return Json(new { IsSuccess = false, Error = \"\" });\n            }\n\n            if (string.IsNullOrEmpty(cnName))\n            {\n                return Json(new { IsSuccess = false, \n                Error = \"\" });\n            }\n\n            try\n            {\n                var lstHouse = new List<HouseInfo>();\n\n                string tempURL = \"http://\" + \n                cnName + \".58.com/pinpaigongyu//pn/{0}/?minprice=\"\n                + costFrom + \"_\" + costTo;\n\n                Uri uri = new Uri(tempURL);\n\n                var htmlResult = HTTPHelper.GetHTMLByURL(string.Format(tempURL, 1));\n\n                HtmlDocument htmlDoc = new HtmlDocument();\n                htmlDoc.LoadHtml(htmlResult);\n\n                var countNodes = htmlDoc.DocumentNode.\n                SelectSingleNode(\".//span[contains(@class,'list')]\");\n                int pageCount = 10;\n\n                if (countNodes != null && countNodes.HasChildNodes)\n                {\n                    pageCount = Convert.ToInt32(countNodes.ChildNodes[0].InnerText) / 20;\n\n                    if(pageCount==0)\n                    {\n                        return Json(new { IsSuccess = false, \n                        Error =string.Format(\"{0} - {1}\",\n                        costFrom,costTo)});\n                    }\n                }\n                for (int pageIndex = 1; pageIndex <= pageCount; pageIndex++)\n                {\n                    htmlResult = HTTPHelper.GetHTMLByURL(string.Format(tempURL, pageIndex));\n                    htmlDoc.LoadHtml(htmlResult);\n                    var roomList = htmlDoc.DocumentNode\n                    .SelectNodes(\".//a[contains(@tongji_label,'listclick')]\");\n                    foreach (var room in roomList)\n                    {\n                        var houseTitle = room.SelectSingleNode(\".//h2\").InnerHtml;\n                        var houseURL = uri.Host + room.Attributes[\"href\"].Value;\n                        var house_info_list = houseTitle.Split(' ');\n                        var house_location = string.Empty;\n                        if (house_info_list[1].Contains(\"\") \n                        || house_info_list[1].Contains(\"\"))\n                        {\n                            house_location = house_info_list[0];\n                        }\n                        else\n                        {\n                            house_location = house_info_list[1];\n                        }\n                        var momey = room.SelectSingleNode(\".//b\").InnerHtml;\n\n                        lstHouse.Add(new HouseInfo()\n                        {\n                            HouseTitle = houseTitle,\n                            HouseLocation = house_location,\n                            HouseURL = houseURL,\n                            Money = momey,\n                        });\n                    }\n                }\n\n                return Json(new { IsSuccess = true, HouseInfos = lstHouse });\n            }\n            catch (Exception ex)\n            {\n                return Json(new { IsSuccess = false,\n                Error = \"\" + ex.ToString() });\n            }\n        }\n```\n\n\n\n\n\n58\n\n```html\n <span class=\"listsum\"><em>1813</em></span>\n```\n\n=/20\n\n\n\n```\nvar countNodes = htmlDoc.DocumentNode.\nSelectSingleNode(\".//span[contains(@class,'list')]\");\nint pageCount = 10;\n\nif (countNodes != null && countNodes.HasChildNodes)\n{\n    pageCount = Convert.ToInt32(countNodes.ChildNodes[0].InnerText) / 20;\n\n    if(pageCount==0)\n    {\n        return Json(new { IsSuccess = false, \n        Error =string.Format(\"{0} - {1}\",\n        costFrom,costTo)});\n    }\n}\n\n```\n\nHTMLDocspanclasslistem20\n\nliaa\n\ntongji_label=\"listclick\"a\n\na\n\n```html\n\n <a href=\"/pinpaigongyu/26851774057013x.shtml\"\n  target=\"_blank\" onclick=\"clickLog('from=fcpc_list_gy_sh_tupian')\" \n  tongji_label=\"listclick\">\n    <div class=\"img\">\n     <img lazy_src=\"\" alt=\"\" src=\"\">\n    </div>\n        <div class=\"des\">\n            <h2>  3</h2>\n            <p class=\"room\">\n            311&nbsp; &nbsp; 13m&nbsp;&nbsp; 3/6&nbsp; </p>\n            <p class=\"dist\"></p>\n            <p class=\"spec\">\n            <span class=\"spec1\"></span>\n            <span class=\"spec2\"></span>\n            <span class=\"spec3\"></span>\n            <span class=\"spec4\"></span>\n            </p>\n        </div>\n        <div class=\"money\">\n            <span><b>1100</b>/ </span>\n         <p></p>\n        </div>\n  </a>\n```\n\nh2class=\"money\"div\n\n\n\n```csharp\n\n for (int pageIndex = 1; pageIndex <= pageCount; pageIndex++)\n{\n    htmlResult = HTTPHelper.GetHTMLByURL(string.Format(tempURL, pageIndex));\n    htmlDoc.LoadHtml(htmlResult);\n    //tongji_label=\"listclick\"a\n    var roomList = htmlDoc.DocumentNode.SelectNodes(\".//a[contains(@tongji_label,'listclick')]\");\n    foreach (var room in roomList)\n    {\n        //h2\n        var houseTitle = room.SelectSingleNode(\".//h2\").InnerHtml;\n        var houseURL = uri.Host + room.Attributes[\"href\"].Value;\n        var house_info_list = houseTitle.Split(' ');\n        var house_location = string.Empty;\n        //\n        //  3 \n        // \n        if (house_info_list[1].Contains(\"\") || house_info_list[1].Contains(\"\"))\n        {\n            house_location = house_info_list[0];\n        }\n        else\n        {\n            house_location = house_info_list[1];\n        }\n        //b\n        var momey = room.SelectSingleNode(\".//b\").InnerHtml;\n\n        lstHouse.Add(new HouseInfo()\n        {\n            HouseTitle = houseTitle,\n            HouseLocation = house_location,\n            HouseURL = houseURL,\n            Money = momey,\n        });\n    }\n}\n\n```\n\n\n\n...\n\n^-^\n\n\n[https://github.com/liguobao/58HouseSearch](https://github.com/liguobao/58HouseSearch)\n\n[58()https://woyaozufang.live](https://woyaozufang.live)\n","source":"_posts/C#-58CityHouse-Crawler.md","raw":"---\nlayout: post\ntitle: C#-58\ncategory: dotnet core\n---\n\n\n[API+Python](https://zhuanlan.zhihu.com/p/21883516)\n[API+Python](https://www.shiyanlou.com/courses/599)\n\n\n\n:python;\n\n\n\n\n\n...\n\npythonJS...\n\npython\n\n```python\n\n#-*- coding:utf-8 -*-\nfrom bs4 import BeautifulSoup\nfrom urlparse import urljoin\nimport requests\nimport csv\n\nurl = \"http://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000\"\n\n#0\npage = 0\n\ncsv_file = open(\"rent.csv\",\"wb\") \ncsv_writer = csv.writer(csv_file, delimiter=',')\n\nwhile True:\n    page += 1\n    print \"fetch: \", url.format(page=page)\n    response = requests.get(url.format(page=page))\n    html = BeautifulSoup(response.text)\n    house_list = html.select(\".list > li\")\n\n    # \n    if not house_list:\n        break\n\n    for house in house_list:\n        house_title = house.select(\"h2\")[0].string.encode(\"utf8\")\n        house_url = urljoin(url, house.select(\"a\")[0][\"href\"])\n        house_info_list = house_title.split()\n\n        # \n        if \"\" in house_info_list[1] or \"\" in house_info_list[1]:\n            house_location = house_info_list[0]\n        else:\n            house_location = house_info_list[1]\n\n        house_money = house.select(\".money\")[0].select(\"b\")[0].string.encode(\"utf8\")\n        csv_writer.writerow([house_title, house_location, house_money, house_url])\n\ncsv_file.close()\n\n```\nhttp://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000csv\nhttp://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000li\n\n\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/685849af-2ccc-4454-a26e-e2a1c3001378)\n\n![](http://7xread.com1.z0.glb.clouddn.com/909df442-b1d9-4073-84d0-99a5b3cc9022)\n\n#### li\n\n```html\n<li logr=\"\" class=\"\">\n  <a href=\"/pinpaigongyu/26851774057013x.shtml\"\n  target=\"_blank\" onclick=\"clickLog('from=fcpc_list_gy_sh_tupian')\" \n  tongji_label=\"listclick\">\n    <div class=\"img\">\n     <img lazy_src=\"\" alt=\"\" src=\"\">\n    </div>\n        <div class=\"des\">\n            <h2>  3</h2>\n            <p class=\"room\">\n            311&nbsp; &nbsp; 13m&nbsp;&nbsp; 3/6&nbsp; </p>\n            <p class=\"dist\"></p>\n            <p class=\"spec\">\n            <span class=\"spec1\"></span>\n            <span class=\"spec2\"></span>\n            <span class=\"spec3\"></span>\n            <span class=\"spec4\"></span>\n            </p>\n        </div>\n        <div class=\"money\">\n            <span><b>1100</b>/ </span>\n         <p></p>\n        </div>\n  </a>\n</li>\n```\n\npythonli\n\ntongji_label=\"listclick\"a\n\nHtmlAgilityPack\nHtmlAgilityPack[HtmlAgilityPack](http://htmlagilitypack.codeplex.com/)\n\nHtmlAgilityPack.NETHTMLJSHTML\nNuget PM\n\n```csharp\nInstall-Package HtmlAgilityPack\n\n```\n\n[Html Agility Pack](http://www.cnblogs.com/ITmuse/archive/2010/05/29/1747199.html)\n\ncontroller\n\n```csharp\n /// </summary>\n /// <param name=\"costFrom\"></param>\n /// <param name=\"costTo\"></param>\n /// <param name=\"cnName\"></param>\n /// <returns></returns>\n public ActionResult Get58CityRoomData(int costFrom, int costTo, string cnName)\n        {\n            if (costTo<=0 || costTo < costFrom)\n            {\n                return Json(new { IsSuccess = false, Error = \"\" });\n            }\n\n            if (string.IsNullOrEmpty(cnName))\n            {\n                return Json(new { IsSuccess = false, \n                Error = \"\" });\n            }\n\n            try\n            {\n                var lstHouse = new List<HouseInfo>();\n\n                string tempURL = \"http://\" + \n                cnName + \".58.com/pinpaigongyu//pn/{0}/?minprice=\"\n                + costFrom + \"_\" + costTo;\n\n                Uri uri = new Uri(tempURL);\n\n                var htmlResult = HTTPHelper.GetHTMLByURL(string.Format(tempURL, 1));\n\n                HtmlDocument htmlDoc = new HtmlDocument();\n                htmlDoc.LoadHtml(htmlResult);\n\n                var countNodes = htmlDoc.DocumentNode.\n                SelectSingleNode(\".//span[contains(@class,'list')]\");\n                int pageCount = 10;\n\n                if (countNodes != null && countNodes.HasChildNodes)\n                {\n                    pageCount = Convert.ToInt32(countNodes.ChildNodes[0].InnerText) / 20;\n\n                    if(pageCount==0)\n                    {\n                        return Json(new { IsSuccess = false, \n                        Error =string.Format(\"{0} - {1}\",\n                        costFrom,costTo)});\n                    }\n                }\n                for (int pageIndex = 1; pageIndex <= pageCount; pageIndex++)\n                {\n                    htmlResult = HTTPHelper.GetHTMLByURL(string.Format(tempURL, pageIndex));\n                    htmlDoc.LoadHtml(htmlResult);\n                    var roomList = htmlDoc.DocumentNode\n                    .SelectNodes(\".//a[contains(@tongji_label,'listclick')]\");\n                    foreach (var room in roomList)\n                    {\n                        var houseTitle = room.SelectSingleNode(\".//h2\").InnerHtml;\n                        var houseURL = uri.Host + room.Attributes[\"href\"].Value;\n                        var house_info_list = houseTitle.Split(' ');\n                        var house_location = string.Empty;\n                        if (house_info_list[1].Contains(\"\") \n                        || house_info_list[1].Contains(\"\"))\n                        {\n                            house_location = house_info_list[0];\n                        }\n                        else\n                        {\n                            house_location = house_info_list[1];\n                        }\n                        var momey = room.SelectSingleNode(\".//b\").InnerHtml;\n\n                        lstHouse.Add(new HouseInfo()\n                        {\n                            HouseTitle = houseTitle,\n                            HouseLocation = house_location,\n                            HouseURL = houseURL,\n                            Money = momey,\n                        });\n                    }\n                }\n\n                return Json(new { IsSuccess = true, HouseInfos = lstHouse });\n            }\n            catch (Exception ex)\n            {\n                return Json(new { IsSuccess = false,\n                Error = \"\" + ex.ToString() });\n            }\n        }\n```\n\n\n\n\n\n58\n\n```html\n <span class=\"listsum\"><em>1813</em></span>\n```\n\n=/20\n\n\n\n```\nvar countNodes = htmlDoc.DocumentNode.\nSelectSingleNode(\".//span[contains(@class,'list')]\");\nint pageCount = 10;\n\nif (countNodes != null && countNodes.HasChildNodes)\n{\n    pageCount = Convert.ToInt32(countNodes.ChildNodes[0].InnerText) / 20;\n\n    if(pageCount==0)\n    {\n        return Json(new { IsSuccess = false, \n        Error =string.Format(\"{0} - {1}\",\n        costFrom,costTo)});\n    }\n}\n\n```\n\nHTMLDocspanclasslistem20\n\nliaa\n\ntongji_label=\"listclick\"a\n\na\n\n```html\n\n <a href=\"/pinpaigongyu/26851774057013x.shtml\"\n  target=\"_blank\" onclick=\"clickLog('from=fcpc_list_gy_sh_tupian')\" \n  tongji_label=\"listclick\">\n    <div class=\"img\">\n     <img lazy_src=\"\" alt=\"\" src=\"\">\n    </div>\n        <div class=\"des\">\n            <h2>  3</h2>\n            <p class=\"room\">\n            311&nbsp; &nbsp; 13m&nbsp;&nbsp; 3/6&nbsp; </p>\n            <p class=\"dist\"></p>\n            <p class=\"spec\">\n            <span class=\"spec1\"></span>\n            <span class=\"spec2\"></span>\n            <span class=\"spec3\"></span>\n            <span class=\"spec4\"></span>\n            </p>\n        </div>\n        <div class=\"money\">\n            <span><b>1100</b>/ </span>\n         <p></p>\n        </div>\n  </a>\n```\n\nh2class=\"money\"div\n\n\n\n```csharp\n\n for (int pageIndex = 1; pageIndex <= pageCount; pageIndex++)\n{\n    htmlResult = HTTPHelper.GetHTMLByURL(string.Format(tempURL, pageIndex));\n    htmlDoc.LoadHtml(htmlResult);\n    //tongji_label=\"listclick\"a\n    var roomList = htmlDoc.DocumentNode.SelectNodes(\".//a[contains(@tongji_label,'listclick')]\");\n    foreach (var room in roomList)\n    {\n        //h2\n        var houseTitle = room.SelectSingleNode(\".//h2\").InnerHtml;\n        var houseURL = uri.Host + room.Attributes[\"href\"].Value;\n        var house_info_list = houseTitle.Split(' ');\n        var house_location = string.Empty;\n        //\n        //  3 \n        // \n        if (house_info_list[1].Contains(\"\") || house_info_list[1].Contains(\"\"))\n        {\n            house_location = house_info_list[0];\n        }\n        else\n        {\n            house_location = house_info_list[1];\n        }\n        //b\n        var momey = room.SelectSingleNode(\".//b\").InnerHtml;\n\n        lstHouse.Add(new HouseInfo()\n        {\n            HouseTitle = houseTitle,\n            HouseLocation = house_location,\n            HouseURL = houseURL,\n            Money = momey,\n        });\n    }\n}\n\n```\n\n\n\n...\n\n^-^\n\n\n[https://github.com/liguobao/58HouseSearch](https://github.com/liguobao/58HouseSearch)\n\n[58()https://woyaozufang.live](https://woyaozufang.live)\n","slug":"C#-58CityHouse-Crawler","published":1,"date":"2016-08-10T14:16:13.000Z","updated":"2018-05-17T08:06:52.127Z","comments":1,"photos":[],"link":"","_id":"cjha9u0de0001gr1wlszh15l5","content":"<p><a href=\"https://zhuanlan.zhihu.com/p/21883516\" target=\"_blank\" rel=\"noopener\">API+Python</a><br><a href=\"https://www.shiyanlou.com/courses/599\" target=\"_blank\" rel=\"noopener\">API+Python</a></p>\n<p></p>\n<p>:python;</p>\n<p></p>\n<p></p>\n<p></p>\n<p>pythonJS</p>\n<p>python</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#-*- coding:utf-8 -*-</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> bs4 <span class=\"keyword\">import</span> BeautifulSoup</span><br><span class=\"line\"><span class=\"keyword\">from</span> urlparse <span class=\"keyword\">import</span> urljoin</span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">import</span> csv</span><br><span class=\"line\"></span><br><span class=\"line\">url = <span class=\"string\">\"http://bj.58.com/pinpaigongyu/pn/&#123;page&#125;/?minprice=2000_4000\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#0</span></span><br><span class=\"line\">page = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">csv_file = open(<span class=\"string\">\"rent.csv\"</span>,<span class=\"string\">\"wb\"</span>) </span><br><span class=\"line\">csv_writer = csv.writer(csv_file, delimiter=<span class=\"string\">','</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"keyword\">True</span>:</span><br><span class=\"line\">    page += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">print</span> <span class=\"string\">\"fetch: \"</span>, url.format(page=page)</span><br><span class=\"line\">    response = requests.get(url.format(page=page))</span><br><span class=\"line\">    html = BeautifulSoup(response.text)</span><br><span class=\"line\">    house_list = html.select(<span class=\"string\">\".list &gt; li\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> house_list:</span><br><span class=\"line\">        <span class=\"keyword\">break</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> house <span class=\"keyword\">in</span> house_list:</span><br><span class=\"line\">        house_title = house.select(<span class=\"string\">\"h2\"</span>)[<span class=\"number\">0</span>].string.encode(<span class=\"string\">\"utf8\"</span>)</span><br><span class=\"line\">        house_url = urljoin(url, house.select(<span class=\"string\">\"a\"</span>)[<span class=\"number\">0</span>][<span class=\"string\">\"href\"</span>])</span><br><span class=\"line\">        house_info_list = house_title.split()</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"string\">\"\"</span> <span class=\"keyword\">in</span> house_info_list[<span class=\"number\">1</span>] <span class=\"keyword\">or</span> <span class=\"string\">\"\"</span> <span class=\"keyword\">in</span> house_info_list[<span class=\"number\">1</span>]:</span><br><span class=\"line\">            house_location = house_info_list[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            house_location = house_info_list[<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">        house_money = house.select(<span class=\"string\">\".money\"</span>)[<span class=\"number\">0</span>].select(<span class=\"string\">\"b\"</span>)[<span class=\"number\">0</span>].string.encode(<span class=\"string\">\"utf8\"</span>)</span><br><span class=\"line\">        csv_writer.writerow([house_title, house_location, house_money, house_url])</span><br><span class=\"line\"></span><br><span class=\"line\">csv_file.close()</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000csv\" target=\"_blank\" rel=\"noopener\">http://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000csv</a><br><a href=\"http://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000li\" target=\"_blank\" rel=\"noopener\">http://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000li</a></p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/685849af-2ccc-4454-a26e-e2a1c3001378\" alt=\"\"></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/909df442-b1d9-4073-84d0-99a5b3cc9022\" alt=\"\"></p>\n<h4 id=\"li\"><a href=\"#li\" class=\"headerlink\" title=\"li\"></a>li</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">logr</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"/pinpaigongyu/26851774057013x.shtml\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">target</span>=<span class=\"string\">\"_blank\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"clickLog('from=fcpc_list_gy_sh_tupian')\"</span> </span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">tongji_label</span>=<span class=\"string\">\"listclick\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"img\"</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">lazy_src</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"des\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>  3<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"room\"</span>&gt;</span></span><br><span class=\"line\">            311&amp;nbsp; &amp;nbsp; 13m&amp;nbsp;&amp;nbsp; 3/6&amp;nbsp; <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"dist\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec1\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec2\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec3\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec4\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"money\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>1100<span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span>/ <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>pythonli</p>\n<p>tongji_label=listclicka</p>\n<p>HtmlAgilityPack<br>HtmlAgilityPack<a href=\"http://htmlagilitypack.codeplex.com/\" target=\"_blank\" rel=\"noopener\">HtmlAgilityPack</a></p>\n<p>HtmlAgilityPack.NETHTMLJSHTML<br>Nuget PM</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Install-Package HtmlAgilityPack</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://www.cnblogs.com/ITmuse/archive/2010/05/29/1747199.html\" target=\"_blank\" rel=\"noopener\">Html Agility Pack</a></p>\n<p>controller</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"costFrom\"&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"costTo\"&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"cnName\"&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> ActionResult <span class=\"title\">Get58CityRoomData</span>(<span class=\"params\"><span class=\"keyword\">int</span> costFrom, <span class=\"keyword\">int</span> costTo, <span class=\"keyword\">string</span> cnName</span>)</span></span><br><span class=\"line\"><span class=\"function\">       </span>&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (costTo&lt;=<span class=\"number\">0</span> || costTo &lt; costFrom)</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; IsSuccess = <span class=\"literal\">false</span>, Error = <span class=\"string\">\"\"</span> &#125;);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(cnName))</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; IsSuccess = <span class=\"literal\">false</span>, </span><br><span class=\"line\">               Error = <span class=\"string\">\"\"</span> &#125;);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">try</span></span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"keyword\">var</span> lstHouse = <span class=\"keyword\">new</span> List&lt;HouseInfo&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">string</span> tempURL = <span class=\"string\">\"http://\"</span> + </span><br><span class=\"line\">               cnName + <span class=\"string\">\".58.com/pinpaigongyu//pn/&#123;0&#125;/?minprice=\"</span></span><br><span class=\"line\">               + costFrom + <span class=\"string\">\"_\"</span> + costTo;</span><br><span class=\"line\"></span><br><span class=\"line\">               Uri uri = <span class=\"keyword\">new</span> Uri(tempURL);</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">var</span> htmlResult = HTTPHelper.GetHTMLByURL(<span class=\"keyword\">string</span>.Format(tempURL, <span class=\"number\">1</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">               HtmlDocument htmlDoc = <span class=\"keyword\">new</span> HtmlDocument();</span><br><span class=\"line\">               htmlDoc.LoadHtml(htmlResult);</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">var</span> countNodes = htmlDoc.DocumentNode.</span><br><span class=\"line\">               SelectSingleNode(<span class=\"string\">\".//span[contains(@class,'list')]\"</span>);</span><br><span class=\"line\">               <span class=\"keyword\">int</span> pageCount = <span class=\"number\">10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">if</span> (countNodes != <span class=\"literal\">null</span> &amp;&amp; countNodes.HasChildNodes)</span><br><span class=\"line\">               &#123;</span><br><span class=\"line\">                   pageCount = Convert.ToInt32(countNodes.ChildNodes[<span class=\"number\">0</span>].InnerText) / <span class=\"number\">20</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                   <span class=\"keyword\">if</span>(pageCount==<span class=\"number\">0</span>)</span><br><span class=\"line\">                   &#123;</span><br><span class=\"line\">                       <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; IsSuccess = <span class=\"literal\">false</span>, </span><br><span class=\"line\">                       Error =<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"&#123;0&#125; - &#123;1&#125;\"</span>,</span><br><span class=\"line\">                       costFrom,costTo)&#125;);</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> pageIndex = <span class=\"number\">1</span>; pageIndex &lt;= pageCount; pageIndex++)</span><br><span class=\"line\">               &#123;</span><br><span class=\"line\">                   htmlResult = HTTPHelper.GetHTMLByURL(<span class=\"keyword\">string</span>.Format(tempURL, pageIndex));</span><br><span class=\"line\">                   htmlDoc.LoadHtml(htmlResult);</span><br><span class=\"line\">                   <span class=\"keyword\">var</span> roomList = htmlDoc.DocumentNode</span><br><span class=\"line\">                   .SelectNodes(<span class=\"string\">\".//a[contains(@tongji_label,'listclick')]\"</span>);</span><br><span class=\"line\">                   <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> room <span class=\"keyword\">in</span> roomList)</span><br><span class=\"line\">                   &#123;</span><br><span class=\"line\">                       <span class=\"keyword\">var</span> houseTitle = room.SelectSingleNode(<span class=\"string\">\".//h2\"</span>).InnerHtml;</span><br><span class=\"line\">                       <span class=\"keyword\">var</span> houseURL = uri.Host + room.Attributes[<span class=\"string\">\"href\"</span>].Value;</span><br><span class=\"line\">                       <span class=\"keyword\">var</span> house_info_list = houseTitle.Split(<span class=\"string\">' '</span>);</span><br><span class=\"line\">                       <span class=\"keyword\">var</span> house_location = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">                       <span class=\"keyword\">if</span> (house_info_list[<span class=\"number\">1</span>].Contains(<span class=\"string\">\"\"</span>) </span><br><span class=\"line\">                       || house_info_list[<span class=\"number\">1</span>].Contains(<span class=\"string\">\"\"</span>))</span><br><span class=\"line\">                       &#123;</span><br><span class=\"line\">                           house_location = house_info_list[<span class=\"number\">0</span>];</span><br><span class=\"line\">                       &#125;</span><br><span class=\"line\">                       <span class=\"keyword\">else</span></span><br><span class=\"line\">                       &#123;</span><br><span class=\"line\">                           house_location = house_info_list[<span class=\"number\">1</span>];</span><br><span class=\"line\">                       &#125;</span><br><span class=\"line\">                       <span class=\"keyword\">var</span> momey = room.SelectSingleNode(<span class=\"string\">\".//b\"</span>).InnerHtml;</span><br><span class=\"line\"></span><br><span class=\"line\">                       lstHouse.Add(<span class=\"keyword\">new</span> HouseInfo()</span><br><span class=\"line\">                       &#123;</span><br><span class=\"line\">                           HouseTitle = houseTitle,</span><br><span class=\"line\">                           HouseLocation = house_location,</span><br><span class=\"line\">                           HouseURL = houseURL,</span><br><span class=\"line\">                           Money = momey,</span><br><span class=\"line\">                       &#125;);</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; IsSuccess = <span class=\"literal\">true</span>, HouseInfos = lstHouse &#125;);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; IsSuccess = <span class=\"literal\">false</span>,</span><br><span class=\"line\">               Error = <span class=\"string\">\"\"</span> + ex.ToString() &#125;);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<p>58</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"listsum\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">em</span>&gt;</span>1813<span class=\"tag\">&lt;/<span class=\"name\">em</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>=/20</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var countNodes = htmlDoc.DocumentNode.</span><br><span class=\"line\">SelectSingleNode(&quot;.//span[contains(@class,&apos;list&apos;)]&quot;);</span><br><span class=\"line\">int pageCount = 10;</span><br><span class=\"line\"></span><br><span class=\"line\">if (countNodes != null &amp;&amp; countNodes.HasChildNodes)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    pageCount = Convert.ToInt32(countNodes.ChildNodes[0].InnerText) / 20;</span><br><span class=\"line\"></span><br><span class=\"line\">    if(pageCount==0)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        return Json(new &#123; IsSuccess = false, </span><br><span class=\"line\">        Error =string.Format(&quot;&#123;0&#125; - &#123;1&#125;&quot;,</span><br><span class=\"line\">        costFrom,costTo)&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>HTMLDocspanclasslistem20</p>\n<p>liaa</p>\n<p>tongji_label=listclicka</p>\n<p>a</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"/pinpaigongyu/26851774057013x.shtml\"</span></span></span><br><span class=\"line\"><span class=\"tag\"> <span class=\"attr\">target</span>=<span class=\"string\">\"_blank\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"clickLog('from=fcpc_list_gy_sh_tupian')\"</span> </span></span><br><span class=\"line\"><span class=\"tag\"> <span class=\"attr\">tongji_label</span>=<span class=\"string\">\"listclick\"</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"img\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">lazy_src</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"\"</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"des\"</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>  3<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"room\"</span>&gt;</span></span><br><span class=\"line\">           311&amp;nbsp; &amp;nbsp; 13m&amp;nbsp;&amp;nbsp; 3/6&amp;nbsp; <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"dist\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec\"</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec1\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec2\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec3\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec4\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"money\"</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>1100<span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span>/ <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>h2class=moneydiv</p>\n<p></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> pageIndex = <span class=\"number\">1</span>; pageIndex &lt;= pageCount; pageIndex++)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    htmlResult = HTTPHelper.GetHTMLByURL(<span class=\"keyword\">string</span>.Format(tempURL, pageIndex));</span><br><span class=\"line\">    htmlDoc.LoadHtml(htmlResult);</span><br><span class=\"line\">    <span class=\"comment\">//tongji_label=\"listclick\"a</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> roomList = htmlDoc.DocumentNode.SelectNodes(<span class=\"string\">\".//a[contains(@tongji_label,'listclick')]\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> room <span class=\"keyword\">in</span> roomList)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//h2</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> houseTitle = room.SelectSingleNode(<span class=\"string\">\".//h2\"</span>).InnerHtml;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> houseURL = uri.Host + room.Attributes[<span class=\"string\">\"href\"</span>].Value;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> house_info_list = houseTitle.Split(<span class=\"string\">' '</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> house_location = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"comment\">//  3 </span></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (house_info_list[<span class=\"number\">1</span>].Contains(<span class=\"string\">\"\"</span>) || house_info_list[<span class=\"number\">1</span>].Contains(<span class=\"string\">\"\"</span>))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            house_location = house_info_list[<span class=\"number\">0</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            house_location = house_info_list[<span class=\"number\">1</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//b</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> momey = room.SelectSingleNode(<span class=\"string\">\".//b\"</span>).InnerHtml;</span><br><span class=\"line\"></span><br><span class=\"line\">        lstHouse.Add(<span class=\"keyword\">new</span> HouseInfo()</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            HouseTitle = houseTitle,</span><br><span class=\"line\">            HouseLocation = house_location,</span><br><span class=\"line\">            HouseURL = houseURL,</span><br><span class=\"line\">            Money = momey,</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<p>^-^</p>\n<p><a href=\"https://github.com/liguobao/58HouseSearch\" target=\"_blank\" rel=\"noopener\">https://github.com/liguobao/58HouseSearch</a></p>\n<p><a href=\"https://woyaozufang.live\" target=\"_blank\" rel=\"noopener\">58()https://woyaozufang.live</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p><a href=\"https://zhuanlan.zhihu.com/p/21883516\" target=\"_blank\" rel=\"noopener\">API+Python</a><br><a href=\"https://www.shiyanlou.com/courses/599\" target=\"_blank\" rel=\"noopener\">API+Python</a></p>\n<p></p>\n<p>:python;</p>\n<p></p>\n<p></p>\n<p></p>\n<p>pythonJS</p>\n<p>python</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#-*- coding:utf-8 -*-</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> bs4 <span class=\"keyword\">import</span> BeautifulSoup</span><br><span class=\"line\"><span class=\"keyword\">from</span> urlparse <span class=\"keyword\">import</span> urljoin</span><br><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">import</span> csv</span><br><span class=\"line\"></span><br><span class=\"line\">url = <span class=\"string\">\"http://bj.58.com/pinpaigongyu/pn/&#123;page&#125;/?minprice=2000_4000\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#0</span></span><br><span class=\"line\">page = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\">csv_file = open(<span class=\"string\">\"rent.csv\"</span>,<span class=\"string\">\"wb\"</span>) </span><br><span class=\"line\">csv_writer = csv.writer(csv_file, delimiter=<span class=\"string\">','</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"keyword\">True</span>:</span><br><span class=\"line\">    page += <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">print</span> <span class=\"string\">\"fetch: \"</span>, url.format(page=page)</span><br><span class=\"line\">    response = requests.get(url.format(page=page))</span><br><span class=\"line\">    html = BeautifulSoup(response.text)</span><br><span class=\"line\">    house_list = html.select(<span class=\"string\">\".list &gt; li\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> house_list:</span><br><span class=\"line\">        <span class=\"keyword\">break</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> house <span class=\"keyword\">in</span> house_list:</span><br><span class=\"line\">        house_title = house.select(<span class=\"string\">\"h2\"</span>)[<span class=\"number\">0</span>].string.encode(<span class=\"string\">\"utf8\"</span>)</span><br><span class=\"line\">        house_url = urljoin(url, house.select(<span class=\"string\">\"a\"</span>)[<span class=\"number\">0</span>][<span class=\"string\">\"href\"</span>])</span><br><span class=\"line\">        house_info_list = house_title.split()</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"string\">\"\"</span> <span class=\"keyword\">in</span> house_info_list[<span class=\"number\">1</span>] <span class=\"keyword\">or</span> <span class=\"string\">\"\"</span> <span class=\"keyword\">in</span> house_info_list[<span class=\"number\">1</span>]:</span><br><span class=\"line\">            house_location = house_info_list[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            house_location = house_info_list[<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">        house_money = house.select(<span class=\"string\">\".money\"</span>)[<span class=\"number\">0</span>].select(<span class=\"string\">\"b\"</span>)[<span class=\"number\">0</span>].string.encode(<span class=\"string\">\"utf8\"</span>)</span><br><span class=\"line\">        csv_writer.writerow([house_title, house_location, house_money, house_url])</span><br><span class=\"line\"></span><br><span class=\"line\">csv_file.close()</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000csv\" target=\"_blank\" rel=\"noopener\">http://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000csv</a><br><a href=\"http://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000li\" target=\"_blank\" rel=\"noopener\">http://bj.58.com/pinpaigongyu/pn/{page}/?minprice=2000_4000li</a></p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/685849af-2ccc-4454-a26e-e2a1c3001378\" alt=\"\"></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/909df442-b1d9-4073-84d0-99a5b3cc9022\" alt=\"\"></p>\n<h4 id=\"li\"><a href=\"#li\" class=\"headerlink\" title=\"li\"></a>li</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">logr</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"/pinpaigongyu/26851774057013x.shtml\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">target</span>=<span class=\"string\">\"_blank\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"clickLog('from=fcpc_list_gy_sh_tupian')\"</span> </span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">tongji_label</span>=<span class=\"string\">\"listclick\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"img\"</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">lazy_src</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"des\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>  3<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"room\"</span>&gt;</span></span><br><span class=\"line\">            311&amp;nbsp; &amp;nbsp; 13m&amp;nbsp;&amp;nbsp; 3/6&amp;nbsp; <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"dist\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec1\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec2\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec3\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec4\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"money\"</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>1100<span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span>/ <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">         <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>pythonli</p>\n<p>tongji_label=listclicka</p>\n<p>HtmlAgilityPack<br>HtmlAgilityPack<a href=\"http://htmlagilitypack.codeplex.com/\" target=\"_blank\" rel=\"noopener\">HtmlAgilityPack</a></p>\n<p>HtmlAgilityPack.NETHTMLJSHTML<br>Nuget PM</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Install-Package HtmlAgilityPack</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://www.cnblogs.com/ITmuse/archive/2010/05/29/1747199.html\" target=\"_blank\" rel=\"noopener\">Html Agility Pack</a></p>\n<p>controller</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;/summary&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"costFrom\"&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"costTo\"&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;param name=\"cnName\"&gt;</span><span class=\"doctag\">&lt;/param&gt;</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"doctag\">///</span> <span class=\"doctag\">&lt;returns&gt;</span><span class=\"doctag\">&lt;/returns&gt;</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> ActionResult <span class=\"title\">Get58CityRoomData</span>(<span class=\"params\"><span class=\"keyword\">int</span> costFrom, <span class=\"keyword\">int</span> costTo, <span class=\"keyword\">string</span> cnName</span>)</span></span><br><span class=\"line\"><span class=\"function\">       </span>&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (costTo&lt;=<span class=\"number\">0</span> || costTo &lt; costFrom)</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; IsSuccess = <span class=\"literal\">false</span>, Error = <span class=\"string\">\"\"</span> &#125;);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(cnName))</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; IsSuccess = <span class=\"literal\">false</span>, </span><br><span class=\"line\">               Error = <span class=\"string\">\"\"</span> &#125;);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">try</span></span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"keyword\">var</span> lstHouse = <span class=\"keyword\">new</span> List&lt;HouseInfo&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">string</span> tempURL = <span class=\"string\">\"http://\"</span> + </span><br><span class=\"line\">               cnName + <span class=\"string\">\".58.com/pinpaigongyu//pn/&#123;0&#125;/?minprice=\"</span></span><br><span class=\"line\">               + costFrom + <span class=\"string\">\"_\"</span> + costTo;</span><br><span class=\"line\"></span><br><span class=\"line\">               Uri uri = <span class=\"keyword\">new</span> Uri(tempURL);</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">var</span> htmlResult = HTTPHelper.GetHTMLByURL(<span class=\"keyword\">string</span>.Format(tempURL, <span class=\"number\">1</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">               HtmlDocument htmlDoc = <span class=\"keyword\">new</span> HtmlDocument();</span><br><span class=\"line\">               htmlDoc.LoadHtml(htmlResult);</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">var</span> countNodes = htmlDoc.DocumentNode.</span><br><span class=\"line\">               SelectSingleNode(<span class=\"string\">\".//span[contains(@class,'list')]\"</span>);</span><br><span class=\"line\">               <span class=\"keyword\">int</span> pageCount = <span class=\"number\">10</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">if</span> (countNodes != <span class=\"literal\">null</span> &amp;&amp; countNodes.HasChildNodes)</span><br><span class=\"line\">               &#123;</span><br><span class=\"line\">                   pageCount = Convert.ToInt32(countNodes.ChildNodes[<span class=\"number\">0</span>].InnerText) / <span class=\"number\">20</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                   <span class=\"keyword\">if</span>(pageCount==<span class=\"number\">0</span>)</span><br><span class=\"line\">                   &#123;</span><br><span class=\"line\">                       <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; IsSuccess = <span class=\"literal\">false</span>, </span><br><span class=\"line\">                       Error =<span class=\"keyword\">string</span>.Format(<span class=\"string\">\"&#123;0&#125; - &#123;1&#125;\"</span>,</span><br><span class=\"line\">                       costFrom,costTo)&#125;);</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> pageIndex = <span class=\"number\">1</span>; pageIndex &lt;= pageCount; pageIndex++)</span><br><span class=\"line\">               &#123;</span><br><span class=\"line\">                   htmlResult = HTTPHelper.GetHTMLByURL(<span class=\"keyword\">string</span>.Format(tempURL, pageIndex));</span><br><span class=\"line\">                   htmlDoc.LoadHtml(htmlResult);</span><br><span class=\"line\">                   <span class=\"keyword\">var</span> roomList = htmlDoc.DocumentNode</span><br><span class=\"line\">                   .SelectNodes(<span class=\"string\">\".//a[contains(@tongji_label,'listclick')]\"</span>);</span><br><span class=\"line\">                   <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> room <span class=\"keyword\">in</span> roomList)</span><br><span class=\"line\">                   &#123;</span><br><span class=\"line\">                       <span class=\"keyword\">var</span> houseTitle = room.SelectSingleNode(<span class=\"string\">\".//h2\"</span>).InnerHtml;</span><br><span class=\"line\">                       <span class=\"keyword\">var</span> houseURL = uri.Host + room.Attributes[<span class=\"string\">\"href\"</span>].Value;</span><br><span class=\"line\">                       <span class=\"keyword\">var</span> house_info_list = houseTitle.Split(<span class=\"string\">' '</span>);</span><br><span class=\"line\">                       <span class=\"keyword\">var</span> house_location = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">                       <span class=\"keyword\">if</span> (house_info_list[<span class=\"number\">1</span>].Contains(<span class=\"string\">\"\"</span>) </span><br><span class=\"line\">                       || house_info_list[<span class=\"number\">1</span>].Contains(<span class=\"string\">\"\"</span>))</span><br><span class=\"line\">                       &#123;</span><br><span class=\"line\">                           house_location = house_info_list[<span class=\"number\">0</span>];</span><br><span class=\"line\">                       &#125;</span><br><span class=\"line\">                       <span class=\"keyword\">else</span></span><br><span class=\"line\">                       &#123;</span><br><span class=\"line\">                           house_location = house_info_list[<span class=\"number\">1</span>];</span><br><span class=\"line\">                       &#125;</span><br><span class=\"line\">                       <span class=\"keyword\">var</span> momey = room.SelectSingleNode(<span class=\"string\">\".//b\"</span>).InnerHtml;</span><br><span class=\"line\"></span><br><span class=\"line\">                       lstHouse.Add(<span class=\"keyword\">new</span> HouseInfo()</span><br><span class=\"line\">                       &#123;</span><br><span class=\"line\">                           HouseTitle = houseTitle,</span><br><span class=\"line\">                           HouseLocation = house_location,</span><br><span class=\"line\">                           HouseURL = houseURL,</span><br><span class=\"line\">                           Money = momey,</span><br><span class=\"line\">                       &#125;);</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; IsSuccess = <span class=\"literal\">true</span>, HouseInfos = lstHouse &#125;);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; IsSuccess = <span class=\"literal\">false</span>,</span><br><span class=\"line\">               Error = <span class=\"string\">\"\"</span> + ex.ToString() &#125;);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<p>58</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"listsum\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">em</span>&gt;</span>1813<span class=\"tag\">&lt;/<span class=\"name\">em</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>=/20</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var countNodes = htmlDoc.DocumentNode.</span><br><span class=\"line\">SelectSingleNode(&quot;.//span[contains(@class,&apos;list&apos;)]&quot;);</span><br><span class=\"line\">int pageCount = 10;</span><br><span class=\"line\"></span><br><span class=\"line\">if (countNodes != null &amp;&amp; countNodes.HasChildNodes)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    pageCount = Convert.ToInt32(countNodes.ChildNodes[0].InnerText) / 20;</span><br><span class=\"line\"></span><br><span class=\"line\">    if(pageCount==0)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        return Json(new &#123; IsSuccess = false, </span><br><span class=\"line\">        Error =string.Format(&quot;&#123;0&#125; - &#123;1&#125;&quot;,</span><br><span class=\"line\">        costFrom,costTo)&#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>HTMLDocspanclasslistem20</p>\n<p>liaa</p>\n<p>tongji_label=listclicka</p>\n<p>a</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"/pinpaigongyu/26851774057013x.shtml\"</span></span></span><br><span class=\"line\"><span class=\"tag\"> <span class=\"attr\">target</span>=<span class=\"string\">\"_blank\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"clickLog('from=fcpc_list_gy_sh_tupian')\"</span> </span></span><br><span class=\"line\"><span class=\"tag\"> <span class=\"attr\">tongji_label</span>=<span class=\"string\">\"listclick\"</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"img\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">lazy_src</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">alt</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"\"</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"des\"</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>  3<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"room\"</span>&gt;</span></span><br><span class=\"line\">           311&amp;nbsp; &amp;nbsp; 13m&amp;nbsp;&amp;nbsp; 3/6&amp;nbsp; <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"dist\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec\"</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec1\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec2\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec3\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"spec4\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"money\"</span>&gt;</span></span><br><span class=\"line\">           <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">b</span>&gt;</span>1100<span class=\"tag\">&lt;/<span class=\"name\">b</span>&gt;</span>/ <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>h2class=moneydiv</p>\n<p></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> pageIndex = <span class=\"number\">1</span>; pageIndex &lt;= pageCount; pageIndex++)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    htmlResult = HTTPHelper.GetHTMLByURL(<span class=\"keyword\">string</span>.Format(tempURL, pageIndex));</span><br><span class=\"line\">    htmlDoc.LoadHtml(htmlResult);</span><br><span class=\"line\">    <span class=\"comment\">//tongji_label=\"listclick\"a</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> roomList = htmlDoc.DocumentNode.SelectNodes(<span class=\"string\">\".//a[contains(@tongji_label,'listclick')]\"</span>);</span><br><span class=\"line\">    <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> room <span class=\"keyword\">in</span> roomList)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">//h2</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> houseTitle = room.SelectSingleNode(<span class=\"string\">\".//h2\"</span>).InnerHtml;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> houseURL = uri.Host + room.Attributes[<span class=\"string\">\"href\"</span>].Value;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> house_info_list = houseTitle.Split(<span class=\"string\">' '</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> house_location = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"comment\">//  3 </span></span><br><span class=\"line\">        <span class=\"comment\">// </span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (house_info_list[<span class=\"number\">1</span>].Contains(<span class=\"string\">\"\"</span>) || house_info_list[<span class=\"number\">1</span>].Contains(<span class=\"string\">\"\"</span>))</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            house_location = house_info_list[<span class=\"number\">0</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            house_location = house_info_list[<span class=\"number\">1</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//b</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> momey = room.SelectSingleNode(<span class=\"string\">\".//b\"</span>).InnerHtml;</span><br><span class=\"line\"></span><br><span class=\"line\">        lstHouse.Add(<span class=\"keyword\">new</span> HouseInfo()</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            HouseTitle = houseTitle,</span><br><span class=\"line\">            HouseLocation = house_location,</span><br><span class=\"line\">            HouseURL = houseURL,</span><br><span class=\"line\">            Money = momey,</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<p>^-^</p>\n<p><a href=\"https://github.com/liguobao/58HouseSearch\" target=\"_blank\" rel=\"noopener\">https://github.com/liguobao/58HouseSearch</a></p>\n<p><a href=\"https://woyaozufang.live\" target=\"_blank\" rel=\"noopener\">58()https://woyaozufang.live</a></p>\n"},{"layout":"post","title":"C# join","_content":"\n# C# Join\n \nSQLJoin\nLINQJoinEnumerable.Join()\n\nJoin\n\nEnumerable.Join()\n\n\n```C#\n\t\t\tpublic static IEnumerable<TResult> Join<TOuter, TInner, TKey, TResult>\n\t\t\t(      \n\t\t\t         this IEnumerable<TOuter> outer,\n\t\t\t        IEnumerable<TInner> inner,\n\t\t\t        Func<TOuter, TKey> outerKeySelector,\n\t\t\t        Func<TInner, TKey> innerKeySelector,\n\t\t\t        Func<TOuter, TInner, TResult> resultSelector\n\t\t\t) \n```\n\n\nTOuter\n\nTInner\n\nTKey\n\nTResult\n\n\nouter\nSystem.Collections.Generic.IEnumerable<TOuter>\n\ninner\nSystem.Collections.Generic.IEnumerable<TInner>\n\nouterKeySelector\nSystem.Func<TOuter, TKey>\n\ninnerKeySelector\nSystem.Func<TInner, TKey>\n\nresultSelector\nSystem.Func<TOuter, TInner, TResult>\n\n\nSystem.Collections.Generic.IEnumerable<TResult>\nIEnumerable&lt;T&gt; that has elements of type TResult that are obtained by performing an inner join on two sequences.\" xml:space=\"preserve\"> TResult  IEnumerable<T>\n\n Visual Basic  C#  IEnumerable<TOuter>   (Visual Basic)  C# \n \nMSDN\n       \n         public static void JoinEx1()         \n         {\n\t       Person magnus = new Person { Name = \"Hedlund, Magnus\" };\n\t       Pet barley = new Pet { Name = \"Barley\", Owner = terry };\n\t       Person terry = new Person { Name = \"Adams, Terry\" };\n\t       Person charlotte = new Person { Name = \"Weiss, \n\t       Charlotte\" };\n\t       Pet boots = new Pet { Name = \"Boots\", Owner = terry };\n\t       Pet whiskers = new Pet { Name = \"Whiskers\", \n\t       Owner = charlotte};\n\t       Pet daisy = new Pet { Name = \"Daisy\", Owner = magnus };\n\n        List<Person> people = new List<Person> \n        { magnus, terry, charlotte };\n        List<Pet> pets = new List<Pet> \n        { barley, boots, whiskers, daisy };\n\n        // Create a list of Person-Pet pairs where \n        // each element is an anonymous type that contains a\n        // Pet's name and the name of the Person that owns the Pet.\n        var query =\n            people.Join(\n                        pets,//Join\n              person => person,//key lambda \n         pet => pet.Owner,//key lambda \n    (person, pet) =>new { OwnerName = person.Name, Pet = pet.Name } \n                   // lambda );\n        foreach (var obj in query)\n        {\n          Console.WriteLine( \"{0} - {1}\",obj.OwnerName,obj.Pet);\n        }\n    }\n\n LINQJoin\nLINQJoin\n            var query = from person in people // \n                      join pet in pets            //\n                      on person equals pet.Owner  //Join\n                      select  new { OwnerName = person.Name, Pet = pet.Name };  \n                      //\n\n\n....\n \n\n\nhttps://msdn.microsoft.com/zh-cn/library/bb311040.aspx\nhttps://msdn.microsoft.com/zh-cn/library/bb534675%28v=vs.110%29.aspx?f=255&MSPPError=-2147217396\nhttp://www.cnblogs.com/Ivony/archive/2008/08/18/1270555.html\nhttp://www.cnblogs.com/Ivony/archive/2008/08/28/1278643.html\nhttp://www.cnblogs.com/Ivony/archive/2008/10/14/1309807.html ; \n\n\nLINQ GroupJoin \nvar queryGroup = from person in people // \n                                join pet in pets //\n                                on person equals pet.Owner into ps //into,GroupJoin\n                                select new { OwnerName = person.Name, Pet = ps }; // ","source":"_posts/C#-Join.md","raw":"---\nlayout: post\ntitle: C# join\ncategory: dotnet\n---\n\n# C# Join\n \nSQLJoin\nLINQJoinEnumerable.Join()\n\nJoin\n\nEnumerable.Join()\n\n\n```C#\n\t\t\tpublic static IEnumerable<TResult> Join<TOuter, TInner, TKey, TResult>\n\t\t\t(      \n\t\t\t         this IEnumerable<TOuter> outer,\n\t\t\t        IEnumerable<TInner> inner,\n\t\t\t        Func<TOuter, TKey> outerKeySelector,\n\t\t\t        Func<TInner, TKey> innerKeySelector,\n\t\t\t        Func<TOuter, TInner, TResult> resultSelector\n\t\t\t) \n```\n\n\nTOuter\n\nTInner\n\nTKey\n\nTResult\n\n\nouter\nSystem.Collections.Generic.IEnumerable<TOuter>\n\ninner\nSystem.Collections.Generic.IEnumerable<TInner>\n\nouterKeySelector\nSystem.Func<TOuter, TKey>\n\ninnerKeySelector\nSystem.Func<TInner, TKey>\n\nresultSelector\nSystem.Func<TOuter, TInner, TResult>\n\n\nSystem.Collections.Generic.IEnumerable<TResult>\nIEnumerable&lt;T&gt; that has elements of type TResult that are obtained by performing an inner join on two sequences.\" xml:space=\"preserve\"> TResult  IEnumerable<T>\n\n Visual Basic  C#  IEnumerable<TOuter>   (Visual Basic)  C# \n \nMSDN\n       \n         public static void JoinEx1()         \n         {\n\t       Person magnus = new Person { Name = \"Hedlund, Magnus\" };\n\t       Pet barley = new Pet { Name = \"Barley\", Owner = terry };\n\t       Person terry = new Person { Name = \"Adams, Terry\" };\n\t       Person charlotte = new Person { Name = \"Weiss, \n\t       Charlotte\" };\n\t       Pet boots = new Pet { Name = \"Boots\", Owner = terry };\n\t       Pet whiskers = new Pet { Name = \"Whiskers\", \n\t       Owner = charlotte};\n\t       Pet daisy = new Pet { Name = \"Daisy\", Owner = magnus };\n\n        List<Person> people = new List<Person> \n        { magnus, terry, charlotte };\n        List<Pet> pets = new List<Pet> \n        { barley, boots, whiskers, daisy };\n\n        // Create a list of Person-Pet pairs where \n        // each element is an anonymous type that contains a\n        // Pet's name and the name of the Person that owns the Pet.\n        var query =\n            people.Join(\n                        pets,//Join\n              person => person,//key lambda \n         pet => pet.Owner,//key lambda \n    (person, pet) =>new { OwnerName = person.Name, Pet = pet.Name } \n                   // lambda );\n        foreach (var obj in query)\n        {\n          Console.WriteLine( \"{0} - {1}\",obj.OwnerName,obj.Pet);\n        }\n    }\n\n LINQJoin\nLINQJoin\n            var query = from person in people // \n                      join pet in pets            //\n                      on person equals pet.Owner  //Join\n                      select  new { OwnerName = person.Name, Pet = pet.Name };  \n                      //\n\n\n....\n \n\n\nhttps://msdn.microsoft.com/zh-cn/library/bb311040.aspx\nhttps://msdn.microsoft.com/zh-cn/library/bb534675%28v=vs.110%29.aspx?f=255&MSPPError=-2147217396\nhttp://www.cnblogs.com/Ivony/archive/2008/08/18/1270555.html\nhttp://www.cnblogs.com/Ivony/archive/2008/08/28/1278643.html\nhttp://www.cnblogs.com/Ivony/archive/2008/10/14/1309807.html ; \n\n\nLINQ GroupJoin \nvar queryGroup = from person in people // \n                                join pet in pets //\n                                on person equals pet.Owner into ps //into,GroupJoin\n                                select new { OwnerName = person.Name, Pet = ps }; // ","slug":"C#-Join","published":1,"date":"2016-02-23T14:15:44.000Z","updated":"2018-05-17T08:06:57.784Z","comments":1,"photos":[],"link":"","_id":"cjha9u0dm0003gr1w9ouh2gkm","content":"<h1 id=\"C-Join\"><a href=\"#C-Join\" class=\"headerlink\" title=\"C# Join\"></a>C# Join</h1><p> <br>SQLJoin<br>LINQJoinEnumerable.Join()</p>\n<p>Join</p>\n<p>Enumerable.Join()<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static IEnumerable&lt;TResult&gt; Join&lt;TOuter, TInner, TKey, TResult&gt;</span><br><span class=\"line\">(      </span><br><span class=\"line\">         this IEnumerable&lt;TOuter&gt; outer,</span><br><span class=\"line\">        IEnumerable&lt;TInner&gt; inner,</span><br><span class=\"line\">        Func&lt;TOuter, TKey&gt; outerKeySelector,</span><br><span class=\"line\">        Func&lt;TInner, TKey&gt; innerKeySelector,</span><br><span class=\"line\">        Func&lt;TOuter, TInner, TResult&gt; resultSelector</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<p><br>TOuter<br><br>TInner<br><br>TKey<br><br>TResult<br><br><br>outer<br>System.Collections.Generic.IEnumerable<touter><br><br>inner<br>System.Collections.Generic.IEnumerable<tinner><br><br>outerKeySelector<br>System.Func&lt;TOuter, TKey&gt;<br><br>innerKeySelector<br>System.Func&lt;TInner, TKey&gt;<br><br>resultSelector<br>System.Func&lt;TOuter, TInner, TResult&gt;<br><br><br>System.Collections.Generic.IEnumerable<tresult><br>IEnumerable&lt;T&gt; that has elements of type TResult that are obtained by performing an inner join on two sequences. xml:space=preserve&gt; TResult  IEnumerable<t><br><br> Visual Basic  C#  IEnumerable<touter>   (Visual Basic)  C# </touter></t></tresult></tinner></touter></p>\n<p>MSDN</p>\n<pre><code>     public static void JoinEx1()         \n     {\n       Person magnus = new Person { Name = &quot;Hedlund, Magnus&quot; };\n       Pet barley = new Pet { Name = &quot;Barley&quot;, Owner = terry };\n       Person terry = new Person { Name = &quot;Adams, Terry&quot; };\n       Person charlotte = new Person { Name = &quot;Weiss, \n       Charlotte&quot; };\n       Pet boots = new Pet { Name = &quot;Boots&quot;, Owner = terry };\n       Pet whiskers = new Pet { Name = &quot;Whiskers&quot;, \n       Owner = charlotte};\n       Pet daisy = new Pet { Name = &quot;Daisy&quot;, Owner = magnus };\n\n    List&lt;Person&gt; people = new List&lt;Person&gt; \n    { magnus, terry, charlotte };\n    List&lt;Pet&gt; pets = new List&lt;Pet&gt; \n    { barley, boots, whiskers, daisy };\n\n    // Create a list of Person-Pet pairs where \n    // each element is an anonymous type that contains a\n    // Pet&apos;s name and the name of the Person that owns the Pet.\n    var query =\n        people.Join(\n                    pets,//Join\n          person =&gt; person,//key lambda \n     pet =&gt; pet.Owner,//key lambda \n(person, pet) =&gt;new { OwnerName = person.Name, Pet = pet.Name } \n               // lambda );\n    foreach (var obj in query)\n    {\n      Console.WriteLine( &quot;{0} - {1}&quot;,obj.OwnerName,obj.Pet);\n    }\n}\n</code></pre><p> LINQJoin<br>LINQJoin<br>            var query = from person in people // <br>                      join pet in pets            //<br>                      on person equals pet.Owner  //Join<br>                      select  new { OwnerName = person.Name, Pet = pet.Name };<br>                      //</p>\n<p>.<br> </p>\n<p><br><a href=\"https://msdn.microsoft.com/zh-cn/library/bb311040.aspx\" target=\"_blank\" rel=\"noopener\">https://msdn.microsoft.com/zh-cn/library/bb311040.aspx</a><br><a href=\"https://msdn.microsoft.com/zh-cn/library/bb534675%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396\" target=\"_blank\" rel=\"noopener\">https://msdn.microsoft.com/zh-cn/library/bb534675%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396</a><br><a href=\"http://www.cnblogs.com/Ivony/archive/2008/08/18/1270555.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/Ivony/archive/2008/08/18/1270555.html</a><br><a href=\"http://www.cnblogs.com/Ivony/archive/2008/08/28/1278643.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/Ivony/archive/2008/08/28/1278643.html</a><br><a href=\"http://www.cnblogs.com/Ivony/archive/2008/10/14/1309807.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/Ivony/archive/2008/10/14/1309807.html</a> ; </p>\n<p>LINQ GroupJoin <br>var queryGroup = from person in people // <br>                                join pet in pets //<br>                                on person equals pet.Owner into ps //into,GroupJoin<br>                                select new { OwnerName = person.Name, Pet = ps }; // </p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"C-Join\"><a href=\"#C-Join\" class=\"headerlink\" title=\"C# Join\"></a>C# Join</h1><p> <br>SQLJoin<br>LINQJoinEnumerable.Join()</p>\n<p>Join</p>\n<p>Enumerable.Join()<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static IEnumerable&lt;TResult&gt; Join&lt;TOuter, TInner, TKey, TResult&gt;</span><br><span class=\"line\">(      </span><br><span class=\"line\">         this IEnumerable&lt;TOuter&gt; outer,</span><br><span class=\"line\">        IEnumerable&lt;TInner&gt; inner,</span><br><span class=\"line\">        Func&lt;TOuter, TKey&gt; outerKeySelector,</span><br><span class=\"line\">        Func&lt;TInner, TKey&gt; innerKeySelector,</span><br><span class=\"line\">        Func&lt;TOuter, TInner, TResult&gt; resultSelector</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<p><br>TOuter<br><br>TInner<br><br>TKey<br><br>TResult<br><br><br>outer<br>System.Collections.Generic.IEnumerable<touter><br><br>inner<br>System.Collections.Generic.IEnumerable<tinner><br><br>outerKeySelector<br>System.Func&lt;TOuter, TKey&gt;<br><br>innerKeySelector<br>System.Func&lt;TInner, TKey&gt;<br><br>resultSelector<br>System.Func&lt;TOuter, TInner, TResult&gt;<br><br><br>System.Collections.Generic.IEnumerable<tresult><br>IEnumerable&lt;T&gt; that has elements of type TResult that are obtained by performing an inner join on two sequences. xml:space=preserve&gt; TResult  IEnumerable<t><br><br> Visual Basic  C#  IEnumerable<touter>   (Visual Basic)  C# </touter></t></tresult></tinner></touter></p>\n<p>MSDN</p>\n<pre><code>     public static void JoinEx1()         \n     {\n       Person magnus = new Person { Name = &quot;Hedlund, Magnus&quot; };\n       Pet barley = new Pet { Name = &quot;Barley&quot;, Owner = terry };\n       Person terry = new Person { Name = &quot;Adams, Terry&quot; };\n       Person charlotte = new Person { Name = &quot;Weiss, \n       Charlotte&quot; };\n       Pet boots = new Pet { Name = &quot;Boots&quot;, Owner = terry };\n       Pet whiskers = new Pet { Name = &quot;Whiskers&quot;, \n       Owner = charlotte};\n       Pet daisy = new Pet { Name = &quot;Daisy&quot;, Owner = magnus };\n\n    List&lt;Person&gt; people = new List&lt;Person&gt; \n    { magnus, terry, charlotte };\n    List&lt;Pet&gt; pets = new List&lt;Pet&gt; \n    { barley, boots, whiskers, daisy };\n\n    // Create a list of Person-Pet pairs where \n    // each element is an anonymous type that contains a\n    // Pet&apos;s name and the name of the Person that owns the Pet.\n    var query =\n        people.Join(\n                    pets,//Join\n          person =&gt; person,//key lambda \n     pet =&gt; pet.Owner,//key lambda \n(person, pet) =&gt;new { OwnerName = person.Name, Pet = pet.Name } \n               // lambda );\n    foreach (var obj in query)\n    {\n      Console.WriteLine( &quot;{0} - {1}&quot;,obj.OwnerName,obj.Pet);\n    }\n}\n</code></pre><p> LINQJoin<br>LINQJoin<br>            var query = from person in people // <br>                      join pet in pets            //<br>                      on person equals pet.Owner  //Join<br>                      select  new { OwnerName = person.Name, Pet = pet.Name };<br>                      //</p>\n<p>.<br> </p>\n<p><br><a href=\"https://msdn.microsoft.com/zh-cn/library/bb311040.aspx\" target=\"_blank\" rel=\"noopener\">https://msdn.microsoft.com/zh-cn/library/bb311040.aspx</a><br><a href=\"https://msdn.microsoft.com/zh-cn/library/bb534675%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396\" target=\"_blank\" rel=\"noopener\">https://msdn.microsoft.com/zh-cn/library/bb534675%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396</a><br><a href=\"http://www.cnblogs.com/Ivony/archive/2008/08/18/1270555.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/Ivony/archive/2008/08/18/1270555.html</a><br><a href=\"http://www.cnblogs.com/Ivony/archive/2008/08/28/1278643.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/Ivony/archive/2008/08/28/1278643.html</a><br><a href=\"http://www.cnblogs.com/Ivony/archive/2008/10/14/1309807.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/Ivony/archive/2008/10/14/1309807.html</a> ; </p>\n<p>LINQ GroupJoin <br>var queryGroup = from person in people // <br>                                join pet in pets //<br>                                on person equals pet.Owner into ps //into,GroupJoin<br>                                select new { OwnerName = person.Name, Pet = ps }; // </p>\n"},{"layout":"post","title":"C#","_content":"# C# \n\n## \n\n- /\n- \n-  \n- \n\n## \n\n\n\n \n\n```\n\tusing System;\n\t\n\tpublic sealed class SomeType\n\t{                            //  1  \n\t// Nested class  \n\t   private class SomeNestedType { }                //  2  \n\t\n\t   // Constant, readonly, and static read/write field   \n\t   private const Int32 c_SomeConstant = 1;            //  3     \n\t\n\t   private readonly String m_SomeReadOnlyField = \"2\";     //  4    \n\t\n\t   private static Int32 s_SomeReadWriteField = 3;      //  5  \n\t\n\t   // Type constructor  \n\t   static SomeType() { }                                  //  6  \n\t\n\t   // Instance constructors  \n\t   public SomeType(Int32 x) { }                           //  7  \n\t\n\t   public SomeType() { }                                  //  8 \n\t\n\t   // Instance and static methods  \n\t   private String InstanceMethod() { return null; }       // 9   \n\t\n\t   public static void Main() { }                        // 10 \n\t\n\t   // Instance property  \n\t   public Int32 SomeProp\n\t   {                                // 11      \n\t       get { return 0; }                                // 12      \n\t       set { }                                          // 13  \n\t   }\n\t\n\t   // Instance parameterful property (indexer) \n\t   public Int32 this[String s]\n\t   {                          // 14       \n\t       get { return 0; }                                // 15        \n\t       set { }                                          // 16  \n\t   }\n\t\n\t   // Instance event  \n\t   public event EventHandler SomeEvent;                  // 17  \n\t}\n```\n\n![enter image description here](https://kekaeq-ch3301.files.1drv.com/y3meEWWaK-o9SNfr_fT71Xr3YrPqO1LIswWqMvlHyUxWeH8P0PtXsQlfRkDnGshlMJIy2gPsxNet14efOPOuX-dHmZhCTg8PXyELJR9tnayye4LeEQ6F997b8pSI84wBR6nmmOF8IAr92oKWk36-f8alkEj9TrDQbiMoKGQwO5MTFY/20150105.jpg?psid=1)\n\n![enter image description here](https://kekaeq-ch3301.files.1drv.com/y3mN8FseIEbAaQfT8ynEIc4nYsOUK0p0IN7Hp39imVSZXNQXlSfAYmvaC-9bDM3Hq6rPCV1XgrgvoST8wXejwARXaDmXptZpb_nyWwUzWK1rzaJ6fSsYfnP0icRKUclaVxnlltOJSQiuTFO7_fCfabmv0AsrgL5sLo6GdVJmpd-L10/QQ%E5%9B%BE%E7%89%8720151003165909.jpg?psid=1)","source":"_posts/C#-.md","raw":"---\nlayout: post\ntitle: C#\ncategory: dotnet\n---\n# C# \n\n## \n\n- /\n- \n-  \n- \n\n## \n\n\n\n \n\n```\n\tusing System;\n\t\n\tpublic sealed class SomeType\n\t{                            //  1  \n\t// Nested class  \n\t   private class SomeNestedType { }                //  2  \n\t\n\t   // Constant, readonly, and static read/write field   \n\t   private const Int32 c_SomeConstant = 1;            //  3     \n\t\n\t   private readonly String m_SomeReadOnlyField = \"2\";     //  4    \n\t\n\t   private static Int32 s_SomeReadWriteField = 3;      //  5  \n\t\n\t   // Type constructor  \n\t   static SomeType() { }                                  //  6  \n\t\n\t   // Instance constructors  \n\t   public SomeType(Int32 x) { }                           //  7  \n\t\n\t   public SomeType() { }                                  //  8 \n\t\n\t   // Instance and static methods  \n\t   private String InstanceMethod() { return null; }       // 9   \n\t\n\t   public static void Main() { }                        // 10 \n\t\n\t   // Instance property  \n\t   public Int32 SomeProp\n\t   {                                // 11      \n\t       get { return 0; }                                // 12      \n\t       set { }                                          // 13  \n\t   }\n\t\n\t   // Instance parameterful property (indexer) \n\t   public Int32 this[String s]\n\t   {                          // 14       \n\t       get { return 0; }                                // 15        \n\t       set { }                                          // 16  \n\t   }\n\t\n\t   // Instance event  \n\t   public event EventHandler SomeEvent;                  // 17  \n\t}\n```\n\n![enter image description here](https://kekaeq-ch3301.files.1drv.com/y3meEWWaK-o9SNfr_fT71Xr3YrPqO1LIswWqMvlHyUxWeH8P0PtXsQlfRkDnGshlMJIy2gPsxNet14efOPOuX-dHmZhCTg8PXyELJR9tnayye4LeEQ6F997b8pSI84wBR6nmmOF8IAr92oKWk36-f8alkEj9TrDQbiMoKGQwO5MTFY/20150105.jpg?psid=1)\n\n![enter image description here](https://kekaeq-ch3301.files.1drv.com/y3mN8FseIEbAaQfT8ynEIc4nYsOUK0p0IN7Hp39imVSZXNQXlSfAYmvaC-9bDM3Hq6rPCV1XgrgvoST8wXejwARXaDmXptZpb_nyWwUzWK1rzaJ6fSsYfnP0icRKUclaVxnlltOJSQiuTFO7_fCfabmv0AsrgL5sLo6GdVJmpd-L10/QQ%E5%9B%BE%E7%89%8720151003165909.jpg?psid=1)","slug":"C#-","published":1,"date":"2016-02-23T14:16:38.000Z","updated":"2018-05-17T08:05:53.579Z","comments":1,"photos":[],"link":"","_id":"cjha9u0dn0004gr1wc5i23zxf","content":"<h1 id=\"C-\"><a href=\"#C-\" class=\"headerlink\" title=\"C# \"></a>C# </h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>/</li>\n<li></li>\n<li> </li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">using System;</span><br><span class=\"line\"></span><br><span class=\"line\">public sealed class SomeType</span><br><span class=\"line\">&#123;                            //  1  </span><br><span class=\"line\">// Nested class  </span><br><span class=\"line\">   private class SomeNestedType &#123; &#125;                //  2  </span><br><span class=\"line\"></span><br><span class=\"line\">   // Constant, readonly, and static read/write field   </span><br><span class=\"line\">   private const Int32 c_SomeConstant = 1;            //  3     </span><br><span class=\"line\"></span><br><span class=\"line\">   private readonly String m_SomeReadOnlyField = &quot;2&quot;;     //  4    </span><br><span class=\"line\"></span><br><span class=\"line\">   private static Int32 s_SomeReadWriteField = 3;      //  5  </span><br><span class=\"line\"></span><br><span class=\"line\">   // Type constructor  </span><br><span class=\"line\">   static SomeType() &#123; &#125;                                  //  6  </span><br><span class=\"line\"></span><br><span class=\"line\">   // Instance constructors  </span><br><span class=\"line\">   public SomeType(Int32 x) &#123; &#125;                           //  7  </span><br><span class=\"line\"></span><br><span class=\"line\">   public SomeType() &#123; &#125;                                  //  8 </span><br><span class=\"line\"></span><br><span class=\"line\">   // Instance and static methods  </span><br><span class=\"line\">   private String InstanceMethod() &#123; return null; &#125;       // 9   </span><br><span class=\"line\"></span><br><span class=\"line\">   public static void Main() &#123; &#125;                        // 10 </span><br><span class=\"line\"></span><br><span class=\"line\">   // Instance property  </span><br><span class=\"line\">   public Int32 SomeProp</span><br><span class=\"line\">   &#123;                                // 11      </span><br><span class=\"line\">       get &#123; return 0; &#125;                                // 12      </span><br><span class=\"line\">       set &#123; &#125;                                          // 13  </span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   // Instance parameterful property (indexer) </span><br><span class=\"line\">   public Int32 this[String s]</span><br><span class=\"line\">   &#123;                          // 14       </span><br><span class=\"line\">       get &#123; return 0; &#125;                                // 15        </span><br><span class=\"line\">       set &#123; &#125;                                          // 16  </span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   // Instance event  </span><br><span class=\"line\">   public event EventHandler SomeEvent;                  // 17  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://kekaeq-ch3301.files.1drv.com/y3meEWWaK-o9SNfr_fT71Xr3YrPqO1LIswWqMvlHyUxWeH8P0PtXsQlfRkDnGshlMJIy2gPsxNet14efOPOuX-dHmZhCTg8PXyELJR9tnayye4LeEQ6F997b8pSI84wBR6nmmOF8IAr92oKWk36-f8alkEj9TrDQbiMoKGQwO5MTFY/20150105.jpg?psid=1\" alt=\"enter image description here\"></p>\n<p><img src=\"https://kekaeq-ch3301.files.1drv.com/y3mN8FseIEbAaQfT8ynEIc4nYsOUK0p0IN7Hp39imVSZXNQXlSfAYmvaC-9bDM3Hq6rPCV1XgrgvoST8wXejwARXaDmXptZpb_nyWwUzWK1rzaJ6fSsYfnP0icRKUclaVxnlltOJSQiuTFO7_fCfabmv0AsrgL5sLo6GdVJmpd-L10/QQ%E5%9B%BE%E7%89%8720151003165909.jpg?psid=1\" alt=\"enter image description here\"></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"C-\"><a href=\"#C-\" class=\"headerlink\" title=\"C# \"></a>C# </h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li>/</li>\n<li></li>\n<li> </li>\n<li></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br> </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">using System;</span><br><span class=\"line\"></span><br><span class=\"line\">public sealed class SomeType</span><br><span class=\"line\">&#123;                            //  1  </span><br><span class=\"line\">// Nested class  </span><br><span class=\"line\">   private class SomeNestedType &#123; &#125;                //  2  </span><br><span class=\"line\"></span><br><span class=\"line\">   // Constant, readonly, and static read/write field   </span><br><span class=\"line\">   private const Int32 c_SomeConstant = 1;            //  3     </span><br><span class=\"line\"></span><br><span class=\"line\">   private readonly String m_SomeReadOnlyField = &quot;2&quot;;     //  4    </span><br><span class=\"line\"></span><br><span class=\"line\">   private static Int32 s_SomeReadWriteField = 3;      //  5  </span><br><span class=\"line\"></span><br><span class=\"line\">   // Type constructor  </span><br><span class=\"line\">   static SomeType() &#123; &#125;                                  //  6  </span><br><span class=\"line\"></span><br><span class=\"line\">   // Instance constructors  </span><br><span class=\"line\">   public SomeType(Int32 x) &#123; &#125;                           //  7  </span><br><span class=\"line\"></span><br><span class=\"line\">   public SomeType() &#123; &#125;                                  //  8 </span><br><span class=\"line\"></span><br><span class=\"line\">   // Instance and static methods  </span><br><span class=\"line\">   private String InstanceMethod() &#123; return null; &#125;       // 9   </span><br><span class=\"line\"></span><br><span class=\"line\">   public static void Main() &#123; &#125;                        // 10 </span><br><span class=\"line\"></span><br><span class=\"line\">   // Instance property  </span><br><span class=\"line\">   public Int32 SomeProp</span><br><span class=\"line\">   &#123;                                // 11      </span><br><span class=\"line\">       get &#123; return 0; &#125;                                // 12      </span><br><span class=\"line\">       set &#123; &#125;                                          // 13  </span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   // Instance parameterful property (indexer) </span><br><span class=\"line\">   public Int32 this[String s]</span><br><span class=\"line\">   &#123;                          // 14       </span><br><span class=\"line\">       get &#123; return 0; &#125;                                // 15        </span><br><span class=\"line\">       set &#123; &#125;                                          // 16  </span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   // Instance event  </span><br><span class=\"line\">   public event EventHandler SomeEvent;                  // 17  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://kekaeq-ch3301.files.1drv.com/y3meEWWaK-o9SNfr_fT71Xr3YrPqO1LIswWqMvlHyUxWeH8P0PtXsQlfRkDnGshlMJIy2gPsxNet14efOPOuX-dHmZhCTg8PXyELJR9tnayye4LeEQ6F997b8pSI84wBR6nmmOF8IAr92oKWk36-f8alkEj9TrDQbiMoKGQwO5MTFY/20150105.jpg?psid=1\" alt=\"enter image description here\"></p>\n<p><img src=\"https://kekaeq-ch3301.files.1drv.com/y3mN8FseIEbAaQfT8ynEIc4nYsOUK0p0IN7Hp39imVSZXNQXlSfAYmvaC-9bDM3Hq6rPCV1XgrgvoST8wXejwARXaDmXptZpb_nyWwUzWK1rzaJ6fSsYfnP0icRKUclaVxnlltOJSQiuTFO7_fCfabmv0AsrgL5sLo6GdVJmpd-L10/QQ%E5%9B%BE%E7%89%8720151003165909.jpg?psid=1\" alt=\"enter image description here\"></p>\n"},{"layout":"post","title":"C#.NET()","_content":"# ()\n\n## \n\n CLR85000CLR\n\n1. \n\n2. GCOutMemoryExceptionCLR\n3. 2012XML/JSONI/O/\n\n##  \n CLRGC\n\n GC\n\n### \n\n- GCGC,GCCPU\n\n### \n\n- GCGCCPUGCCPUCPUCPU\n\nGCCLRASP.NET CLR GC.CLRGC\n\nCLR CLRgcServer\n\n```XML\n<configuration>\n       <runtime>\n             <gcServer enabled=\"true\">\n      </runtime>\n</configuration> \n```\n\nGCSettingsBooleanIsServerGCCLRGC\n\nGC()\n ","source":"_posts/C#.NET().md","raw":"---\nlayout: post\ntitle: C#.NET()\ncategory: dotnet\n---\n# ()\n\n## \n\n CLR85000CLR\n\n1. \n\n2. GCOutMemoryExceptionCLR\n3. 2012XML/JSONI/O/\n\n##  \n CLRGC\n\n GC\n\n### \n\n- GCGC,GCCPU\n\n### \n\n- GCGCCPUGCCPUCPUCPU\n\nGCCLRASP.NET CLR GC.CLRGC\n\nCLR CLRgcServer\n\n```XML\n<configuration>\n       <runtime>\n             <gcServer enabled=\"true\">\n      </runtime>\n</configuration> \n```\n\nGCSettingsBooleanIsServerGCCLRGC\n\nGC()\n ","slug":"C#.NET()","published":1,"date":"2016-02-23T15:29:23.000Z","updated":"2018-05-17T08:07:17.351Z","comments":1,"photos":[],"link":"","_id":"cjha9u0dp0005gr1wd2duayzc","content":"<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> CLR85000CLR</p>\n<ol>\n<li><p></p>\n</li>\n<li><p>GCOutMemoryExceptionCLR</p>\n</li>\n<li>2012XML/JSONI/O/</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> CLRGC</p>\n<p> GC</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>GCGC,GCCPU</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>GCGCCPUGCCPUCPUCPU</li>\n</ul>\n<p>GCCLRASP.NET CLR GC.CLRGC</p>\n<p>CLR CLRgcServer</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">runtime</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">gcServer</span> <span class=\"attr\">enabled</span>=<span class=\"string\">\"true\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">runtime</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>GCSettingsBooleanIsServerGCCLRGC</p>\n<p>GC()<br> </p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> CLR85000CLR</p>\n<ol>\n<li><p></p>\n</li>\n<li><p>GCOutMemoryExceptionCLR</p>\n</li>\n<li>2012XML/JSONI/O/</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> CLRGC</p>\n<p> GC</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>GCGC,GCCPU</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>GCGCCPUGCCPUCPUCPU</li>\n</ul>\n<p>GCCLRASP.NET CLR GC.CLRGC</p>\n<p>CLR CLRgcServer</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">configuration</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">runtime</span>&gt;</span></span><br><span class=\"line\">             <span class=\"tag\">&lt;<span class=\"name\">gcServer</span> <span class=\"attr\">enabled</span>=<span class=\"string\">\"true\"</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">runtime</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>GCSettingsBooleanIsServerGCCLRGC</p>\n<p>GC()<br> </p>\n"},{"layout":"post","title":"C# LINQ","_content":"# LINQ  ()\n\nhttp://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html\n\nLINQEssential LINQ,\n\nLINQ\n\n*Essential LINQ\n\nLINQ\n\nLINQ\n\n## IntegratedIntegratedLINQ\n\n(1):C#(VB)C#\n\ndebugger\n\n(2):\n\n(3):\n\n```C#\n \n//\nSqlConnection sqlConn = new SqlConnection(connectionString);>\nsqlConn.Open();\nSqlCommand command = new SqlCommand();\ncommand.Connection = sqlConn;\ncommand.CommandText = \"Select * From Customer\";\nSqlDataReader dataReader = command.ExecuteReader(CommandBehavior.CloseConnection);\n//LINQ\nNORTHWNDDataContext dc = new NORTHWNDDataContext();\nvar query = from c in dc.Customers\n            select c;\n```\n\n## UnitiveUnitive()(,xlm,)\n\n\n\nLINQ\n\nLINQ\n\n```C#\n//:\nvar query = from c in GetCustomers()\n            select c;\n \n//:SQL\nvar query1 = from c in dc.Customers\n             select c;\n//:XML\nvar query2 = from c in customers.Descendants(\"Customer\")\n             select c;\n```\n\n## ExtensibleExtensible()2:\n\n(1). LINQLINQ provider modelLINQproviderLINQ\n\n(2).LINQ\n\nLINQ provider\n\nLINQ Extender, LINQ to JavaScript, LINQ to JSON, LINQ to MySQL, LINQ to Flickr, LINQ to Google\n\n## DeclarativeDeclarative()\n\nDeclarative programming()2\n\n(1).\n\n(2).\n\nSQLLINQSQLSQLSQL\n\nDeclarative programming  Imperative programming\n\n```C#\n//\nList<List<int>> lists = new List<List<int>> { new List<int> { 1, 2, 3 }, new List<int> { 4, 5 } };\nvar query = from list in lists\n            from num in list\n            where num % 3 == 0\n            orderby num descending\n            select num;\n \n//\nList<int> list1 = new List<int>();\nlist1.Add(1);\nlist1.Add(2);\nlist1.Add(3);\nList<int> list2 = new List<int>();\nlist2.Add(4);\nlist2.Add(5);\nList<List<int>> lists1 = new List<List<int>>();\nlists1.Add(list1);\nlists1.Add(list2);\n \nList<int> newList = new List<int>();\nforeach (var item in lists1)\n      foreach (var num in item)\n        if (num % 3 == 0)\n            newList.Add(num);\nnewList.Reverse();\n\n```\n\n## .HierarchicalHierarchical()\n\nSQL\n\nrectangular gridLINQO-R Mapping\n\n\n\n \n\n## .ComposableComposable()LINQ\n\nLINQIEnumerable<T>LINQ\n\n\n\n(1).\n\n(2).\n\n\n```\n//Composable\nList<List<int>> lists = new List<List<int>> { new List<int>\n { 1, 2, 3 }, new List<int> { 4, 5 } };\n \nvar query1 = from list in lists\n             from num in list\n             select num;\n \nvar query2 = from num in query1\n             where num % 3 == 0\n             select num;\n \nvar query3 = from num in query2\n             orderby num descending\n             select num;\n```\n\n \n\n######7.TransformativeTransformative()LINQ\n\n\n\n\n```\n//XML\n\tvar query = new XElement(\"Orders\",\n            from c in dc.Customers\n            where c.City == \"Paris\"\n            select new XElement(\"Order\",\n                new XAttribute(\"Address\", c.Address)));\n```\n\nLINQ\n\n//2011/1/28 (LINQ TO SQL)\n\nLINQ TO SQL LINQ TO SQLSQLLINQ TO SQL \n\n\nhttp://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html ","source":"_posts/C#-LINQ().md","raw":"---\nlayout: post\ntitle: C# LINQ\ncategory: dotnet core\n---\n# LINQ  ()\n\nhttp://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html\n\nLINQEssential LINQ,\n\nLINQ\n\n*Essential LINQ\n\nLINQ\n\nLINQ\n\n## IntegratedIntegratedLINQ\n\n(1):C#(VB)C#\n\ndebugger\n\n(2):\n\n(3):\n\n```C#\n \n//\nSqlConnection sqlConn = new SqlConnection(connectionString);>\nsqlConn.Open();\nSqlCommand command = new SqlCommand();\ncommand.Connection = sqlConn;\ncommand.CommandText = \"Select * From Customer\";\nSqlDataReader dataReader = command.ExecuteReader(CommandBehavior.CloseConnection);\n//LINQ\nNORTHWNDDataContext dc = new NORTHWNDDataContext();\nvar query = from c in dc.Customers\n            select c;\n```\n\n## UnitiveUnitive()(,xlm,)\n\n\n\nLINQ\n\nLINQ\n\n```C#\n//:\nvar query = from c in GetCustomers()\n            select c;\n \n//:SQL\nvar query1 = from c in dc.Customers\n             select c;\n//:XML\nvar query2 = from c in customers.Descendants(\"Customer\")\n             select c;\n```\n\n## ExtensibleExtensible()2:\n\n(1). LINQLINQ provider modelLINQproviderLINQ\n\n(2).LINQ\n\nLINQ provider\n\nLINQ Extender, LINQ to JavaScript, LINQ to JSON, LINQ to MySQL, LINQ to Flickr, LINQ to Google\n\n## DeclarativeDeclarative()\n\nDeclarative programming()2\n\n(1).\n\n(2).\n\nSQLLINQSQLSQLSQL\n\nDeclarative programming  Imperative programming\n\n```C#\n//\nList<List<int>> lists = new List<List<int>> { new List<int> { 1, 2, 3 }, new List<int> { 4, 5 } };\nvar query = from list in lists\n            from num in list\n            where num % 3 == 0\n            orderby num descending\n            select num;\n \n//\nList<int> list1 = new List<int>();\nlist1.Add(1);\nlist1.Add(2);\nlist1.Add(3);\nList<int> list2 = new List<int>();\nlist2.Add(4);\nlist2.Add(5);\nList<List<int>> lists1 = new List<List<int>>();\nlists1.Add(list1);\nlists1.Add(list2);\n \nList<int> newList = new List<int>();\nforeach (var item in lists1)\n      foreach (var num in item)\n        if (num % 3 == 0)\n            newList.Add(num);\nnewList.Reverse();\n\n```\n\n## .HierarchicalHierarchical()\n\nSQL\n\nrectangular gridLINQO-R Mapping\n\n\n\n \n\n## .ComposableComposable()LINQ\n\nLINQIEnumerable<T>LINQ\n\n\n\n(1).\n\n(2).\n\n\n```\n//Composable\nList<List<int>> lists = new List<List<int>> { new List<int>\n { 1, 2, 3 }, new List<int> { 4, 5 } };\n \nvar query1 = from list in lists\n             from num in list\n             select num;\n \nvar query2 = from num in query1\n             where num % 3 == 0\n             select num;\n \nvar query3 = from num in query2\n             orderby num descending\n             select num;\n```\n\n \n\n######7.TransformativeTransformative()LINQ\n\n\n\n\n```\n//XML\n\tvar query = new XElement(\"Orders\",\n            from c in dc.Customers\n            where c.City == \"Paris\"\n            select new XElement(\"Order\",\n                new XAttribute(\"Address\", c.Address)));\n```\n\nLINQ\n\n//2011/1/28 (LINQ TO SQL)\n\nLINQ TO SQL LINQ TO SQLSQLLINQ TO SQL \n\n\nhttp://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html ","slug":"C#-LINQ()","published":1,"date":"2016-02-23T14:16:59.000Z","updated":"2018-05-17T08:07:01.232Z","comments":1,"photos":[],"link":"","_id":"cjha9u0ds0008gr1w2ucggo0m","content":"<h1 id=\"LINQ---\"><a href=\"#LINQ---\" class=\"headerlink\" title=\"LINQ  ()\"></a>LINQ  ()</h1><p><a href=\"http://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html</a></p>\n<p>LINQEssential LINQ,</p>\n<p>LINQ</p>\n<p>*Essential LINQ</p>\n<p>LINQ</p>\n<p>LINQ</p>\n<h2 id=\"IntegratedIntegratedLINQ\"><a href=\"#IntegratedIntegratedLINQ\" class=\"headerlink\" title=\"IntegratedIntegratedLINQ\"></a>IntegratedIntegratedLINQ</h2><p>(1):C#(VB)C#</p>\n<p>debugger</p>\n<p>(2):</p>\n<p>(3):</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> </span><br><span class=\"line\">//</span><br><span class=\"line\">SqlConnection sqlConn = new SqlConnection(connectionString);&gt;</span><br><span class=\"line\">sqlConn.Open();</span><br><span class=\"line\">SqlCommand command = new SqlCommand();</span><br><span class=\"line\">command.Connection = sqlConn;</span><br><span class=\"line\">command.CommandText = &quot;Select * From Customer&quot;;</span><br><span class=\"line\">SqlDataReader dataReader = command.ExecuteReader(CommandBehavior.CloseConnection);</span><br><span class=\"line\">//LINQ</span><br><span class=\"line\">NORTHWNDDataContext dc = new NORTHWNDDataContext();</span><br><span class=\"line\">var query = from c in dc.Customers</span><br><span class=\"line\">            select c;</span><br></pre></td></tr></table></figure>\n<h2 id=\"UnitiveUnitive----xlm--\"><a href=\"#UnitiveUnitive----xlm--\" class=\"headerlink\" title=\"UnitiveUnitive()(,xlm,)\"></a>UnitiveUnitive()(,xlm,)</h2><p></p>\n<p>LINQ<br><br>LINQ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//:</span><br><span class=\"line\">var query = from c in GetCustomers()</span><br><span class=\"line\">            select c;</span><br><span class=\"line\"> </span><br><span class=\"line\">//:SQL</span><br><span class=\"line\">var query1 = from c in dc.Customers</span><br><span class=\"line\">             select c;</span><br><span class=\"line\">//:XML</span><br><span class=\"line\">var query2 = from c in customers.Descendants(&quot;Customer&quot;)</span><br><span class=\"line\">             select c;</span><br></pre></td></tr></table></figure>\n<h2 id=\"ExtensibleExtensible--2\"><a href=\"#ExtensibleExtensible--2\" class=\"headerlink\" title=\"ExtensibleExtensible()2:\"></a>ExtensibleExtensible()2:</h2><p>(1). LINQLINQ provider modelLINQproviderLINQ</p>\n<p>(2).LINQ</p>\n<p>LINQ provider</p>\n<p>LINQ Extender, LINQ to JavaScript, LINQ to JSON, LINQ to MySQL, LINQ to Flickr, LINQ to Google</p>\n<h2 id=\"DeclarativeDeclarative--\"><a href=\"#DeclarativeDeclarative--\" class=\"headerlink\" title=\"DeclarativeDeclarative()\"></a>DeclarativeDeclarative()</h2><p>Declarative programming()2</p>\n<p>(1).</p>\n<p>(2).</p>\n<p>SQLLINQSQLSQLSQL</p>\n<p>Declarative programming  Imperative programming</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">List&lt;List&lt;int&gt;&gt; lists = new List&lt;List&lt;int&gt;&gt; &#123; new List&lt;int&gt; &#123; 1, 2, 3 &#125;, new List&lt;int&gt; &#123; 4, 5 &#125; &#125;;</span><br><span class=\"line\">var query = from list in lists</span><br><span class=\"line\">            from num in list</span><br><span class=\"line\">            where num % 3 == 0</span><br><span class=\"line\">            orderby num descending</span><br><span class=\"line\">            select num;</span><br><span class=\"line\"> </span><br><span class=\"line\">//</span><br><span class=\"line\">List&lt;int&gt; list1 = new List&lt;int&gt;();</span><br><span class=\"line\">list1.Add(1);</span><br><span class=\"line\">list1.Add(2);</span><br><span class=\"line\">list1.Add(3);</span><br><span class=\"line\">List&lt;int&gt; list2 = new List&lt;int&gt;();</span><br><span class=\"line\">list2.Add(4);</span><br><span class=\"line\">list2.Add(5);</span><br><span class=\"line\">List&lt;List&lt;int&gt;&gt; lists1 = new List&lt;List&lt;int&gt;&gt;();</span><br><span class=\"line\">lists1.Add(list1);</span><br><span class=\"line\">lists1.Add(list2);</span><br><span class=\"line\"> </span><br><span class=\"line\">List&lt;int&gt; newList = new List&lt;int&gt;();</span><br><span class=\"line\">foreach (var item in lists1)</span><br><span class=\"line\">      foreach (var num in item)</span><br><span class=\"line\">        if (num % 3 == 0)</span><br><span class=\"line\">            newList.Add(num);</span><br><span class=\"line\">newList.Reverse();</span><br></pre></td></tr></table></figure>\n<h2 id=\"HierarchicalHierarchical--\"><a href=\"#HierarchicalHierarchical--\" class=\"headerlink\" title=\".HierarchicalHierarchical()\"></a>.HierarchicalHierarchical()</h2><p>SQL</p>\n<p>rectangular gridLINQO-R Mapping</p>\n<p></p>\n<h2 id=\"ComposableComposable--LINQ\"><a href=\"#ComposableComposable--LINQ\" class=\"headerlink\" title=\".ComposableComposable()LINQ\"></a>.ComposableComposable()LINQ</h2><p>LINQIEnumerable<t>LINQ</t></p>\n<p></p>\n<p>(1).</p>\n<p>(2).</p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Composable</span><br><span class=\"line\">List&lt;List&lt;int&gt;&gt; lists = new List&lt;List&lt;int&gt;&gt; &#123; new List&lt;int&gt;</span><br><span class=\"line\"> &#123; 1, 2, 3 &#125;, new List&lt;int&gt; &#123; 4, 5 &#125; &#125;;</span><br><span class=\"line\"> </span><br><span class=\"line\">var query1 = from list in lists</span><br><span class=\"line\">             from num in list</span><br><span class=\"line\">             select num;</span><br><span class=\"line\"> </span><br><span class=\"line\">var query2 = from num in query1</span><br><span class=\"line\">             where num % 3 == 0</span><br><span class=\"line\">             select num;</span><br><span class=\"line\"> </span><br><span class=\"line\">var query3 = from num in query2</span><br><span class=\"line\">             orderby num descending</span><br><span class=\"line\">             select num;</span><br></pre></td></tr></table></figure></p>\n<p>######7.TransformativeTransformative()LINQ</p>\n<p></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//XML</span><br><span class=\"line\">\tvar query = new XElement(&quot;Orders&quot;,</span><br><span class=\"line\">            from c in dc.Customers</span><br><span class=\"line\">            where c.City == &quot;Paris&quot;</span><br><span class=\"line\">            select new XElement(&quot;Order&quot;,</span><br><span class=\"line\">                new XAttribute(&quot;Address&quot;, c.Address)));</span><br></pre></td></tr></table></figure></p>\n<p>LINQ</p>\n<p>//2011/1/28 (LINQ TO SQL)</p>\n<p>LINQ TO SQL LINQ TO SQLSQLLINQ TO SQL </p>\n<p><a href=\"http://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html</a> </p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"LINQ---\"><a href=\"#LINQ---\" class=\"headerlink\" title=\"LINQ  ()\"></a>LINQ  ()</h1><p><a href=\"http://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html</a></p>\n<p>LINQEssential LINQ,</p>\n<p>LINQ</p>\n<p>*Essential LINQ</p>\n<p>LINQ</p>\n<p>LINQ</p>\n<h2 id=\"IntegratedIntegratedLINQ\"><a href=\"#IntegratedIntegratedLINQ\" class=\"headerlink\" title=\"IntegratedIntegratedLINQ\"></a>IntegratedIntegratedLINQ</h2><p>(1):C#(VB)C#</p>\n<p>debugger</p>\n<p>(2):</p>\n<p>(3):</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> </span><br><span class=\"line\">//</span><br><span class=\"line\">SqlConnection sqlConn = new SqlConnection(connectionString);&gt;</span><br><span class=\"line\">sqlConn.Open();</span><br><span class=\"line\">SqlCommand command = new SqlCommand();</span><br><span class=\"line\">command.Connection = sqlConn;</span><br><span class=\"line\">command.CommandText = &quot;Select * From Customer&quot;;</span><br><span class=\"line\">SqlDataReader dataReader = command.ExecuteReader(CommandBehavior.CloseConnection);</span><br><span class=\"line\">//LINQ</span><br><span class=\"line\">NORTHWNDDataContext dc = new NORTHWNDDataContext();</span><br><span class=\"line\">var query = from c in dc.Customers</span><br><span class=\"line\">            select c;</span><br></pre></td></tr></table></figure>\n<h2 id=\"UnitiveUnitive----xlm--\"><a href=\"#UnitiveUnitive----xlm--\" class=\"headerlink\" title=\"UnitiveUnitive()(,xlm,)\"></a>UnitiveUnitive()(,xlm,)</h2><p></p>\n<p>LINQ<br><br>LINQ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//:</span><br><span class=\"line\">var query = from c in GetCustomers()</span><br><span class=\"line\">            select c;</span><br><span class=\"line\"> </span><br><span class=\"line\">//:SQL</span><br><span class=\"line\">var query1 = from c in dc.Customers</span><br><span class=\"line\">             select c;</span><br><span class=\"line\">//:XML</span><br><span class=\"line\">var query2 = from c in customers.Descendants(&quot;Customer&quot;)</span><br><span class=\"line\">             select c;</span><br></pre></td></tr></table></figure>\n<h2 id=\"ExtensibleExtensible--2\"><a href=\"#ExtensibleExtensible--2\" class=\"headerlink\" title=\"ExtensibleExtensible()2:\"></a>ExtensibleExtensible()2:</h2><p>(1). LINQLINQ provider modelLINQproviderLINQ</p>\n<p>(2).LINQ</p>\n<p>LINQ provider</p>\n<p>LINQ Extender, LINQ to JavaScript, LINQ to JSON, LINQ to MySQL, LINQ to Flickr, LINQ to Google</p>\n<h2 id=\"DeclarativeDeclarative--\"><a href=\"#DeclarativeDeclarative--\" class=\"headerlink\" title=\"DeclarativeDeclarative()\"></a>DeclarativeDeclarative()</h2><p>Declarative programming()2</p>\n<p>(1).</p>\n<p>(2).</p>\n<p>SQLLINQSQLSQLSQL</p>\n<p>Declarative programming  Imperative programming</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">List&lt;List&lt;int&gt;&gt; lists = new List&lt;List&lt;int&gt;&gt; &#123; new List&lt;int&gt; &#123; 1, 2, 3 &#125;, new List&lt;int&gt; &#123; 4, 5 &#125; &#125;;</span><br><span class=\"line\">var query = from list in lists</span><br><span class=\"line\">            from num in list</span><br><span class=\"line\">            where num % 3 == 0</span><br><span class=\"line\">            orderby num descending</span><br><span class=\"line\">            select num;</span><br><span class=\"line\"> </span><br><span class=\"line\">//</span><br><span class=\"line\">List&lt;int&gt; list1 = new List&lt;int&gt;();</span><br><span class=\"line\">list1.Add(1);</span><br><span class=\"line\">list1.Add(2);</span><br><span class=\"line\">list1.Add(3);</span><br><span class=\"line\">List&lt;int&gt; list2 = new List&lt;int&gt;();</span><br><span class=\"line\">list2.Add(4);</span><br><span class=\"line\">list2.Add(5);</span><br><span class=\"line\">List&lt;List&lt;int&gt;&gt; lists1 = new List&lt;List&lt;int&gt;&gt;();</span><br><span class=\"line\">lists1.Add(list1);</span><br><span class=\"line\">lists1.Add(list2);</span><br><span class=\"line\"> </span><br><span class=\"line\">List&lt;int&gt; newList = new List&lt;int&gt;();</span><br><span class=\"line\">foreach (var item in lists1)</span><br><span class=\"line\">      foreach (var num in item)</span><br><span class=\"line\">        if (num % 3 == 0)</span><br><span class=\"line\">            newList.Add(num);</span><br><span class=\"line\">newList.Reverse();</span><br></pre></td></tr></table></figure>\n<h2 id=\"HierarchicalHierarchical--\"><a href=\"#HierarchicalHierarchical--\" class=\"headerlink\" title=\".HierarchicalHierarchical()\"></a>.HierarchicalHierarchical()</h2><p>SQL</p>\n<p>rectangular gridLINQO-R Mapping</p>\n<p></p>\n<h2 id=\"ComposableComposable--LINQ\"><a href=\"#ComposableComposable--LINQ\" class=\"headerlink\" title=\".ComposableComposable()LINQ\"></a>.ComposableComposable()LINQ</h2><p>LINQIEnumerable<t>LINQ</t></p>\n<p></p>\n<p>(1).</p>\n<p>(2).</p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Composable</span><br><span class=\"line\">List&lt;List&lt;int&gt;&gt; lists = new List&lt;List&lt;int&gt;&gt; &#123; new List&lt;int&gt;</span><br><span class=\"line\"> &#123; 1, 2, 3 &#125;, new List&lt;int&gt; &#123; 4, 5 &#125; &#125;;</span><br><span class=\"line\"> </span><br><span class=\"line\">var query1 = from list in lists</span><br><span class=\"line\">             from num in list</span><br><span class=\"line\">             select num;</span><br><span class=\"line\"> </span><br><span class=\"line\">var query2 = from num in query1</span><br><span class=\"line\">             where num % 3 == 0</span><br><span class=\"line\">             select num;</span><br><span class=\"line\"> </span><br><span class=\"line\">var query3 = from num in query2</span><br><span class=\"line\">             orderby num descending</span><br><span class=\"line\">             select num;</span><br></pre></td></tr></table></figure></p>\n<p>######7.TransformativeTransformative()LINQ</p>\n<p></p>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//XML</span><br><span class=\"line\">\tvar query = new XElement(&quot;Orders&quot;,</span><br><span class=\"line\">            from c in dc.Customers</span><br><span class=\"line\">            where c.City == &quot;Paris&quot;</span><br><span class=\"line\">            select new XElement(&quot;Order&quot;,</span><br><span class=\"line\">                new XAttribute(&quot;Address&quot;, c.Address)));</span><br></pre></td></tr></table></figure></p>\n<p>LINQ</p>\n<p>//2011/1/28 (LINQ TO SQL)</p>\n<p>LINQ TO SQL LINQ TO SQLSQLLINQ TO SQL </p>\n<p><a href=\"http://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html\" target=\"_blank\" rel=\"noopener\">http://www.cnblogs.com/c-jquery-linq-sql-net-problem/archive/2011/01/15/LINQ_Merit.html</a> </p>\n"},{"layout":"post","title":"C#","_content":"\n,\n\n\n\n\n\n```csharp\nstatic IEnumerable<T> FindValue(IEnumerable<T> enumerable, T value)\n{\n    foreach (T element in enumerable)\n    {\n        if (element.Equals(value))\n            yield return element;\n    }\n}\n```\n\n\n\n\n```csharp\n\n```\n\n\n\n```csharp\n\n```\n\n\n```csharp\n\n```","source":"_posts/C#.md","raw":"---\nlayout: post\ntitle: C#\ncategory: dotnet\n---\n\n,\n\n\n\n\n\n```csharp\nstatic IEnumerable<T> FindValue(IEnumerable<T> enumerable, T value)\n{\n    foreach (T element in enumerable)\n    {\n        if (element.Equals(value))\n            yield return element;\n    }\n}\n```\n\n\n\n\n```csharp\n\n```\n\n\n\n```csharp\n\n```\n\n\n```csharp\n\n```","slug":"C#","published":1,"date":"2016-03-17T09:00:12.000Z","updated":"2018-05-17T08:07:23.010Z","comments":1,"photos":[],"link":"","_id":"cjha9u0du0009gr1we2sv8x1c","content":"<p>,<br></p>\n<p><br></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> IEnumerable&lt;T&gt; <span class=\"title\">FindValue</span>(<span class=\"params\">IEnumerable&lt;T&gt; enumerable, T <span class=\"keyword\">value</span></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">foreach</span> (T element <span class=\"keyword\">in</span> enumerable)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (element.Equals(<span class=\"keyword\">value</span>))</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> element;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>,<br></p>\n<p><br></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">static</span> IEnumerable&lt;T&gt; <span class=\"title\">FindValue</span>(<span class=\"params\">IEnumerable&lt;T&gt; enumerable, T <span class=\"keyword\">value</span></span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">foreach</span> (T element <span class=\"keyword\">in</span> enumerable)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (element.Equals(<span class=\"keyword\">value</span>))</span><br><span class=\"line\">            <span class=\"keyword\">yield</span> <span class=\"keyword\">return</span> element;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"dotnet lmabda","_content":"\n\n\n```C#\n#region test1 \n\n        public static void test1()\n        {\n            int index = 0;\n            Func<IEnumerable<int>> sequence =()=>GetEnumrableInt(index);\n\n            index = 20;\n            foreach(int n in sequence())\n                Console.WriteLine(n);\n\n            Console.WriteLine(\"Done\");\n\n            index = 100;\n            foreach (int n in sequence())\n                Console.WriteLine(n);\n        }\n\n\n        public static IEnumerable<int> GetEnumrableInt(int index)\n        {\n            List<int> l = new List<int>();\n            for(int i=index;i<index+30;i++)\n            {\n                l.Add(i);\n            }\n            return l;\n        }\n\n        #endregion\n```\n\n20-50100-130...()\n\nC#C#lambda \"\"\"\"  \"\"lambdalambdabodydiamante\n\nlambda\n\n\n\n```C#\n//lambda\n        public static void test2()\n        {\n            int[] someNum = {0,1,2,3,4,5,6,7,8,9,10 };\n\n            IEnumerable<int> ans = from n in someNum\n                                   select n * n;\n\n            foreach (int i in ans)\n                Console.WriteLine(i);\n\n        }\n```\n\nn*nlambda\n```C#\n         //lambda\n        #region  test2()\n        private static int HiddenFunc(int n)\n        {\n            return n * n;\n        }\n        //\n        private static Func<int, int> HiddenDelegate;\n\n        public void test2_1()\n        {\n\n            int[] someNum = { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\n\n            if(HiddenDelegate==null)\n            {\n                HiddenDelegate = new Func<int, int>(HiddenFunc);\n            }\n            IEnumerable<int> ans = someNum.Select<int, int>(HiddenDelegate);\n\n          foreach(int i in ans)\n              Console.WriteLine(i);\n\n        }\n        #endregion\n```\n\nlambdalambdaC#\n\n\nlambda\n```C#\n    public class ModFilter\n    {\n        private readonly int modules;\n\n        public ModFilter(int mod)\n        {\n            modules = mod;\n        }\n\n\n        public IEnumerable<int> FindValues(IEnumerable<int> sequence)\n        {\n\n            return from n in sequence\n                   where n % modules == 0 //\n                   select n * n;  //\n        }\n    }\n\n\n\n/* \n\n\n\nlambda\n\n\n*/\n\n\n\n    public class ModFilter_Other\n    {\n        private readonly int modules;\n\n\n        //\n        private bool WhereClause(int n)\n        {\n            return ((n%this.modules) ==0);\n        }\n\n\n        private static int SelectClause(int n)\n        {\n            return n * n;\n        }\n\n        private static Func<int, int> SelectDelegate;\n\n\n\n\n        public ModFilter_Other(int mod)\n        {\n            modules = mod;\n        }\n\n\n        public IEnumerable<int> FindValues(IEnumerable<int> sequence)\n        {\n            if(SelectDelegate==null)\n            {\n                SelectDelegate = new Func<int, int>(SelectClause);\n            }\n\n            return sequence.Where<int>(\n                new Func<int, bool>(this.WhereClause)).\n                Select<int, int>(SelectClause);\n        }\n    }\n```\n\nlambdalambda\n\nlambda\n\n\n\nlambda\n\nlambda\n\n\n\n\n\n```C#\n\t\t  public class ModFilter\n\t\t  {\n\t\t        private readonly int modules;\n\t\t\n\t\t        public ModFilter(int mod)\n\t\t        {\n\t\t            modules = mod;\n\t\t        }\n\t\t\n\t\t\n\t\t        public IEnumerable<int> FindValues(IEnumerable<int> sequence)\n\t\t        {\n\t\t            int numValues = 0;\n\t\t\n\t\t            return from n in sequence\n\t\t                   where n % modules == 0 //\n\t\t                   select n * n / ++ numValues; //\n\t\t        }\n\t      }\n\n\nselectnumValues\n\n\n\n\n \t public class ModFilter\n     {\n        private sealed class Closure\n        {\n            public ModFilter outer;\n\n            public int numValues;\n\n            public int SelectClause(int n)\n            {\n                return ((n * n) / ++this.numValues);\n            }\n        }\n\n\n\n        private readonly int modules;\n\n\n        //\n        private bool WhereClause(int n)\n        {\n            return ((n % this.modules) == 0);\n        }\n\n        public ModFilter(int mod)\n        {\n            modules = mod;\n        }\n\n\n        public IEnumerable<int> FindValues(IEnumerable<int> sequence)\n        {\n            Closure c = new Closure();\n            c.outer = this;\n            c.numValues = 0;\n\n            return sequence.Where<int>(\n                new Func<int, bool>(this.WhereClause)).\n                Select<int, int>(c.SelectClause);\n        }\n    }\n```\n\nlambdalambda()lambda\n\nlambda\n\nindex\n\n\n\n\n","source":"_posts/C#.md","raw":"---\nlayout: post\ntitle: dotnet lmabda\ncategory: dotnet\n---\n\n\n\n```C#\n#region test1 \n\n        public static void test1()\n        {\n            int index = 0;\n            Func<IEnumerable<int>> sequence =()=>GetEnumrableInt(index);\n\n            index = 20;\n            foreach(int n in sequence())\n                Console.WriteLine(n);\n\n            Console.WriteLine(\"Done\");\n\n            index = 100;\n            foreach (int n in sequence())\n                Console.WriteLine(n);\n        }\n\n\n        public static IEnumerable<int> GetEnumrableInt(int index)\n        {\n            List<int> l = new List<int>();\n            for(int i=index;i<index+30;i++)\n            {\n                l.Add(i);\n            }\n            return l;\n        }\n\n        #endregion\n```\n\n20-50100-130...()\n\nC#C#lambda \"\"\"\"  \"\"lambdalambdabodydiamante\n\nlambda\n\n\n\n```C#\n//lambda\n        public static void test2()\n        {\n            int[] someNum = {0,1,2,3,4,5,6,7,8,9,10 };\n\n            IEnumerable<int> ans = from n in someNum\n                                   select n * n;\n\n            foreach (int i in ans)\n                Console.WriteLine(i);\n\n        }\n```\n\nn*nlambda\n```C#\n         //lambda\n        #region  test2()\n        private static int HiddenFunc(int n)\n        {\n            return n * n;\n        }\n        //\n        private static Func<int, int> HiddenDelegate;\n\n        public void test2_1()\n        {\n\n            int[] someNum = { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\n\n            if(HiddenDelegate==null)\n            {\n                HiddenDelegate = new Func<int, int>(HiddenFunc);\n            }\n            IEnumerable<int> ans = someNum.Select<int, int>(HiddenDelegate);\n\n          foreach(int i in ans)\n              Console.WriteLine(i);\n\n        }\n        #endregion\n```\n\nlambdalambdaC#\n\n\nlambda\n```C#\n    public class ModFilter\n    {\n        private readonly int modules;\n\n        public ModFilter(int mod)\n        {\n            modules = mod;\n        }\n\n\n        public IEnumerable<int> FindValues(IEnumerable<int> sequence)\n        {\n\n            return from n in sequence\n                   where n % modules == 0 //\n                   select n * n;  //\n        }\n    }\n\n\n\n/* \n\n\n\nlambda\n\n\n*/\n\n\n\n    public class ModFilter_Other\n    {\n        private readonly int modules;\n\n\n        //\n        private bool WhereClause(int n)\n        {\n            return ((n%this.modules) ==0);\n        }\n\n\n        private static int SelectClause(int n)\n        {\n            return n * n;\n        }\n\n        private static Func<int, int> SelectDelegate;\n\n\n\n\n        public ModFilter_Other(int mod)\n        {\n            modules = mod;\n        }\n\n\n        public IEnumerable<int> FindValues(IEnumerable<int> sequence)\n        {\n            if(SelectDelegate==null)\n            {\n                SelectDelegate = new Func<int, int>(SelectClause);\n            }\n\n            return sequence.Where<int>(\n                new Func<int, bool>(this.WhereClause)).\n                Select<int, int>(SelectClause);\n        }\n    }\n```\n\nlambdalambda\n\nlambda\n\n\n\nlambda\n\nlambda\n\n\n\n\n\n```C#\n\t\t  public class ModFilter\n\t\t  {\n\t\t        private readonly int modules;\n\t\t\n\t\t        public ModFilter(int mod)\n\t\t        {\n\t\t            modules = mod;\n\t\t        }\n\t\t\n\t\t\n\t\t        public IEnumerable<int> FindValues(IEnumerable<int> sequence)\n\t\t        {\n\t\t            int numValues = 0;\n\t\t\n\t\t            return from n in sequence\n\t\t                   where n % modules == 0 //\n\t\t                   select n * n / ++ numValues; //\n\t\t        }\n\t      }\n\n\nselectnumValues\n\n\n\n\n \t public class ModFilter\n     {\n        private sealed class Closure\n        {\n            public ModFilter outer;\n\n            public int numValues;\n\n            public int SelectClause(int n)\n            {\n                return ((n * n) / ++this.numValues);\n            }\n        }\n\n\n\n        private readonly int modules;\n\n\n        //\n        private bool WhereClause(int n)\n        {\n            return ((n % this.modules) == 0);\n        }\n\n        public ModFilter(int mod)\n        {\n            modules = mod;\n        }\n\n\n        public IEnumerable<int> FindValues(IEnumerable<int> sequence)\n        {\n            Closure c = new Closure();\n            c.outer = this;\n            c.numValues = 0;\n\n            return sequence.Where<int>(\n                new Func<int, bool>(this.WhereClause)).\n                Select<int, int>(c.SelectClause);\n        }\n    }\n```\n\nlambdalambda()lambda\n\nlambda\n\nindex\n\n\n\n\n","slug":"C#","published":1,"date":"2016-02-23T14:27:28.000Z","updated":"2018-05-17T08:07:31.066Z","comments":1,"photos":[],"link":"","_id":"cjha9u0dv000bgr1wg5m0emjk","content":"<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#region test1 </span><br><span class=\"line\"></span><br><span class=\"line\">        public static void test1()</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            int index = 0;</span><br><span class=\"line\">            Func&lt;IEnumerable&lt;int&gt;&gt; sequence =()=&gt;GetEnumrableInt(index);</span><br><span class=\"line\"></span><br><span class=\"line\">            index = 20;</span><br><span class=\"line\">            foreach(int n in sequence())</span><br><span class=\"line\">                Console.WriteLine(n);</span><br><span class=\"line\"></span><br><span class=\"line\">            Console.WriteLine(&quot;Done&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">            index = 100;</span><br><span class=\"line\">            foreach (int n in sequence())</span><br><span class=\"line\">                Console.WriteLine(n);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        public static IEnumerable&lt;int&gt; GetEnumrableInt(int index)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            List&lt;int&gt; l = new List&lt;int&gt;();</span><br><span class=\"line\">            for(int i=index;i&lt;index+30;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                l.Add(i);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return l;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        #endregion</span><br></pre></td></tr></table></figure>\n<p>20-50100-130()</p>\n<p>C#C#lambda   lambdalambdabodydiamante</p>\n<p>lambda</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//lambda</span><br><span class=\"line\">        public static void test2()</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            int[] someNum = &#123;0,1,2,3,4,5,6,7,8,9,10 &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">            IEnumerable&lt;int&gt; ans = from n in someNum</span><br><span class=\"line\">                                   select n * n;</span><br><span class=\"line\"></span><br><span class=\"line\">            foreach (int i in ans)</span><br><span class=\"line\">                Console.WriteLine(i);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n<p>n*nlambda<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> //lambda</span><br><span class=\"line\">#region  test2()</span><br><span class=\"line\">private static int HiddenFunc(int n)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return n * n;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">//</span><br><span class=\"line\">private static Func&lt;int, int&gt; HiddenDelegate;</span><br><span class=\"line\"></span><br><span class=\"line\">public void test2_1()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    int[] someNum = &#123; 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    if(HiddenDelegate==null)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        HiddenDelegate = new Func&lt;int, int&gt;(HiddenFunc);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    IEnumerable&lt;int&gt; ans = someNum.Select&lt;int, int&gt;(HiddenDelegate);</span><br><span class=\"line\"></span><br><span class=\"line\">  foreach(int i in ans)</span><br><span class=\"line\">      Console.WriteLine(i);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">#endregion</span><br></pre></td></tr></table></figure></p>\n<p>lambdalambdaC#</p>\n<p><br>lambda<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    public class ModFilter</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        private readonly int modules;</span><br><span class=\"line\"></span><br><span class=\"line\">        public ModFilter(int mod)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            modules = mod;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        public IEnumerable&lt;int&gt; FindValues(IEnumerable&lt;int&gt; sequence)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            return from n in sequence</span><br><span class=\"line\">                   where n % modules == 0 //</span><br><span class=\"line\">                   select n * n;  //</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">/* </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">lambda</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    public class ModFilter_Other</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        private readonly int modules;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        //</span><br><span class=\"line\">        private bool WhereClause(int n)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            return ((n%this.modules) ==0);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        private static int SelectClause(int n)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            return n * n;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        private static Func&lt;int, int&gt; SelectDelegate;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        public ModFilter_Other(int mod)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            modules = mod;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        public IEnumerable&lt;int&gt; FindValues(IEnumerable&lt;int&gt; sequence)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            if(SelectDelegate==null)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                SelectDelegate = new Func&lt;int, int&gt;(SelectClause);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            return sequence.Where&lt;int&gt;(</span><br><span class=\"line\">                new Func&lt;int, bool&gt;(this.WhereClause)).</span><br><span class=\"line\">                Select&lt;int, int&gt;(SelectClause);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>lambdalambda</p>\n<p>lambda</p>\n<p></p>\n<p>lambda</p>\n<p>lambda</p>\n<p></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t\t  public class ModFilter</span><br><span class=\"line\">\t\t  &#123;</span><br><span class=\"line\">\t\t        private readonly int modules;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t        public ModFilter(int mod)</span><br><span class=\"line\">\t\t        &#123;</span><br><span class=\"line\">\t\t            modules = mod;</span><br><span class=\"line\">\t\t        &#125;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t        public IEnumerable&lt;int&gt; FindValues(IEnumerable&lt;int&gt; sequence)</span><br><span class=\"line\">\t\t        &#123;</span><br><span class=\"line\">\t\t            int numValues = 0;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t            return from n in sequence</span><br><span class=\"line\">\t\t                   where n % modules == 0 //</span><br><span class=\"line\">\t\t                   select n * n / ++ numValues; //</span><br><span class=\"line\">\t\t        &#125;</span><br><span class=\"line\">\t      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">selectnumValues</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> \t public class ModFilter</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">        private sealed class Closure</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            public ModFilter outer;</span><br><span class=\"line\"></span><br><span class=\"line\">            public int numValues;</span><br><span class=\"line\"></span><br><span class=\"line\">            public int SelectClause(int n)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                return ((n * n) / ++this.numValues);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        private readonly int modules;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        //</span><br><span class=\"line\">        private bool WhereClause(int n)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            return ((n % this.modules) == 0);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public ModFilter(int mod)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            modules = mod;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        public IEnumerable&lt;int&gt; FindValues(IEnumerable&lt;int&gt; sequence)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Closure c = new Closure();</span><br><span class=\"line\">            c.outer = this;</span><br><span class=\"line\">            c.numValues = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">            return sequence.Where&lt;int&gt;(</span><br><span class=\"line\">                new Func&lt;int, bool&gt;(this.WhereClause)).</span><br><span class=\"line\">                Select&lt;int, int&gt;(c.SelectClause);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>lambdalambda()lambda</p>\n<p>lambda</p>\n<p>index</p>\n<p><br></p>\n","site":{"data":{}},"excerpt":"","more":"<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#region test1 </span><br><span class=\"line\"></span><br><span class=\"line\">        public static void test1()</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            int index = 0;</span><br><span class=\"line\">            Func&lt;IEnumerable&lt;int&gt;&gt; sequence =()=&gt;GetEnumrableInt(index);</span><br><span class=\"line\"></span><br><span class=\"line\">            index = 20;</span><br><span class=\"line\">            foreach(int n in sequence())</span><br><span class=\"line\">                Console.WriteLine(n);</span><br><span class=\"line\"></span><br><span class=\"line\">            Console.WriteLine(&quot;Done&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">            index = 100;</span><br><span class=\"line\">            foreach (int n in sequence())</span><br><span class=\"line\">                Console.WriteLine(n);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        public static IEnumerable&lt;int&gt; GetEnumrableInt(int index)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            List&lt;int&gt; l = new List&lt;int&gt;();</span><br><span class=\"line\">            for(int i=index;i&lt;index+30;i++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                l.Add(i);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            return l;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        #endregion</span><br></pre></td></tr></table></figure>\n<p>20-50100-130()</p>\n<p>C#C#lambda   lambdalambdabodydiamante</p>\n<p>lambda</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//lambda</span><br><span class=\"line\">        public static void test2()</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            int[] someNum = &#123;0,1,2,3,4,5,6,7,8,9,10 &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">            IEnumerable&lt;int&gt; ans = from n in someNum</span><br><span class=\"line\">                                   select n * n;</span><br><span class=\"line\"></span><br><span class=\"line\">            foreach (int i in ans)</span><br><span class=\"line\">                Console.WriteLine(i);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br></pre></td></tr></table></figure>\n<p>n*nlambda<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> //lambda</span><br><span class=\"line\">#region  test2()</span><br><span class=\"line\">private static int HiddenFunc(int n)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    return n * n;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">//</span><br><span class=\"line\">private static Func&lt;int, int&gt; HiddenDelegate;</span><br><span class=\"line\"></span><br><span class=\"line\">public void test2_1()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    int[] someNum = &#123; 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    if(HiddenDelegate==null)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        HiddenDelegate = new Func&lt;int, int&gt;(HiddenFunc);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    IEnumerable&lt;int&gt; ans = someNum.Select&lt;int, int&gt;(HiddenDelegate);</span><br><span class=\"line\"></span><br><span class=\"line\">  foreach(int i in ans)</span><br><span class=\"line\">      Console.WriteLine(i);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">#endregion</span><br></pre></td></tr></table></figure></p>\n<p>lambdalambdaC#</p>\n<p><br>lambda<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    public class ModFilter</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        private readonly int modules;</span><br><span class=\"line\"></span><br><span class=\"line\">        public ModFilter(int mod)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            modules = mod;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        public IEnumerable&lt;int&gt; FindValues(IEnumerable&lt;int&gt; sequence)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            return from n in sequence</span><br><span class=\"line\">                   where n % modules == 0 //</span><br><span class=\"line\">                   select n * n;  //</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">/* </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">lambda</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">*/</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    public class ModFilter_Other</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        private readonly int modules;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        //</span><br><span class=\"line\">        private bool WhereClause(int n)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            return ((n%this.modules) ==0);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        private static int SelectClause(int n)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            return n * n;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        private static Func&lt;int, int&gt; SelectDelegate;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        public ModFilter_Other(int mod)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            modules = mod;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        public IEnumerable&lt;int&gt; FindValues(IEnumerable&lt;int&gt; sequence)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            if(SelectDelegate==null)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                SelectDelegate = new Func&lt;int, int&gt;(SelectClause);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            return sequence.Where&lt;int&gt;(</span><br><span class=\"line\">                new Func&lt;int, bool&gt;(this.WhereClause)).</span><br><span class=\"line\">                Select&lt;int, int&gt;(SelectClause);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>lambdalambda</p>\n<p>lambda</p>\n<p></p>\n<p>lambda</p>\n<p>lambda</p>\n<p></p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\t\t  public class ModFilter</span><br><span class=\"line\">\t\t  &#123;</span><br><span class=\"line\">\t\t        private readonly int modules;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t        public ModFilter(int mod)</span><br><span class=\"line\">\t\t        &#123;</span><br><span class=\"line\">\t\t            modules = mod;</span><br><span class=\"line\">\t\t        &#125;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t        public IEnumerable&lt;int&gt; FindValues(IEnumerable&lt;int&gt; sequence)</span><br><span class=\"line\">\t\t        &#123;</span><br><span class=\"line\">\t\t            int numValues = 0;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t            return from n in sequence</span><br><span class=\"line\">\t\t                   where n % modules == 0 //</span><br><span class=\"line\">\t\t                   select n * n / ++ numValues; //</span><br><span class=\"line\">\t\t        &#125;</span><br><span class=\"line\">\t      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">selectnumValues</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"> \t public class ModFilter</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">        private sealed class Closure</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            public ModFilter outer;</span><br><span class=\"line\"></span><br><span class=\"line\">            public int numValues;</span><br><span class=\"line\"></span><br><span class=\"line\">            public int SelectClause(int n)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                return ((n * n) / ++this.numValues);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        private readonly int modules;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        //</span><br><span class=\"line\">        private bool WhereClause(int n)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            return ((n % this.modules) == 0);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        public ModFilter(int mod)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            modules = mod;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        public IEnumerable&lt;int&gt; FindValues(IEnumerable&lt;int&gt; sequence)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            Closure c = new Closure();</span><br><span class=\"line\">            c.outer = this;</span><br><span class=\"line\">            c.numValues = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">            return sequence.Where&lt;int&gt;(</span><br><span class=\"line\">                new Func&lt;int, bool&gt;(this.WhereClause)).</span><br><span class=\"line\">                Select&lt;int, int&gt;(c.SelectClause);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>lambdalambda()lambda</p>\n<p>lambda</p>\n<p>index</p>\n<p><br></p>\n"},{"layout":"post","title":"C#.NET","_content":"\n# C#.NET\n\n## \n\n .....\n \n \n\n1. ILnewobj(C# new)\n2. \n3. \n4. Dispose\n5. GC \n\n## \n\nCLR\nCLRCLRNextObjPtr NextObjPtr \nCLR\n\n\n\n\n\n321.5GB648T\n\n\n[Memory Support and Windows Operating Systems](https://msdn.microsoft.com/zh-cn/library/windows/hardware/Dn613959(v=vs.85).aspx)\n\n[](https://msdn.microsoft.com/zh-cn/library/ms189334.aspx)\n\n[ 32C/C++](http://blog.csdn.net/yusiguyuan/article/details/12405799)\n\n## C# newCLR\n\n1. \n\n2. 32328646416\n\n3. CLRNetxObjPtrthisNextObjPtrnewNextObjPtr\n\n![tup](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/i3rlSCPAcnT9pL0El0BptPIBpuvnxHpBw9Nkp*UqIjw!/o/dJMAAAAAAAAA&ek=1&kp=1&pt=0&bo=LwKNAC8CjQADACU!&su=1199793361&sce=0-12-12&rf=2-9)\n\n\n### \n\n####CLR\n\n\n\nCLRGC(CLR) CLRGCCLR0CLRCLRGCGCnullCLR\n\n![1](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/eVBVeXGrNAfoWfyRgl4aC2RRSGgiDpmbrocv4lTSJMA!/o/dJIAAAAAAAAA&ek=1&kp=1&pt=0&bo=gAIFAYACBQEDACU!&su=1176931729&sce=0-12-12&rf=2-9)\n\nA CD FDGCHH\n \n\nCLRGCCLR\n\n\n\n1. \n\n2. \n\n CLR\n\n![123](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/FyP2yk1O6kMsq3.u4e4x3qrAxpwbajgSHOd4QHTJOhE!/o/dJIAAAAAAAAA&ek=1&kp=1&pt=0&bo=TQI*AU0CPwEDACU!&su=1202148209&sce=0-12-12&rf=2-9)\n\n##  ()\n\nCLRGC\n\n\n1. \n\n2. \n\n3.  \n\n\n\n005AECE\n\n![23](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/77WJus7lssJpEJ2RZREQoNx.5CL31HLdboJbAgCqS0E!/o/dJMAAAAAAAAA&ek=1&kp=1&pt=0&bo=tQIVAbUCFQEDACU!&su=172682065&sce=0-12-12&rf=2-9)\n\nCLR00GCAE0FGCGC1\n\n![123](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/GEDzaV4pNFNQUuDwl2EQrv*eD9Sk9OJCzx5SpRRI2fk!/o/dGUBAAAAAAAA&ek=1&kp=1&pt=0&bo=OAL5ADgC.QADACU!&su=1155276897&sce=0-12-12&rf=2-9)\nGC00FK0\n![234](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/Op0QokzBTNYCFR6zzm2tpc2V7U70IsIJTeWrd0UAUb0!/o/dGUBAAAAAAAA&ek=1&kp=1&pt=0&bo=yAJeAcgCXgEDACU!&su=1124261217&sce=0-12-12&rf=2-9)\n\nBHJ\n\nL0,\n\n,,CLR0.,1.\n\n,,1,0 01\n\n1JIT0\n\n111\n![2345](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/Do.yRCBJEnaOfZaUOdxj4II9*pX2BEcX2QmIG6NQPBE!/o/dGUBAAAAAAAA&ek=1&kp=1&pt=0&bo=qAI5AagCOQEDACU!&su=187009937&sce=0-12-12&rf=2-9)\n\n01\n\n\n![edf](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/YEqIM16xFsSgXdvEzgrerLnKw7fEItnrSqEzlaYnUfE!/o/dGUBAAAAAAAA&ek=1&kp=1&pt=0&bo=egJPAXoCTwEDACU!&su=1118118497&sce=0-12-12&rf=2-9)\nP0GC101\n![2345](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/EcdSNU5AatqRERWtVdlJ7LiIPHHXe8.mklN.0hHDK9U!/o/dJQAAAAAAAAA&ek=1&kp=1&pt=0&bo=aAIxAWgCMQEDACU!&su=1214124305&sce=0-12-12&rf=2-9)\n\nPS0\n![43](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/6dB68RIUYrqMZ4p0VIY3REJZPg.g3ybkZFIazJ3h.CQ!/o/dJIAAAAAAAAA&ek=1&kp=1&pt=0&bo=jwIiAY8CIgEDACU!&su=177976657&sce=0-12-12&rf=2-9)\n\nTGC0GC110\n![123](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/bxdZDsZi2Y6FSDWs7RXNPkkJK8dCzMD.cfnjwNY2Mjs!/o/dJIAAAAAAAAA&ek=1&kp=1&pt=0&bo=tgI2AbYCNgEDACU!&su=197762641&sce=0-12-12&rf=2-9)\n\n012\n\nCLR\n\nCLR\n\n\n\n\n\n00\n\n00\n\n00\n\n12\n\nCLR VIA C# -21\n\n[](https://msdn.microsoft.com/zh-cn/library/vstudio/f144e03t(v=vs.100).aspx)\n\n[](https://msdn.microsoft.com/zh-cn/library/vstudio/ee787088(v=vs.100).aspx)\n\n[](https://msdn.microsoft.com/zh-cn/library/vstudio/ee787088(v=vs.100).aspx#generations )","source":"_posts/C#.NET.md","raw":"---\nlayout: post\ntitle: C#.NET\ncategory: dotnet\n---\n\n# C#.NET\n\n## \n\n .....\n \n \n\n1. ILnewobj(C# new)\n2. \n3. \n4. Dispose\n5. GC \n\n## \n\nCLR\nCLRCLRNextObjPtr NextObjPtr \nCLR\n\n\n\n\n\n321.5GB648T\n\n\n[Memory Support and Windows Operating Systems](https://msdn.microsoft.com/zh-cn/library/windows/hardware/Dn613959(v=vs.85).aspx)\n\n[](https://msdn.microsoft.com/zh-cn/library/ms189334.aspx)\n\n[ 32C/C++](http://blog.csdn.net/yusiguyuan/article/details/12405799)\n\n## C# newCLR\n\n1. \n\n2. 32328646416\n\n3. CLRNetxObjPtrthisNextObjPtrnewNextObjPtr\n\n![tup](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/i3rlSCPAcnT9pL0El0BptPIBpuvnxHpBw9Nkp*UqIjw!/o/dJMAAAAAAAAA&ek=1&kp=1&pt=0&bo=LwKNAC8CjQADACU!&su=1199793361&sce=0-12-12&rf=2-9)\n\n\n### \n\n####CLR\n\n\n\nCLRGC(CLR) CLRGCCLR0CLRCLRGCGCnullCLR\n\n![1](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/eVBVeXGrNAfoWfyRgl4aC2RRSGgiDpmbrocv4lTSJMA!/o/dJIAAAAAAAAA&ek=1&kp=1&pt=0&bo=gAIFAYACBQEDACU!&su=1176931729&sce=0-12-12&rf=2-9)\n\nA CD FDGCHH\n \n\nCLRGCCLR\n\n\n\n1. \n\n2. \n\n CLR\n\n![123](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/FyP2yk1O6kMsq3.u4e4x3qrAxpwbajgSHOd4QHTJOhE!/o/dJIAAAAAAAAA&ek=1&kp=1&pt=0&bo=TQI*AU0CPwEDACU!&su=1202148209&sce=0-12-12&rf=2-9)\n\n##  ()\n\nCLRGC\n\n\n1. \n\n2. \n\n3.  \n\n\n\n005AECE\n\n![23](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/77WJus7lssJpEJ2RZREQoNx.5CL31HLdboJbAgCqS0E!/o/dJMAAAAAAAAA&ek=1&kp=1&pt=0&bo=tQIVAbUCFQEDACU!&su=172682065&sce=0-12-12&rf=2-9)\n\nCLR00GCAE0FGCGC1\n\n![123](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/GEDzaV4pNFNQUuDwl2EQrv*eD9Sk9OJCzx5SpRRI2fk!/o/dGUBAAAAAAAA&ek=1&kp=1&pt=0&bo=OAL5ADgC.QADACU!&su=1155276897&sce=0-12-12&rf=2-9)\nGC00FK0\n![234](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/Op0QokzBTNYCFR6zzm2tpc2V7U70IsIJTeWrd0UAUb0!/o/dGUBAAAAAAAA&ek=1&kp=1&pt=0&bo=yAJeAcgCXgEDACU!&su=1124261217&sce=0-12-12&rf=2-9)\n\nBHJ\n\nL0,\n\n,,CLR0.,1.\n\n,,1,0 01\n\n1JIT0\n\n111\n![2345](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/Do.yRCBJEnaOfZaUOdxj4II9*pX2BEcX2QmIG6NQPBE!/o/dGUBAAAAAAAA&ek=1&kp=1&pt=0&bo=qAI5AagCOQEDACU!&su=187009937&sce=0-12-12&rf=2-9)\n\n01\n\n\n![edf](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/YEqIM16xFsSgXdvEzgrerLnKw7fEItnrSqEzlaYnUfE!/o/dGUBAAAAAAAA&ek=1&kp=1&pt=0&bo=egJPAXoCTwEDACU!&su=1118118497&sce=0-12-12&rf=2-9)\nP0GC101\n![2345](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/EcdSNU5AatqRERWtVdlJ7LiIPHHXe8.mklN.0hHDK9U!/o/dJQAAAAAAAAA&ek=1&kp=1&pt=0&bo=aAIxAWgCMQEDACU!&su=1214124305&sce=0-12-12&rf=2-9)\n\nPS0\n![43](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/6dB68RIUYrqMZ4p0VIY3REJZPg.g3ybkZFIazJ3h.CQ!/o/dJIAAAAAAAAA&ek=1&kp=1&pt=0&bo=jwIiAY8CIgEDACU!&su=177976657&sce=0-12-12&rf=2-9)\n\nTGC0GC110\n![123](http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/bxdZDsZi2Y6FSDWs7RXNPkkJK8dCzMD.cfnjwNY2Mjs!/o/dJIAAAAAAAAA&ek=1&kp=1&pt=0&bo=tgI2AbYCNgEDACU!&su=197762641&sce=0-12-12&rf=2-9)\n\n012\n\nCLR\n\nCLR\n\n\n\n\n\n00\n\n00\n\n00\n\n12\n\nCLR VIA C# -21\n\n[](https://msdn.microsoft.com/zh-cn/library/vstudio/f144e03t(v=vs.100).aspx)\n\n[](https://msdn.microsoft.com/zh-cn/library/vstudio/ee787088(v=vs.100).aspx)\n\n[](https://msdn.microsoft.com/zh-cn/library/vstudio/ee787088(v=vs.100).aspx#generations )","slug":"C#.NET","published":1,"date":"2016-02-23T15:25:15.000Z","updated":"2018-05-17T08:07:10.759Z","comments":1,"photos":[],"link":"","_id":"cjha9u0dw000dgr1wzi3mlr19","content":"<h1 id=\"C-NET\"><a href=\"#C-NET\" class=\"headerlink\" title=\"C#.NET\"></a>C#.NET</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ..</p>\n<p> </p>\n<ol>\n<li>ILnewobj(C# new)</li>\n<li></li>\n<li></li>\n<li>Dispose</li>\n<li>GC </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>CLR<br>CLRCLRNextObjPtr NextObjPtr <br>CLR</p>\n<p></p>\n<p>321.5GB648T<br></p>\n<p><a href=\"https://msdn.microsoft.com/zh-cn/library/windows/hardware/Dn613959(v=vs.85\" target=\"_blank\" rel=\"noopener\">Memory Support and Windows Operating Systems</a>.aspx)</p>\n<p><a href=\"https://msdn.microsoft.com/zh-cn/library/ms189334.aspx\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><a href=\"http://blog.csdn.net/yusiguyuan/article/details/12405799\" target=\"_blank\" rel=\"noopener\"> 32C/C++</a></p>\n<h2 id=\"C-newCLR\"><a href=\"#C-newCLR\" class=\"headerlink\" title=\"C# newCLR\"></a>C# newCLR</h2><ol>\n<li><p></p>\n</li>\n<li><p>32328646416</p>\n</li>\n<li><p>CLRNetxObjPtrthisNextObjPtrnewNextObjPtr</p>\n</li>\n</ol>\n<p><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/i3rlSCPAcnT9pL0El0BptPIBpuvnxHpBw9Nkp*UqIjw!/o/dJMAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=LwKNAC8CjQADACU!&amp;su=1199793361&amp;sce=0-12-12&amp;rf=2-9\" alt=\"tup\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>####CLR</p>\n<p><br><br>CLRGC(CLR) CLRGCCLR0CLRCLRGCGCnullCLR<br><br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/eVBVeXGrNAfoWfyRgl4aC2RRSGgiDpmbrocv4lTSJMA!/o/dJIAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=gAIFAYACBQEDACU!&amp;su=1176931729&amp;sce=0-12-12&amp;rf=2-9\" alt=\"1\"></p>\n<p>A CD FDGCHH<br> </p>\n<p>CLRGCCLR</p>\n<p></p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p> CLR<br><br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/FyP2yk1O6kMsq3.u4e4x3qrAxpwbajgSHOd4QHTJOhE!/o/dJIAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=TQI*AU0CPwEDACU!&amp;su=1202148209&amp;sce=0-12-12&amp;rf=2-9\" alt=\"123\"></p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" ()\"></a> ()</h2><p>CLRGC</p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p> </p>\n</li>\n</ol>\n<p></p>\n<p>005AECE</p>\n<p><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/77WJus7lssJpEJ2RZREQoNx.5CL31HLdboJbAgCqS0E!/o/dJMAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=tQIVAbUCFQEDACU!&amp;su=172682065&amp;sce=0-12-12&amp;rf=2-9\" alt=\"23\"></p>\n<p>CLR00GCAE0FGCGC1</p>\n<p><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/GEDzaV4pNFNQUuDwl2EQrv*eD9Sk9OJCzx5SpRRI2fk!/o/dGUBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=OAL5ADgC.QADACU!&amp;su=1155276897&amp;sce=0-12-12&amp;rf=2-9\" alt=\"123\"><br>GC00FK0<br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/Op0QokzBTNYCFR6zzm2tpc2V7U70IsIJTeWrd0UAUb0!/o/dGUBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=yAJeAcgCXgEDACU!&amp;su=1124261217&amp;sce=0-12-12&amp;rf=2-9\" alt=\"234\"></p>\n<p>BHJ</p>\n<p>L0,</p>\n<p>,,CLR0.,1.</p>\n<p>,,1,0 01</p>\n<p>1JIT0</p>\n<p>111<br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/Do.yRCBJEnaOfZaUOdxj4II9*pX2BEcX2QmIG6NQPBE!/o/dGUBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=qAI5AagCOQEDACU!&amp;su=187009937&amp;sce=0-12-12&amp;rf=2-9\" alt=\"2345\"></p>\n<p>01</p>\n<p><br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/YEqIM16xFsSgXdvEzgrerLnKw7fEItnrSqEzlaYnUfE!/o/dGUBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=egJPAXoCTwEDACU!&amp;su=1118118497&amp;sce=0-12-12&amp;rf=2-9\" alt=\"edf\"><br>P0GC101<br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/EcdSNU5AatqRERWtVdlJ7LiIPHHXe8.mklN.0hHDK9U!/o/dJQAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=aAIxAWgCMQEDACU!&amp;su=1214124305&amp;sce=0-12-12&amp;rf=2-9\" alt=\"2345\"></p>\n<p>PS0<br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/6dB68RIUYrqMZ4p0VIY3REJZPg.g3ybkZFIazJ3h.CQ!/o/dJIAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=jwIiAY8CIgEDACU!&amp;su=177976657&amp;sce=0-12-12&amp;rf=2-9\" alt=\"43\"></p>\n<p>TGC0GC110<br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/bxdZDsZi2Y6FSDWs7RXNPkkJK8dCzMD.cfnjwNY2Mjs!/o/dJIAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=tgI2AbYCNgEDACU!&amp;su=197762641&amp;sce=0-12-12&amp;rf=2-9\" alt=\"123\"></p>\n<p>012</p>\n<p>CLR</p>\n<p>CLR</p>\n<p></p>\n<p><br>00</p>\n<p>00</p>\n<p>00</p>\n<p>12</p>\n<p>CLR VIA C# -21</p>\n<p><a href=\"https://msdn.microsoft.com/zh-cn/library/vstudio/f144e03t(v=vs.100\" target=\"_blank\" rel=\"noopener\"></a>.aspx)</p>\n<p><a href=\"https://msdn.microsoft.com/zh-cn/library/vstudio/ee787088(v=vs.100\" target=\"_blank\" rel=\"noopener\"></a>.aspx)</p>\n<p><a href=\"https://msdn.microsoft.com/zh-cn/library/vstudio/ee787088(v=vs.100\" target=\"_blank\" rel=\"noopener\"></a>.aspx#generations )</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"C-NET\"><a href=\"#C-NET\" class=\"headerlink\" title=\"C#.NET\"></a>C#.NET</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> ..</p>\n<p> </p>\n<ol>\n<li>ILnewobj(C# new)</li>\n<li></li>\n<li></li>\n<li>Dispose</li>\n<li>GC </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>CLR<br>CLRCLRNextObjPtr NextObjPtr <br>CLR</p>\n<p></p>\n<p>321.5GB648T<br></p>\n<p><a href=\"https://msdn.microsoft.com/zh-cn/library/windows/hardware/Dn613959(v=vs.85\" target=\"_blank\" rel=\"noopener\">Memory Support and Windows Operating Systems</a>.aspx)</p>\n<p><a href=\"https://msdn.microsoft.com/zh-cn/library/ms189334.aspx\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><a href=\"http://blog.csdn.net/yusiguyuan/article/details/12405799\" target=\"_blank\" rel=\"noopener\"> 32C/C++</a></p>\n<h2 id=\"C-newCLR\"><a href=\"#C-newCLR\" class=\"headerlink\" title=\"C# newCLR\"></a>C# newCLR</h2><ol>\n<li><p></p>\n</li>\n<li><p>32328646416</p>\n</li>\n<li><p>CLRNetxObjPtrthisNextObjPtrnewNextObjPtr</p>\n</li>\n</ol>\n<p><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/i3rlSCPAcnT9pL0El0BptPIBpuvnxHpBw9Nkp*UqIjw!/o/dJMAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=LwKNAC8CjQADACU!&amp;su=1199793361&amp;sce=0-12-12&amp;rf=2-9\" alt=\"tup\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>####CLR</p>\n<p><br><br>CLRGC(CLR) CLRGCCLR0CLRCLRGCGCnullCLR<br><br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/eVBVeXGrNAfoWfyRgl4aC2RRSGgiDpmbrocv4lTSJMA!/o/dJIAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=gAIFAYACBQEDACU!&amp;su=1176931729&amp;sce=0-12-12&amp;rf=2-9\" alt=\"1\"></p>\n<p>A CD FDGCHH<br> </p>\n<p>CLRGCCLR</p>\n<p></p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<p> CLR<br><br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/FyP2yk1O6kMsq3.u4e4x3qrAxpwbajgSHOd4QHTJOhE!/o/dJIAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=TQI*AU0CPwEDACU!&amp;su=1202148209&amp;sce=0-12-12&amp;rf=2-9\" alt=\"123\"></p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" ()\"></a> ()</h2><p>CLRGC</p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p> </p>\n</li>\n</ol>\n<p></p>\n<p>005AECE</p>\n<p><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/77WJus7lssJpEJ2RZREQoNx.5CL31HLdboJbAgCqS0E!/o/dJMAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=tQIVAbUCFQEDACU!&amp;su=172682065&amp;sce=0-12-12&amp;rf=2-9\" alt=\"23\"></p>\n<p>CLR00GCAE0FGCGC1</p>\n<p><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/GEDzaV4pNFNQUuDwl2EQrv*eD9Sk9OJCzx5SpRRI2fk!/o/dGUBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=OAL5ADgC.QADACU!&amp;su=1155276897&amp;sce=0-12-12&amp;rf=2-9\" alt=\"123\"><br>GC00FK0<br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/Op0QokzBTNYCFR6zzm2tpc2V7U70IsIJTeWrd0UAUb0!/o/dGUBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=yAJeAcgCXgEDACU!&amp;su=1124261217&amp;sce=0-12-12&amp;rf=2-9\" alt=\"234\"></p>\n<p>BHJ</p>\n<p>L0,</p>\n<p>,,CLR0.,1.</p>\n<p>,,1,0 01</p>\n<p>1JIT0</p>\n<p>111<br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/Do.yRCBJEnaOfZaUOdxj4II9*pX2BEcX2QmIG6NQPBE!/o/dGUBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=qAI5AagCOQEDACU!&amp;su=187009937&amp;sce=0-12-12&amp;rf=2-9\" alt=\"2345\"></p>\n<p>01</p>\n<p><br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/YEqIM16xFsSgXdvEzgrerLnKw7fEItnrSqEzlaYnUfE!/o/dGUBAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=egJPAXoCTwEDACU!&amp;su=1118118497&amp;sce=0-12-12&amp;rf=2-9\" alt=\"edf\"><br>P0GC101<br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/EcdSNU5AatqRERWtVdlJ7LiIPHHXe8.mklN.0hHDK9U!/o/dJQAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=aAIxAWgCMQEDACU!&amp;su=1214124305&amp;sce=0-12-12&amp;rf=2-9\" alt=\"2345\"></p>\n<p>PS0<br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/6dB68RIUYrqMZ4p0VIY3REJZPg.g3ybkZFIazJ3h.CQ!/o/dJIAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=jwIiAY8CIgEDACU!&amp;su=177976657&amp;sce=0-12-12&amp;rf=2-9\" alt=\"43\"></p>\n<p>TGC0GC110<br><img src=\"http://r.photo.store.qq.com/psb?/4d3e65a5-4593-42bc-88f9-7bbb2e647ebe/bxdZDsZi2Y6FSDWs7RXNPkkJK8dCzMD.cfnjwNY2Mjs!/o/dJIAAAAAAAAA&amp;ek=1&amp;kp=1&amp;pt=0&amp;bo=tgI2AbYCNgEDACU!&amp;su=197762641&amp;sce=0-12-12&amp;rf=2-9\" alt=\"123\"></p>\n<p>012</p>\n<p>CLR</p>\n<p>CLR</p>\n<p></p>\n<p><br>00</p>\n<p>00</p>\n<p>00</p>\n<p>12</p>\n<p>CLR VIA C# -21</p>\n<p><a href=\"https://msdn.microsoft.com/zh-cn/library/vstudio/f144e03t(v=vs.100\" target=\"_blank\" rel=\"noopener\"></a>.aspx)</p>\n<p><a href=\"https://msdn.microsoft.com/zh-cn/library/vstudio/ee787088(v=vs.100\" target=\"_blank\" rel=\"noopener\"></a>.aspx)</p>\n<p><a href=\"https://msdn.microsoft.com/zh-cn/library/vstudio/ee787088(v=vs.100\" target=\"_blank\" rel=\"noopener\"></a>.aspx#generations )</p>\n"},{"layout":"post","title":"C#","_content":"# C#\n\n## \n\n\n\n\n```csharp\nvar allEmp = FindAllEmployees();\nallEmp.ForEach(e => e.MonthlySalary *=1.05M);\n```\n\n\n\n\n\n### \n\n\n\n## /\n\n\n\n#### \n\nFindAllEmployees()\n\n#### lambdaFindAllEmployees()\n\n\n\n#### lambda\n\n\n#### \n\n\nallEmp.Where(emp=>emp.Active).ForEach(e => e.MonthlySalary *=1.05M);\n\n#### \n\n\n\n#### \n\n\n:\n\n```C#\nvar updatas = (from e in allEmp \n              select new Emp\n              {\n                  EmpID=e.EmpID,\n                  .....\n                  MonthlySalary =e.MonthlySalary *=1.05M\n              }).ToList();\n\nallEmp = updatas;\n```\n\n\"\"\n\n\n","source":"_posts/C#.md","raw":"---\nlayout: post\ntitle: C#\ncategory: .net\n---\n# C#\n\n## \n\n\n\n\n```csharp\nvar allEmp = FindAllEmployees();\nallEmp.ForEach(e => e.MonthlySalary *=1.05M);\n```\n\n\n\n\n\n### \n\n\n\n## /\n\n\n\n#### \n\nFindAllEmployees()\n\n#### lambdaFindAllEmployees()\n\n\n\n#### lambda\n\n\n#### \n\n\nallEmp.Where(emp=>emp.Active).ForEach(e => e.MonthlySalary *=1.05M);\n\n#### \n\n\n\n#### \n\n\n:\n\n```C#\nvar updatas = (from e in allEmp \n              select new Emp\n              {\n                  EmpID=e.EmpID,\n                  .....\n                  MonthlySalary =e.MonthlySalary *=1.05M\n              }).ToList();\n\nallEmp = updatas;\n```\n\n\"\"\n\n\n","slug":"C#","published":1,"date":"2016-06-16T14:06:30.000Z","updated":"2018-05-17T07:59:54.948Z","comments":1,"photos":[],"link":"","_id":"cjha9u0dx000fgr1w5sxy20u5","content":"<h1 id=\"C-\"><a href=\"#C-\" class=\"headerlink\" title=\"C#\"></a>C#</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> allEmp = FindAllEmployees();</span><br><span class=\"line\">allEmp.ForEach(e =&gt; e.MonthlySalary *=<span class=\"number\">1.05</span>M);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"/\"></a>/</h2><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>FindAllEmployees()</p>\n<h4 id=\"lambdaFindAllEmployees-\"><a href=\"#lambdaFindAllEmployees-\" class=\"headerlink\" title=\"lambdaFindAllEmployees()\"></a>lambdaFindAllEmployees()</h4><p></p>\n<h4 id=\"lambda\"><a href=\"#lambda\" class=\"headerlink\" title=\"lambda\"></a>lambda</h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>allEmp.Where(emp=&gt;emp.Active).ForEach(e =&gt; e.MonthlySalary *=1.05M);</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var updatas = (from e in allEmp </span><br><span class=\"line\">              select new Emp</span><br><span class=\"line\">              &#123;</span><br><span class=\"line\">                  EmpID=e.EmpID,</span><br><span class=\"line\">                  .....</span><br><span class=\"line\">                  MonthlySalary =e.MonthlySalary *=1.05M</span><br><span class=\"line\">              &#125;).ToList();</span><br><span class=\"line\"></span><br><span class=\"line\">allEmp = updatas;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"C-\"><a href=\"#C-\" class=\"headerlink\" title=\"C#\"></a>C#</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> allEmp = FindAllEmployees();</span><br><span class=\"line\">allEmp.ForEach(e =&gt; e.MonthlySalary *=<span class=\"number\">1.05</span>M);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"/\"></a>/</h2><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>FindAllEmployees()</p>\n<h4 id=\"lambdaFindAllEmployees-\"><a href=\"#lambdaFindAllEmployees-\" class=\"headerlink\" title=\"lambdaFindAllEmployees()\"></a>lambdaFindAllEmployees()</h4><p></p>\n<h4 id=\"lambda\"><a href=\"#lambda\" class=\"headerlink\" title=\"lambda\"></a>lambda</h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>allEmp.Where(emp=&gt;emp.Active).ForEach(e =&gt; e.MonthlySalary *=1.05M);</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var updatas = (from e in allEmp </span><br><span class=\"line\">              select new Emp</span><br><span class=\"line\">              &#123;</span><br><span class=\"line\">                  EmpID=e.EmpID,</span><br><span class=\"line\">                  .....</span><br><span class=\"line\">                  MonthlySalary =e.MonthlySalary *=1.05M</span><br><span class=\"line\">              &#125;).ToList();</span><br><span class=\"line\"></span><br><span class=\"line\">allEmp = updatas;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p></p>\n"},{"layout":"post","title":"git repository","date":"2016-11-24T16:00:00.000Z","_content":"# git repository\n\nmergemergemerge\n\nGUI\n\nPS...\n\nbat/shgit cmd,bat\n\nPATHgit bingitpull rebasepublickeypublickey.ssh,...\n\nshell\n\n\n\n[ gitbashgitwindows](https://www.zhihu.com/question/38962022)\n\n## Show Code\n\nshellgit bash.sh...\n\n```shell\n\nprintf \"Start rebase 58HouseSearch. \\r\\n\"\ncd ./58HouseSearch;\ngit checkout master;\ngit pull --rebase origin master;\nprintf \"Finish Pull Rebase 58HouseSearch release and master.\\r\\n\"\nread -p \"Press any key to continue.\";\ncd ..;\n\nprintf \"Start rebase hexoforblog;\\r\\n\"\ncd ./hexoforblog;\ngit checkout master;\ngit pull --rebase origin master;\ngit checkout master;\nprintf \"Finish Pull Rebase hexoforblog.\\r\\n\"\nread -p \"Press any key to continue.\";\ncd ..;\n\n```\n\n\n\n1. printf C\n2. read -p \"Press any key to continue.\"; \n3. git bash\n","source":"_posts/auto_rebase_git_repository.md","raw":"---\nlayout: post\ntitle: git repository\ncategory: git\ndate: 2016-11-25\ntags:\n- shell\n- git\n---\n# git repository\n\nmergemergemerge\n\nGUI\n\nPS...\n\nbat/shgit cmd,bat\n\nPATHgit bingitpull rebasepublickeypublickey.ssh,...\n\nshell\n\n\n\n[ gitbashgitwindows](https://www.zhihu.com/question/38962022)\n\n## Show Code\n\nshellgit bash.sh...\n\n```shell\n\nprintf \"Start rebase 58HouseSearch. \\r\\n\"\ncd ./58HouseSearch;\ngit checkout master;\ngit pull --rebase origin master;\nprintf \"Finish Pull Rebase 58HouseSearch release and master.\\r\\n\"\nread -p \"Press any key to continue.\";\ncd ..;\n\nprintf \"Start rebase hexoforblog;\\r\\n\"\ncd ./hexoforblog;\ngit checkout master;\ngit pull --rebase origin master;\ngit checkout master;\nprintf \"Finish Pull Rebase hexoforblog.\\r\\n\"\nread -p \"Press any key to continue.\";\ncd ..;\n\n```\n\n\n\n1. printf C\n2. read -p \"Press any key to continue.\"; \n3. git bash\n","slug":"auto_rebase_git_repository","published":1,"updated":"2018-05-17T08:19:31.267Z","comments":1,"photos":[],"link":"","_id":"cjha9u0dy000hgr1wvrcn8vpa","content":"<h1 id=\"git-repository\"><a href=\"#git-repository\" class=\"headerlink\" title=\"git repository\"></a>git repository</h1><p>mergemergemerge</p>\n<p>GUI</p>\n<p>PS</p>\n<p>bat/shgit cmd,bat</p>\n<p>PATHgit bingitpull rebasepublickeypublickey.ssh,</p>\n<p>shell</p>\n<p></p>\n<p><a href=\"https://www.zhihu.com/question/38962022\" target=\"_blank\" rel=\"noopener\"> gitbashgitwindows</a></p>\n<h2 id=\"Show-Code\"><a href=\"#Show-Code\" class=\"headerlink\" title=\"Show Code\"></a>Show Code</h2><p>shellgit bash.sh</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">printf \"Start rebase 58HouseSearch. \\r\\n\"</span><br><span class=\"line\">cd ./58HouseSearch;</span><br><span class=\"line\">git checkout master;</span><br><span class=\"line\">git pull --rebase origin master;</span><br><span class=\"line\">printf \"Finish Pull Rebase 58HouseSearch release and master.\\r\\n\"</span><br><span class=\"line\">read -p \"Press any key to continue.\";</span><br><span class=\"line\">cd ..;</span><br><span class=\"line\"></span><br><span class=\"line\">printf \"Start rebase hexoforblog;\\r\\n\"</span><br><span class=\"line\">cd ./hexoforblog;</span><br><span class=\"line\">git checkout master;</span><br><span class=\"line\">git pull --rebase origin master;</span><br><span class=\"line\">git checkout master;</span><br><span class=\"line\">printf \"Finish Pull Rebase hexoforblog.\\r\\n\"</span><br><span class=\"line\">read -p \"Press any key to continue.\";</span><br><span class=\"line\">cd ..;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>printf C</li>\n<li>read -p Press any key to continue.; </li>\n<li>git bash</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"git-repository\"><a href=\"#git-repository\" class=\"headerlink\" title=\"git repository\"></a>git repository</h1><p>mergemergemerge</p>\n<p>GUI</p>\n<p>PS</p>\n<p>bat/shgit cmd,bat</p>\n<p>PATHgit bingitpull rebasepublickeypublickey.ssh,</p>\n<p>shell</p>\n<p></p>\n<p><a href=\"https://www.zhihu.com/question/38962022\" target=\"_blank\" rel=\"noopener\"> gitbashgitwindows</a></p>\n<h2 id=\"Show-Code\"><a href=\"#Show-Code\" class=\"headerlink\" title=\"Show Code\"></a>Show Code</h2><p>shellgit bash.sh</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">printf \"Start rebase 58HouseSearch. \\r\\n\"</span><br><span class=\"line\">cd ./58HouseSearch;</span><br><span class=\"line\">git checkout master;</span><br><span class=\"line\">git pull --rebase origin master;</span><br><span class=\"line\">printf \"Finish Pull Rebase 58HouseSearch release and master.\\r\\n\"</span><br><span class=\"line\">read -p \"Press any key to continue.\";</span><br><span class=\"line\">cd ..;</span><br><span class=\"line\"></span><br><span class=\"line\">printf \"Start rebase hexoforblog;\\r\\n\"</span><br><span class=\"line\">cd ./hexoforblog;</span><br><span class=\"line\">git checkout master;</span><br><span class=\"line\">git pull --rebase origin master;</span><br><span class=\"line\">git checkout master;</span><br><span class=\"line\">printf \"Finish Pull Rebase hexoforblog.\\r\\n\"</span><br><span class=\"line\">read -p \"Press any key to continue.\";</span><br><span class=\"line\">cd ..;</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>printf C</li>\n<li>read -p Press any key to continue.; </li>\n<li>git bash</li>\n</ol>\n"},{"layout":"post","title":"CLR ","_content":"\n\nCLR ApDomain  **GCGC Handle table** ApDomain \n\n\n\nflag\n\n\n```csharp\n\n```","source":"_posts/CLR-GC-Handle-Table.md","raw":"---\nlayout: post\ntitle: CLR \ncategory: dotnet\n---\n\n\nCLR ApDomain  **GCGC Handle table** ApDomain \n\n\n\nflag\n\n\n```csharp\n\n```","slug":"CLR-GC-Handle-Table","published":1,"date":"2016-07-24T07:27:08.000Z","updated":"2018-05-17T08:07:43.159Z","comments":1,"photos":[],"link":"","_id":"cjha9xxsg0000ie1wu4a9wqfq","content":"<p>CLR ApDomain  <strong>GCGC Handle table</strong> ApDomain </p>\n<p></p>\n<p>flag</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>CLR ApDomain  <strong>GCGC Handle table</strong> ApDomain </p>\n<p></p>\n<p>flag</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"Microsoft .NET Core 1.0.0 VS 2015 Tooling Preview 2 0x80070003","_content":"\nMicrosoft .NET Core 1.0.0 VS 2015 Tooling Preview 2\n\n[.NET Downloads](https://www.microsoft.com/net/download) Microsoft .NET Core 1.0.0 VS 2015 Tooling Preview 2\n\nmsi\n\n\n\n .net core\n[DotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exe](https://download.microsoft.com/download/0/A/3/0A372822-205D-4A86-BFA7-084D2CBE9EDF/DotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exe)502 Bad Gateway\n\nDotNetCore.1.0.1-SDK.1.0.0.Preview2msi\n\n#### 0x80070003 \n\nbug[issue](https://github.com/aspnet/Tooling/issues/655)\n\n#### log\n\nloglog\n\nError 0x80072efd: Failed attempt to download URL: 'https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi' to: 'C:\\Users\\cneuss\\AppData\\Local\\Temp{C307771D-8D9A-45B5-B514-B6CA69C0C6E2}\\ANCM_IISExpress_x64'\n\n\n\n\n[https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi](https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi)\n\nancm_iis_express_x64_en_rc2_39.msi\n\n502 Bad Gateway\n\n\nGG\n\n\n\nhosts\n\nhost\n\n[download.microsoft.com](download.microsoft.com)\n\nlog C:\\Users\\cneuss\\AppData\\Local\\Temp log\n\n\n\nC:\\Users\\cneuss\\AppData\\Local\\Temp\n\ntemp{xxxxxxxxxxxxx}\n\nancm_iis_express_x64_en_rc2_39.msi\n\nmsimsi\n\n#### \nlog\n\nDotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exepackagesmsi\n\n","source":"_posts/Can't_install_Preview2_on_fresh_VS2015_Update3_Installation.md","raw":"---\nlayout: post\ntitle : Microsoft .NET Core 1.0.0 VS 2015 Tooling Preview 2 0x80070003\ncategory: dotnet core\n---\n\nMicrosoft .NET Core 1.0.0 VS 2015 Tooling Preview 2\n\n[.NET Downloads](https://www.microsoft.com/net/download) Microsoft .NET Core 1.0.0 VS 2015 Tooling Preview 2\n\nmsi\n\n\n\n .net core\n[DotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exe](https://download.microsoft.com/download/0/A/3/0A372822-205D-4A86-BFA7-084D2CBE9EDF/DotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exe)502 Bad Gateway\n\nDotNetCore.1.0.1-SDK.1.0.0.Preview2msi\n\n#### 0x80070003 \n\nbug[issue](https://github.com/aspnet/Tooling/issues/655)\n\n#### log\n\nloglog\n\nError 0x80072efd: Failed attempt to download URL: 'https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi' to: 'C:\\Users\\cneuss\\AppData\\Local\\Temp{C307771D-8D9A-45B5-B514-B6CA69C0C6E2}\\ANCM_IISExpress_x64'\n\n\n\n\n[https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi](https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi)\n\nancm_iis_express_x64_en_rc2_39.msi\n\n502 Bad Gateway\n\n\nGG\n\n\n\nhosts\n\nhost\n\n[download.microsoft.com](download.microsoft.com)\n\nlog C:\\Users\\cneuss\\AppData\\Local\\Temp log\n\n\n\nC:\\Users\\cneuss\\AppData\\Local\\Temp\n\ntemp{xxxxxxxxxxxxx}\n\nancm_iis_express_x64_en_rc2_39.msi\n\nmsimsi\n\n#### \nlog\n\nDotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exepackagesmsi\n\n","slug":"Can't_install_Preview2_on_fresh_VS2015_Update3_Installation","published":1,"date":"2016-10-15T05:58:21.000Z","updated":"2018-05-17T08:07:34.938Z","comments":1,"photos":[],"link":"","_id":"cjha9xxsj0001ie1wdk61pzg3","content":"<p>Microsoft .NET Core 1.0.0 VS 2015 Tooling Preview 2</p>\n<p><a href=\"https://www.microsoft.com/net/download\" target=\"_blank\" rel=\"noopener\">.NET Downloads</a> Microsoft .NET Core 1.0.0 VS 2015 Tooling Preview 2</p>\n<p>msi</p>\n<p></p>\n<p> .net core<br><a href=\"https://download.microsoft.com/download/0/A/3/0A372822-205D-4A86-BFA7-084D2CBE9EDF/DotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exe\" target=\"_blank\" rel=\"noopener\">DotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exe</a>502 Bad Gateway</p>\n<p>DotNetCore.1.0.1-SDK.1.0.0.Preview2msi</p>\n<h4 id=\"0x80070003-\"><a href=\"#0x80070003-\" class=\"headerlink\" title=\"0x80070003 \"></a>0x80070003 </h4><p>bug<a href=\"https://github.com/aspnet/Tooling/issues/655\" target=\"_blank\" rel=\"noopener\">issue</a></p>\n<h4 id=\"log\"><a href=\"#log\" class=\"headerlink\" title=\"log\"></a>log</h4><p>loglog</p>\n<p>Error 0x80072efd: Failed attempt to download URL: <a href=\"https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi&#39;\" target=\"_blank\" rel=\"noopener\">https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi&#39;</a> to: C:\\Users\\cneuss\\AppData\\Local\\Temp{C307771D-8D9A-45B5-B514-B6CA69C0C6E2}\\ANCM_IISExpress_x64</p>\n<p></p>\n<p><a href=\"https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi\" target=\"_blank\" rel=\"noopener\">https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi</a></p>\n<p>ancm_iis_express_x64_en_rc2_39.msi</p>\n<p>502 Bad Gateway</p>\n<p>GG</p>\n<p></p>\n<p>hosts</p>\n<p>host</p>\n<p><a href=\"download.microsoft.com\">download.microsoft.com</a></p>\n<p>log C:\\Users\\cneuss\\AppData\\Local\\Temp log</p>\n<p></p>\n<p>C:\\Users\\cneuss\\AppData\\Local\\Temp</p>\n<p>temp{xxxxxxxxxxxxx}</p>\n<p>ancm_iis_express_x64_en_rc2_39.msi</p>\n<p>msimsi</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>log</p>\n<p>DotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exepackagesmsi</p>\n","site":{"data":{}},"excerpt":"","more":"<p>Microsoft .NET Core 1.0.0 VS 2015 Tooling Preview 2</p>\n<p><a href=\"https://www.microsoft.com/net/download\" target=\"_blank\" rel=\"noopener\">.NET Downloads</a> Microsoft .NET Core 1.0.0 VS 2015 Tooling Preview 2</p>\n<p>msi</p>\n<p></p>\n<p> .net core<br><a href=\"https://download.microsoft.com/download/0/A/3/0A372822-205D-4A86-BFA7-084D2CBE9EDF/DotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exe\" target=\"_blank\" rel=\"noopener\">DotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exe</a>502 Bad Gateway</p>\n<p>DotNetCore.1.0.1-SDK.1.0.0.Preview2msi</p>\n<h4 id=\"0x80070003-\"><a href=\"#0x80070003-\" class=\"headerlink\" title=\"0x80070003 \"></a>0x80070003 </h4><p>bug<a href=\"https://github.com/aspnet/Tooling/issues/655\" target=\"_blank\" rel=\"noopener\">issue</a></p>\n<h4 id=\"log\"><a href=\"#log\" class=\"headerlink\" title=\"log\"></a>log</h4><p>loglog</p>\n<p>Error 0x80072efd: Failed attempt to download URL: <a href=\"https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi&#39;\" target=\"_blank\" rel=\"noopener\">https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi&#39;</a> to: C:\\Users\\cneuss\\AppData\\Local\\Temp{C307771D-8D9A-45B5-B514-B6CA69C0C6E2}\\ANCM_IISExpress_x64</p>\n<p></p>\n<p><a href=\"https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi\" target=\"_blank\" rel=\"noopener\">https://download.microsoft.com/download/A/3/8/A38489F3-9777-41DD-83F8-2CBDFAB2520C/packages/ancm_iis_express_x64_en_rc2_39.msi</a></p>\n<p>ancm_iis_express_x64_en_rc2_39.msi</p>\n<p>502 Bad Gateway</p>\n<p>GG</p>\n<p></p>\n<p>hosts</p>\n<p>host</p>\n<p><a href=\"download.microsoft.com\">download.microsoft.com</a></p>\n<p>log C:\\Users\\cneuss\\AppData\\Local\\Temp log</p>\n<p></p>\n<p>C:\\Users\\cneuss\\AppData\\Local\\Temp</p>\n<p>temp{xxxxxxxxxxxxx}</p>\n<p>ancm_iis_express_x64_en_rc2_39.msi</p>\n<p>msimsi</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>log</p>\n<p>DotNetCore.1.0.1-SDK.1.0.0.Preview2-003133-x64.exepackagesmsi</p>\n"},{"layout":"post","title":"CodeSmith for MySQL template","_content":"\n\n.NETcodesmith\n\n<br> \nSQL servercodesmithmodel/DAL/BLL\n<br> \nSQL server MySQLSQL\n<br> \nMySQL codesmith,codesmith\n<br> \n\ncodesmith\n\n\n\n\ncodesmithCodesmithMain.cst,-execute-MySQL-\n<br>codesmithMySQL\n<br> [CodeSmith MySQLcan't find .net framework data provider](http://codelover.link/2016/02/25/CodeSmith%E8%BF%9E%E6%8E%A5MySQL%E6%8A%A5%E9%94%99%E2%80%9C%E6%89%BE%E4%B8%8D%E5%88%B0%E8%AF%B7%E6%B1%82%E7%9A%84%20.Net%20Framework%20Data%20Provider%E3%80%82%E5%8F%AF%E8%83%BD%E6%B2%A1%E6%9C%89%E5%AE%89%E8%A3%85%E3%80%82%E2%80%9D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/))\n\n\n![1](http://a1.qpic.cn/psb?/V13bZOxq1m5DxB/1XlywVcAyPW6y*6sO1QU.gkuidIqPkx.f70JsaijlU0!/b/dIwBAAAAAAAA&bo=MQIcAjECHAIDCSw!&rf=viewer_4)\n\n\n\nGeneratemodel/dal/bll\n\n\n\n![2](http://a3.qpic.cn/psb?/V13bZOxq1m5DxB/ikI1fSxAYklZgi1PmtPVTQqpHcZ0KTQHgN7LrPJaKNo!/b/dG4AAAAAAAAA&bo=fgLGAH4CxgADCSw!&rf=viewer_4)\n\n\n\n<p>model/dal/bll....\ngoogle\nMain.cst\n\n```C#\n\n<%@ CodeTemplate Language=\"C#\" ResponseEncoding=\"UTF-8\" \nTargetLanguage=\"Text\" Src=\"\" Inherits=\"\" Debug=\"False\" \nDescription=\"Template description here.\" \n Output=\"None\"%>\n<%@ Register Name=\"Models\" Template=\"DBMad.Models.cst\" \n\tMergeProperties=\"False\" ExcludeProperties=\"\" %>\t\n<%@ Register Name=\"DAL\" Template=\"DBMad.DAL.cst\" \nMergeProperties=\"False\" ExcludeProperties=\"\" %> \n<%@ Register Name=\"BLL\" Template=\"DBMad.BLL.cst\" \nMergeProperties=\"False\" ExcludeProperties=\"\" %>\n\n<%@ Property Name=\"SourceTable\" \nType=\"SchemaExplorer.TableSchema\" Optional=\"False\"%>\n<%@ Property Name=\"RootNamespace\" Default=\"Net.Itcast.CN\" \nType=\"System.String\" Optional=\"False\"%>\n\n<%@ Assembly Name=\"SchemaExplorer\" %>\n<%@ Assembly Name=\"System.Data\" %>\n<%@ Import Namespace=\"SchemaExplorer\" %>\n<%@ Import Namespace=\"System.Data\" %>\n<script runat=\"template\">\n\tprivate string _outputDirectory = String.Empty;\n\t[Editor(typeof(System.Windows.Forms.Design.FolderNameEditor), \n\ttypeof(System.Drawing.Design.UITypeEditor))] \n\t[Description(\"The directory to output the results to.\")]\n\tpublic string OutputDirectory \n\t{\n\t\tget\n\t\t{\t\t\n\t\t\treturn _outputDirectory;\n\t\t}\n\t\tset\n\t\t{\n\t\t\tif (value != null && !value.EndsWith(\"\\\\\"))\n\t\t\t{\n\t\t\t\tvalue += \"\\\\\";\n\t\t    }\n\t\t\t_outputDirectory = value;\n\t\t} \n\t}\n</script>\n\n```\n\n\n\n\n![1](http://a1.qpic.cn/psb?/V13bZOxq1m5DxB/1XlywVcAyPW6y*6sO1QU.gkuidIqPkx.f70JsaijlU0!/b/dIwBAAAAAAAA&bo=MQIcAjECHAIDCSw!&rf=viewer_4)\n\n\n``` C#\n\n<%\n    Models model = this.Create<Models>();\n\tmodel.ModelsNamespace = this.RootNamespace+\".Model\";\n\tmodel.TargetTable = this.SourceTable;\n\tmodel.RenderToFile(this.OutputDirectory+\"Model/\"+model.GetFileName(),true);\n\t\n\n   DAL dal = this.Create<DAL>();\n   dal.TargetTable = this.SourceTable;\n   dal.ModelsNamespace = model.ModelsNamespace;\n   dal.DALClassNameSurfix = \"DAL\";\n   dal.DALNamespace =this.RootNamespace+\".DAL\";\n   dal.RenderToFile(this.OutputDirectory+\"DAL/\"\n   +dal.GetFileName(),true);\n\n   BLL bll = this.Create<BLL>();\n   bll.ModelsNamespace = model.ModelsNamespace;\n   bll.DALClassNameSurfix = dal.DALClassNameSurfix;\n   bll.DALNamespace = dal.DALNamespace;\n   bll.BLLClassNameSurfix = \"BLL\";\n   bll.BLLNamespace = this.RootNamespace+\".BLL\";\n   bll.TargetTable = this.SourceTable;\n   bll.RenderToFile(this.OutputDirectory+\"BLL/\"\n   +bll.GetFileName(),true);\n\n   Response.Write(\"ok,see \"+this.OutputDirectory);\n%>\n```\n\nGenerate\nDBMad.Models.cst,DBMad.DAL.cst,DBMad.BLL.cst\nSchemaExplorer.TableSchema\n\n<%@ Property Name=\"SourceTable\" Type=\"SchemaExplorer.TableSchema\" Optional=\"False\"%>\n\nMain.cst\n\nType\n\n\n\n<%@ Property Name=\"SourceTables\" Type=\"SchemaExplorer.TableSchemaCollection\" Default=\"\" Optional=\"False\" Category=\"\"%> \n\n\n\n\n``` C#\n<%@ CodeTemplate Language=\"C#\" ResponseEncoding=\"UTF-8\" \nTargetLanguage=\"Text\" Src=\"\" Inherits=\"\" Debug=\"False\" \nDescription=\"Template description here.\" Output=\"None\"%>\n<%@ Property Name=\"SourceTables\" \nType=\"SchemaExplorer.TableSchemaCollection\" Default=\"\" \nOptional=\"False\" Category=\"\"%> \n<%@ Register Name=\"SE\" Template=\"CreatSingleTable.cst\" \nMergeProperties=\"False\" ExcludeProperties=\"\" %> \n<%@ Property Name=\"RootNamespace\" Default=\"Net.Itcast.CN\" \nType=\"System.String\" Optional=\"False\"%>\n<%@ Assembly Name=\"SchemaExplorer\" %> \n<%@ Assembly Name=\"System.Data\" %>\n<%@ Import Namespace=\"SchemaExplorer\" %> \n<%@ Import Namespace=\"System.Data\" %> \n<%@ Import Namespace=\"System.Collections\" %> \n<script runat=\"template\">\n\tprivate string _outputDirectory = String.Empty;\n\t[Editor(typeof(System.Windows.Forms.Design.FolderNameEditor), \n\ttypeof(System.Drawing.Design.UITypeEditor))] \n\t[Description(\"The directory to output the results to.\")]\n\tpublic string OutputDirectory \n\t{\n\t\tget\n\t\t{\t\t\n\t\t\treturn _outputDirectory;\n\t\t}\n\t\tset\n\t\t{\n\t\t\tif (value != null && !value.EndsWith(\"\\\\\"))\n\t\t\t{\n\t\t\t\tvalue += \"\\\\\";\n\t\t    }\n\t\t\t_outputDirectory = value;\n\t\t} \n\t}\n</script>\n\n<% \nforeach(TableSchema ts in SourceTables) \n{ \nSE s = new SE(); \n   s.SourceTable = ts; \n   s.RootNamespace = RootNamespace;\n   s.OutputDirectory = OutputDirectory;\n   s.Render(this.Response); \n} \n%> \n<script runat=\"template\"> \n</script> \n\n```\n\n\n\n<%@ Property Name=\"SourceTables\" Type=\"SchemaExplorer.TableSchemaCollection\" Default=\"\" Optional=\"False\" Category=\"\"%> \n\n \n\n![3](http://a2.qpic.cn/psb?/V13bZOxq1m5DxB/CGQI8amVPz7K7Vyb05kp*0ti3mbnPWz4Q5xdUPBQSl0!/b/dHIBAAAAAAAA&bo=MQK0AjECtAIDCSw!&rf=viewer_4)\n\n\n\n``` C#\n<% \nforeach(TableSchema ts in SourceTables) \n{ \nSE s = new SE(); \n   s.SourceTable = ts; \n   s.RootNamespace = RootNamespace;\n   s.OutputDirectory = OutputDirectory;\n   s.Render(this.Response); \n} \n%> \n<script runat=\"template\"> \n</script> \n\n```\n\n\n\n\n\nmodel/dal/bll\n\n\nmodel\n\nmodelcst\n\n\n``` C#\n<%@ CodeTemplate Language=\"C#\" TargetLanguage=\"C#\" \nSrc=\"ToolsCodeTemplate.cs\" Inherits=\"ToolsCodeTemplate\"%>\n<%@ Property Name=\"TargetTable\" Type=\"SchemaExplorer.TableSchema\" \nCategory=\"Context\" Description=\"TargetTable that the object is \nbased on.\" %>\n<%@ Property Name=\"ModelsNamespace\" Default=\"Model\" \nType=\"System.String\" Category=\"Context\" Description=\"TargetTable \nthat the object is based on.\" %>\n<%@ Assembly Name=\"SchemaExplorer\" %>\n<%@ Assembly Name=\"System.Data\" %>\n<%@ Import Namespace=\"SchemaExplorer\" %>\n<%@ Import Namespace=\"System.Data\" %>\n<% PrintHeader(); %>\nusing System;\nusing System.Collections.Generic;\nusing System.Text;\n\nnamespace <%= ModelsNamespace %>\n{\t\n\t[Serializable()]\n\tpublic class <%= GetModelClassName() %>\n\t{\n\t    <% \n\t\tforeach (ColumnSchema column in TargetTable.Columns)\n\t   {\n\t\t%>\n\t\t\tprivate <%= GetPropertyType(column) %>  _<%= \n\t\t\tGetPropertyName(column) %>;\t\t\t\n\t\t<%\n\t\t}\n\t\t%>\n\t    \n\t\t<% \n\t\tforeach (ColumnSchema column in TargetTable.Columns)\n\t\t{\n\t\t%>\n\t\t\tpublic <%= GetPropertyType(column) %> <%= \n\t\t\tGetPropertyName(column) %>\n\t\t\t{\n\t\t\t\t get { return _<%= GetPropertyName(column) %>; }\n\t             set { _<%= GetPropertyName(column) %> = value; }\n\t\t\t}\n\t\t<%\n\t\t}\n\t\t%>\t\n\t}\n}\n<script runat=\"template\">\npublic string GetModelClassName()\n{\n\treturn GetModelClassName(TargetTable);\n}\n\npublic override string GetFileName()\n{\n\treturn this.GetModelClassName(this.TargetTable) + \".cs\";\n}\n\n</script>\n```\n\nGetPropertyName(column)ToolsCodeTemplate.cs\n\nGetPropertyName(column)\n\n``` C#\npublic string GetPropertyName(ColumnSchema column)\n{\n\n    return GetNameFromDBFieldName(column);\n}\npublic string GetNameFromDBFieldName(ColumnSchema column)\n{\n\treturn column.Name;\n}\n\n```\nmodel\n\n\n\n```C#\n    public string GetColumnComment(ColumnSchema column)\n    {\n         return column.Description;\n    }\n\n```\n...\n...\ngoogleSchemaExplorer.MySQLSchemaProvider.dll ....\n\n\n\n\n[CodeSmithMySQLDescription](http://www.cnblogs.com/LonelyShadow/p/4147743.html)\n\nDLL\n\n:[CodeSmith-for-MySQL-Template](https://github.com/liguobao/CodeSmith-for-MySQL-Template)\n\n\n\n\n\n1. MySQLtbl\n2. SchemaExplorer.MySQLSchemaProvider.dll()\n\n","source":"_posts/CodeSmith-MySQL.md","raw":"---\nlayout: post\ntitle: CodeSmith for MySQL template\ncategory: CodeSmith\n---\n\n\n.NETcodesmith\n\n<br> \nSQL servercodesmithmodel/DAL/BLL\n<br> \nSQL server MySQLSQL\n<br> \nMySQL codesmith,codesmith\n<br> \n\ncodesmith\n\n\n\n\ncodesmithCodesmithMain.cst,-execute-MySQL-\n<br>codesmithMySQL\n<br> [CodeSmith MySQLcan't find .net framework data provider](http://codelover.link/2016/02/25/CodeSmith%E8%BF%9E%E6%8E%A5MySQL%E6%8A%A5%E9%94%99%E2%80%9C%E6%89%BE%E4%B8%8D%E5%88%B0%E8%AF%B7%E6%B1%82%E7%9A%84%20.Net%20Framework%20Data%20Provider%E3%80%82%E5%8F%AF%E8%83%BD%E6%B2%A1%E6%9C%89%E5%AE%89%E8%A3%85%E3%80%82%E2%80%9D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/))\n\n\n![1](http://a1.qpic.cn/psb?/V13bZOxq1m5DxB/1XlywVcAyPW6y*6sO1QU.gkuidIqPkx.f70JsaijlU0!/b/dIwBAAAAAAAA&bo=MQIcAjECHAIDCSw!&rf=viewer_4)\n\n\n\nGeneratemodel/dal/bll\n\n\n\n![2](http://a3.qpic.cn/psb?/V13bZOxq1m5DxB/ikI1fSxAYklZgi1PmtPVTQqpHcZ0KTQHgN7LrPJaKNo!/b/dG4AAAAAAAAA&bo=fgLGAH4CxgADCSw!&rf=viewer_4)\n\n\n\n<p>model/dal/bll....\ngoogle\nMain.cst\n\n```C#\n\n<%@ CodeTemplate Language=\"C#\" ResponseEncoding=\"UTF-8\" \nTargetLanguage=\"Text\" Src=\"\" Inherits=\"\" Debug=\"False\" \nDescription=\"Template description here.\" \n Output=\"None\"%>\n<%@ Register Name=\"Models\" Template=\"DBMad.Models.cst\" \n\tMergeProperties=\"False\" ExcludeProperties=\"\" %>\t\n<%@ Register Name=\"DAL\" Template=\"DBMad.DAL.cst\" \nMergeProperties=\"False\" ExcludeProperties=\"\" %> \n<%@ Register Name=\"BLL\" Template=\"DBMad.BLL.cst\" \nMergeProperties=\"False\" ExcludeProperties=\"\" %>\n\n<%@ Property Name=\"SourceTable\" \nType=\"SchemaExplorer.TableSchema\" Optional=\"False\"%>\n<%@ Property Name=\"RootNamespace\" Default=\"Net.Itcast.CN\" \nType=\"System.String\" Optional=\"False\"%>\n\n<%@ Assembly Name=\"SchemaExplorer\" %>\n<%@ Assembly Name=\"System.Data\" %>\n<%@ Import Namespace=\"SchemaExplorer\" %>\n<%@ Import Namespace=\"System.Data\" %>\n<script runat=\"template\">\n\tprivate string _outputDirectory = String.Empty;\n\t[Editor(typeof(System.Windows.Forms.Design.FolderNameEditor), \n\ttypeof(System.Drawing.Design.UITypeEditor))] \n\t[Description(\"The directory to output the results to.\")]\n\tpublic string OutputDirectory \n\t{\n\t\tget\n\t\t{\t\t\n\t\t\treturn _outputDirectory;\n\t\t}\n\t\tset\n\t\t{\n\t\t\tif (value != null && !value.EndsWith(\"\\\\\"))\n\t\t\t{\n\t\t\t\tvalue += \"\\\\\";\n\t\t    }\n\t\t\t_outputDirectory = value;\n\t\t} \n\t}\n</script>\n\n```\n\n\n\n\n![1](http://a1.qpic.cn/psb?/V13bZOxq1m5DxB/1XlywVcAyPW6y*6sO1QU.gkuidIqPkx.f70JsaijlU0!/b/dIwBAAAAAAAA&bo=MQIcAjECHAIDCSw!&rf=viewer_4)\n\n\n``` C#\n\n<%\n    Models model = this.Create<Models>();\n\tmodel.ModelsNamespace = this.RootNamespace+\".Model\";\n\tmodel.TargetTable = this.SourceTable;\n\tmodel.RenderToFile(this.OutputDirectory+\"Model/\"+model.GetFileName(),true);\n\t\n\n   DAL dal = this.Create<DAL>();\n   dal.TargetTable = this.SourceTable;\n   dal.ModelsNamespace = model.ModelsNamespace;\n   dal.DALClassNameSurfix = \"DAL\";\n   dal.DALNamespace =this.RootNamespace+\".DAL\";\n   dal.RenderToFile(this.OutputDirectory+\"DAL/\"\n   +dal.GetFileName(),true);\n\n   BLL bll = this.Create<BLL>();\n   bll.ModelsNamespace = model.ModelsNamespace;\n   bll.DALClassNameSurfix = dal.DALClassNameSurfix;\n   bll.DALNamespace = dal.DALNamespace;\n   bll.BLLClassNameSurfix = \"BLL\";\n   bll.BLLNamespace = this.RootNamespace+\".BLL\";\n   bll.TargetTable = this.SourceTable;\n   bll.RenderToFile(this.OutputDirectory+\"BLL/\"\n   +bll.GetFileName(),true);\n\n   Response.Write(\"ok,see \"+this.OutputDirectory);\n%>\n```\n\nGenerate\nDBMad.Models.cst,DBMad.DAL.cst,DBMad.BLL.cst\nSchemaExplorer.TableSchema\n\n<%@ Property Name=\"SourceTable\" Type=\"SchemaExplorer.TableSchema\" Optional=\"False\"%>\n\nMain.cst\n\nType\n\n\n\n<%@ Property Name=\"SourceTables\" Type=\"SchemaExplorer.TableSchemaCollection\" Default=\"\" Optional=\"False\" Category=\"\"%> \n\n\n\n\n``` C#\n<%@ CodeTemplate Language=\"C#\" ResponseEncoding=\"UTF-8\" \nTargetLanguage=\"Text\" Src=\"\" Inherits=\"\" Debug=\"False\" \nDescription=\"Template description here.\" Output=\"None\"%>\n<%@ Property Name=\"SourceTables\" \nType=\"SchemaExplorer.TableSchemaCollection\" Default=\"\" \nOptional=\"False\" Category=\"\"%> \n<%@ Register Name=\"SE\" Template=\"CreatSingleTable.cst\" \nMergeProperties=\"False\" ExcludeProperties=\"\" %> \n<%@ Property Name=\"RootNamespace\" Default=\"Net.Itcast.CN\" \nType=\"System.String\" Optional=\"False\"%>\n<%@ Assembly Name=\"SchemaExplorer\" %> \n<%@ Assembly Name=\"System.Data\" %>\n<%@ Import Namespace=\"SchemaExplorer\" %> \n<%@ Import Namespace=\"System.Data\" %> \n<%@ Import Namespace=\"System.Collections\" %> \n<script runat=\"template\">\n\tprivate string _outputDirectory = String.Empty;\n\t[Editor(typeof(System.Windows.Forms.Design.FolderNameEditor), \n\ttypeof(System.Drawing.Design.UITypeEditor))] \n\t[Description(\"The directory to output the results to.\")]\n\tpublic string OutputDirectory \n\t{\n\t\tget\n\t\t{\t\t\n\t\t\treturn _outputDirectory;\n\t\t}\n\t\tset\n\t\t{\n\t\t\tif (value != null && !value.EndsWith(\"\\\\\"))\n\t\t\t{\n\t\t\t\tvalue += \"\\\\\";\n\t\t    }\n\t\t\t_outputDirectory = value;\n\t\t} \n\t}\n</script>\n\n<% \nforeach(TableSchema ts in SourceTables) \n{ \nSE s = new SE(); \n   s.SourceTable = ts; \n   s.RootNamespace = RootNamespace;\n   s.OutputDirectory = OutputDirectory;\n   s.Render(this.Response); \n} \n%> \n<script runat=\"template\"> \n</script> \n\n```\n\n\n\n<%@ Property Name=\"SourceTables\" Type=\"SchemaExplorer.TableSchemaCollection\" Default=\"\" Optional=\"False\" Category=\"\"%> \n\n \n\n![3](http://a2.qpic.cn/psb?/V13bZOxq1m5DxB/CGQI8amVPz7K7Vyb05kp*0ti3mbnPWz4Q5xdUPBQSl0!/b/dHIBAAAAAAAA&bo=MQK0AjECtAIDCSw!&rf=viewer_4)\n\n\n\n``` C#\n<% \nforeach(TableSchema ts in SourceTables) \n{ \nSE s = new SE(); \n   s.SourceTable = ts; \n   s.RootNamespace = RootNamespace;\n   s.OutputDirectory = OutputDirectory;\n   s.Render(this.Response); \n} \n%> \n<script runat=\"template\"> \n</script> \n\n```\n\n\n\n\n\nmodel/dal/bll\n\n\nmodel\n\nmodelcst\n\n\n``` C#\n<%@ CodeTemplate Language=\"C#\" TargetLanguage=\"C#\" \nSrc=\"ToolsCodeTemplate.cs\" Inherits=\"ToolsCodeTemplate\"%>\n<%@ Property Name=\"TargetTable\" Type=\"SchemaExplorer.TableSchema\" \nCategory=\"Context\" Description=\"TargetTable that the object is \nbased on.\" %>\n<%@ Property Name=\"ModelsNamespace\" Default=\"Model\" \nType=\"System.String\" Category=\"Context\" Description=\"TargetTable \nthat the object is based on.\" %>\n<%@ Assembly Name=\"SchemaExplorer\" %>\n<%@ Assembly Name=\"System.Data\" %>\n<%@ Import Namespace=\"SchemaExplorer\" %>\n<%@ Import Namespace=\"System.Data\" %>\n<% PrintHeader(); %>\nusing System;\nusing System.Collections.Generic;\nusing System.Text;\n\nnamespace <%= ModelsNamespace %>\n{\t\n\t[Serializable()]\n\tpublic class <%= GetModelClassName() %>\n\t{\n\t    <% \n\t\tforeach (ColumnSchema column in TargetTable.Columns)\n\t   {\n\t\t%>\n\t\t\tprivate <%= GetPropertyType(column) %>  _<%= \n\t\t\tGetPropertyName(column) %>;\t\t\t\n\t\t<%\n\t\t}\n\t\t%>\n\t    \n\t\t<% \n\t\tforeach (ColumnSchema column in TargetTable.Columns)\n\t\t{\n\t\t%>\n\t\t\tpublic <%= GetPropertyType(column) %> <%= \n\t\t\tGetPropertyName(column) %>\n\t\t\t{\n\t\t\t\t get { return _<%= GetPropertyName(column) %>; }\n\t             set { _<%= GetPropertyName(column) %> = value; }\n\t\t\t}\n\t\t<%\n\t\t}\n\t\t%>\t\n\t}\n}\n<script runat=\"template\">\npublic string GetModelClassName()\n{\n\treturn GetModelClassName(TargetTable);\n}\n\npublic override string GetFileName()\n{\n\treturn this.GetModelClassName(this.TargetTable) + \".cs\";\n}\n\n</script>\n```\n\nGetPropertyName(column)ToolsCodeTemplate.cs\n\nGetPropertyName(column)\n\n``` C#\npublic string GetPropertyName(ColumnSchema column)\n{\n\n    return GetNameFromDBFieldName(column);\n}\npublic string GetNameFromDBFieldName(ColumnSchema column)\n{\n\treturn column.Name;\n}\n\n```\nmodel\n\n\n\n```C#\n    public string GetColumnComment(ColumnSchema column)\n    {\n         return column.Description;\n    }\n\n```\n...\n...\ngoogleSchemaExplorer.MySQLSchemaProvider.dll ....\n\n\n\n\n[CodeSmithMySQLDescription](http://www.cnblogs.com/LonelyShadow/p/4147743.html)\n\nDLL\n\n:[CodeSmith-for-MySQL-Template](https://github.com/liguobao/CodeSmith-for-MySQL-Template)\n\n\n\n\n\n1. MySQLtbl\n2. SchemaExplorer.MySQLSchemaProvider.dll()\n\n","slug":"CodeSmith-MySQL","published":1,"date":"2016-02-27T09:55:34.000Z","updated":"2018-05-17T07:59:54.948Z","comments":1,"photos":[],"link":"","_id":"cjha9xxsl0002ie1wz9wc5w8m","content":"<p>.NETcodesmith</p>\n<p><br><br>SQL servercodesmithmodel/DAL/BLL<br><br><br>SQL server MySQLSQL<br><br><br>MySQL codesmith,codesmith<br><br> </p>\n<p>codesmith</p>\n<p></p>\n<p>codesmithCodesmithMain.cst,-execute-MySQL-<br><br>codesmithMySQL<br><br> <a href=\"http://codelover.link/2016/02/25/CodeSmith%E8%BF%9E%E6%8E%A5MySQL%E6%8A%A5%E9%94%99%E2%80%9C%E6%89%BE%E4%B8%8D%E5%88%B0%E8%AF%B7%E6%B1%82%E7%9A%84%20.Net%20Framework%20Data%20Provider%E3%80%82%E5%8F%AF%E8%83%BD%E6%B2%A1%E6%9C%89%E5%AE%89%E8%A3%85%E3%80%82%E2%80%9D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/\" target=\"_blank\" rel=\"noopener\">CodeSmith MySQLcant find .net framework data provider</a>)</p>\n<p><br><img src=\"http://a1.qpic.cn/psb?/V13bZOxq1m5DxB/1XlywVcAyPW6y*6sO1QU.gkuidIqPkx.f70JsaijlU0!/b/dIwBAAAAAAAA&amp;bo=MQIcAjECHAIDCSw!&amp;rf=viewer_4\" alt=\"1\"></p>\n<p>Generatemodel/dal/bll</p>\n<p><br><img src=\"http://a3.qpic.cn/psb?/V13bZOxq1m5DxB/ikI1fSxAYklZgi1PmtPVTQqpHcZ0KTQHgN7LrPJaKNo!/b/dG4AAAAAAAAA&amp;bo=fgLGAH4CxgADCSw!&amp;rf=viewer_4\" alt=\"2\"></p>\n<p></p><p>model/dal/bll.<br>google<br>Main.cst</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;%@ CodeTemplate Language=&quot;C#&quot; ResponseEncoding=&quot;UTF-8&quot; </span><br><span class=\"line\">TargetLanguage=&quot;Text&quot; Src=&quot;&quot; Inherits=&quot;&quot; Debug=&quot;False&quot; </span><br><span class=\"line\">Description=&quot;Template description here.&quot; </span><br><span class=\"line\"> Output=&quot;None&quot;%&gt;</span><br><span class=\"line\">&lt;%@ Register Name=&quot;Models&quot; Template=&quot;DBMad.Models.cst&quot; </span><br><span class=\"line\">\tMergeProperties=&quot;False&quot; ExcludeProperties=&quot;&quot; %&gt;\t</span><br><span class=\"line\">&lt;%@ Register Name=&quot;DAL&quot; Template=&quot;DBMad.DAL.cst&quot; </span><br><span class=\"line\">MergeProperties=&quot;False&quot; ExcludeProperties=&quot;&quot; %&gt; </span><br><span class=\"line\">&lt;%@ Register Name=&quot;BLL&quot; Template=&quot;DBMad.BLL.cst&quot; </span><br><span class=\"line\">MergeProperties=&quot;False&quot; ExcludeProperties=&quot;&quot; %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%@ Property Name=&quot;SourceTable&quot; </span><br><span class=\"line\">Type=&quot;SchemaExplorer.TableSchema&quot; Optional=&quot;False&quot;%&gt;</span><br><span class=\"line\">&lt;%@ Property Name=&quot;RootNamespace&quot; Default=&quot;Net.Itcast.CN&quot; </span><br><span class=\"line\">Type=&quot;System.String&quot; Optional=&quot;False&quot;%&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;SchemaExplorer&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;System.Data&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;SchemaExplorer&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;System.Data&quot; %&gt;</span><br><span class=\"line\">&lt;script runat=&quot;template&quot;&gt;</span><br><span class=\"line\">\tprivate string _outputDirectory = String.Empty;</span><br><span class=\"line\">\t[Editor(typeof(System.Windows.Forms.Design.FolderNameEditor), </span><br><span class=\"line\">\ttypeof(System.Drawing.Design.UITypeEditor))] </span><br><span class=\"line\">\t[Description(&quot;The directory to output the results to.&quot;)]</span><br><span class=\"line\">\tpublic string OutputDirectory </span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tget</span><br><span class=\"line\">\t\t&#123;\t\t</span><br><span class=\"line\">\t\t\treturn _outputDirectory;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tset</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tif (value != null &amp;&amp; !value.EndsWith(&quot;\\\\&quot;))</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tvalue += &quot;\\\\&quot;;</span><br><span class=\"line\">\t\t    &#125;</span><br><span class=\"line\">\t\t\t_outputDirectory = value;</span><br><span class=\"line\">\t\t&#125; </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"http://a1.qpic.cn/psb?/V13bZOxq1m5DxB/1XlywVcAyPW6y*6sO1QU.gkuidIqPkx.f70JsaijlU0!/b/dIwBAAAAAAAA&amp;bo=MQIcAjECHAIDCSw!&amp;rf=viewer_4\" alt=\"1\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;%</span><br><span class=\"line\">    Models model = this.Create&lt;Models&gt;();</span><br><span class=\"line\">\tmodel.ModelsNamespace = this.RootNamespace+&quot;.Model&quot;;</span><br><span class=\"line\">\tmodel.TargetTable = this.SourceTable;</span><br><span class=\"line\">\tmodel.RenderToFile(this.OutputDirectory+&quot;Model/&quot;+model.GetFileName(),true);</span><br><span class=\"line\">\t</span><br><span class=\"line\"></span><br><span class=\"line\">   DAL dal = this.Create&lt;DAL&gt;();</span><br><span class=\"line\">   dal.TargetTable = this.SourceTable;</span><br><span class=\"line\">   dal.ModelsNamespace = model.ModelsNamespace;</span><br><span class=\"line\">   dal.DALClassNameSurfix = &quot;DAL&quot;;</span><br><span class=\"line\">   dal.DALNamespace =this.RootNamespace+&quot;.DAL&quot;;</span><br><span class=\"line\">   dal.RenderToFile(this.OutputDirectory+&quot;DAL/&quot;</span><br><span class=\"line\">   +dal.GetFileName(),true);</span><br><span class=\"line\"></span><br><span class=\"line\">   BLL bll = this.Create&lt;BLL&gt;();</span><br><span class=\"line\">   bll.ModelsNamespace = model.ModelsNamespace;</span><br><span class=\"line\">   bll.DALClassNameSurfix = dal.DALClassNameSurfix;</span><br><span class=\"line\">   bll.DALNamespace = dal.DALNamespace;</span><br><span class=\"line\">   bll.BLLClassNameSurfix = &quot;BLL&quot;;</span><br><span class=\"line\">   bll.BLLNamespace = this.RootNamespace+&quot;.BLL&quot;;</span><br><span class=\"line\">   bll.TargetTable = this.SourceTable;</span><br><span class=\"line\">   bll.RenderToFile(this.OutputDirectory+&quot;BLL/&quot;</span><br><span class=\"line\">   +bll.GetFileName(),true);</span><br><span class=\"line\"></span><br><span class=\"line\">   Response.Write(&quot;ok,see &quot;+this.OutputDirectory);</span><br><span class=\"line\">%&gt;</span><br></pre></td></tr></table></figure>\n<p>Generate<br>DBMad.Models.cst,DBMad.DAL.cst,DBMad.BLL.cst<br>SchemaExplorer.TableSchema</p>\n<p>&lt;%@ Property Name=SourceTable Type=SchemaExplorer.TableSchema Optional=False%&gt;</p>\n<p>Main.cst</p>\n<p>Type</p>\n<p></p>\n<p>&lt;%@ Property Name=SourceTables Type=SchemaExplorer.TableSchemaCollection Default= Optional=False Category=%&gt; </p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ CodeTemplate Language=&quot;C#&quot; ResponseEncoding=&quot;UTF-8&quot; </span><br><span class=\"line\">TargetLanguage=&quot;Text&quot; Src=&quot;&quot; Inherits=&quot;&quot; Debug=&quot;False&quot; </span><br><span class=\"line\">Description=&quot;Template description here.&quot; Output=&quot;None&quot;%&gt;</span><br><span class=\"line\">&lt;%@ Property Name=&quot;SourceTables&quot; </span><br><span class=\"line\">Type=&quot;SchemaExplorer.TableSchemaCollection&quot; Default=&quot;&quot; </span><br><span class=\"line\">Optional=&quot;False&quot; Category=&quot;&quot;%&gt; </span><br><span class=\"line\">&lt;%@ Register Name=&quot;SE&quot; Template=&quot;CreatSingleTable.cst&quot; </span><br><span class=\"line\">MergeProperties=&quot;False&quot; ExcludeProperties=&quot;&quot; %&gt; </span><br><span class=\"line\">&lt;%@ Property Name=&quot;RootNamespace&quot; Default=&quot;Net.Itcast.CN&quot; </span><br><span class=\"line\">Type=&quot;System.String&quot; Optional=&quot;False&quot;%&gt;</span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;SchemaExplorer&quot; %&gt; </span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;System.Data&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;SchemaExplorer&quot; %&gt; </span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;System.Data&quot; %&gt; </span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;System.Collections&quot; %&gt; </span><br><span class=\"line\">&lt;script runat=&quot;template&quot;&gt;</span><br><span class=\"line\">\tprivate string _outputDirectory = String.Empty;</span><br><span class=\"line\">\t[Editor(typeof(System.Windows.Forms.Design.FolderNameEditor), </span><br><span class=\"line\">\ttypeof(System.Drawing.Design.UITypeEditor))] </span><br><span class=\"line\">\t[Description(&quot;The directory to output the results to.&quot;)]</span><br><span class=\"line\">\tpublic string OutputDirectory </span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tget</span><br><span class=\"line\">\t\t&#123;\t\t</span><br><span class=\"line\">\t\t\treturn _outputDirectory;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tset</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tif (value != null &amp;&amp; !value.EndsWith(&quot;\\\\&quot;))</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tvalue += &quot;\\\\&quot;;</span><br><span class=\"line\">\t\t    &#125;</span><br><span class=\"line\">\t\t\t_outputDirectory = value;</span><br><span class=\"line\">\t\t&#125; </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;% </span><br><span class=\"line\">foreach(TableSchema ts in SourceTables) </span><br><span class=\"line\">&#123; </span><br><span class=\"line\">SE s = new SE(); </span><br><span class=\"line\">   s.SourceTable = ts; </span><br><span class=\"line\">   s.RootNamespace = RootNamespace;</span><br><span class=\"line\">   s.OutputDirectory = OutputDirectory;</span><br><span class=\"line\">   s.Render(this.Response); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">%&gt; </span><br><span class=\"line\">&lt;script runat=&quot;template&quot;&gt; </span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>&lt;%@ Property Name=SourceTables Type=SchemaExplorer.TableSchemaCollection Default= Optional=False Category=%&gt; </p>\n<p> <br><br><img src=\"http://a2.qpic.cn/psb?/V13bZOxq1m5DxB/CGQI8amVPz7K7Vyb05kp*0ti3mbnPWz4Q5xdUPBQSl0!/b/dHIBAAAAAAAA&amp;bo=MQK0AjECtAIDCSw!&amp;rf=viewer_4\" alt=\"3\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% </span><br><span class=\"line\">foreach(TableSchema ts in SourceTables) </span><br><span class=\"line\">&#123; </span><br><span class=\"line\">SE s = new SE(); </span><br><span class=\"line\">   s.SourceTable = ts; </span><br><span class=\"line\">   s.RootNamespace = RootNamespace;</span><br><span class=\"line\">   s.OutputDirectory = OutputDirectory;</span><br><span class=\"line\">   s.Render(this.Response); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">%&gt; </span><br><span class=\"line\">&lt;script runat=&quot;template&quot;&gt; </span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>model/dal/bll</p>\n<p>model</p>\n<p>modelcst<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ CodeTemplate Language=&quot;C#&quot; TargetLanguage=&quot;C#&quot; </span><br><span class=\"line\">Src=&quot;ToolsCodeTemplate.cs&quot; Inherits=&quot;ToolsCodeTemplate&quot;%&gt;</span><br><span class=\"line\">&lt;%@ Property Name=&quot;TargetTable&quot; Type=&quot;SchemaExplorer.TableSchema&quot; </span><br><span class=\"line\">Category=&quot;Context&quot; Description=&quot;TargetTable that the object is </span><br><span class=\"line\">based on.&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Property Name=&quot;ModelsNamespace&quot; Default=&quot;Model&quot; </span><br><span class=\"line\">Type=&quot;System.String&quot; Category=&quot;Context&quot; Description=&quot;TargetTable </span><br><span class=\"line\">that the object is based on.&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;SchemaExplorer&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;System.Data&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;SchemaExplorer&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;System.Data&quot; %&gt;</span><br><span class=\"line\">&lt;% PrintHeader(); %&gt;</span><br><span class=\"line\">using System;</span><br><span class=\"line\">using System.Collections.Generic;</span><br><span class=\"line\">using System.Text;</span><br><span class=\"line\"></span><br><span class=\"line\">namespace &lt;%= ModelsNamespace %&gt;</span><br><span class=\"line\">&#123;\t</span><br><span class=\"line\">\t[Serializable()]</span><br><span class=\"line\">\tpublic class &lt;%= GetModelClassName() %&gt;</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t    &lt;% </span><br><span class=\"line\">\t\tforeach (ColumnSchema column in TargetTable.Columns)</span><br><span class=\"line\">\t   &#123;</span><br><span class=\"line\">\t\t%&gt;</span><br><span class=\"line\">\t\t\tprivate &lt;%= GetPropertyType(column) %&gt;  _&lt;%= </span><br><span class=\"line\">\t\t\tGetPropertyName(column) %&gt;;\t\t\t</span><br><span class=\"line\">\t\t&lt;%</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t%&gt;</span><br><span class=\"line\">\t    </span><br><span class=\"line\">\t\t&lt;% </span><br><span class=\"line\">\t\tforeach (ColumnSchema column in TargetTable.Columns)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t%&gt;</span><br><span class=\"line\">\t\t\tpublic &lt;%= GetPropertyType(column) %&gt; &lt;%= </span><br><span class=\"line\">\t\t\tGetPropertyName(column) %&gt;</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t get &#123; return _&lt;%= GetPropertyName(column) %&gt;; &#125;</span><br><span class=\"line\">\t             set &#123; _&lt;%= GetPropertyName(column) %&gt; = value; &#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&lt;%</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t%&gt;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;script runat=&quot;template&quot;&gt;</span><br><span class=\"line\">public string GetModelClassName()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\treturn GetModelClassName(TargetTable);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">public override string GetFileName()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\treturn this.GetModelClassName(this.TargetTable) + &quot;.cs&quot;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p>GetPropertyName(column)ToolsCodeTemplate.cs</p>\n<p>GetPropertyName(column)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public string GetPropertyName(ColumnSchema column)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    return GetNameFromDBFieldName(column);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">public string GetNameFromDBFieldName(ColumnSchema column)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\treturn column.Name;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>model</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public string GetColumnComment(ColumnSchema column)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">     return column.Description;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><br>googleSchemaExplorer.MySQLSchemaProvider.dll .</p>\n<p></p>\n<p><a href=\"http://www.cnblogs.com/LonelyShadow/p/4147743.html\" target=\"_blank\" rel=\"noopener\">CodeSmithMySQLDescription</a></p>\n<p>DLL</p>\n<p>:<a href=\"https://github.com/liguobao/CodeSmith-for-MySQL-Template\" target=\"_blank\" rel=\"noopener\">CodeSmith-for-MySQL-Template</a></p>\n<p></p>\n<ol>\n<li>MySQLtbl</li>\n<li>SchemaExplorer.MySQLSchemaProvider.dll()</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>.NETcodesmith</p>\n<p><br><br>SQL servercodesmithmodel/DAL/BLL<br><br><br>SQL server MySQLSQL<br><br><br>MySQL codesmith,codesmith<br><br> </p>\n<p>codesmith</p>\n<p></p>\n<p>codesmithCodesmithMain.cst,-execute-MySQL-<br><br>codesmithMySQL<br><br> <a href=\"http://codelover.link/2016/02/25/CodeSmith%E8%BF%9E%E6%8E%A5MySQL%E6%8A%A5%E9%94%99%E2%80%9C%E6%89%BE%E4%B8%8D%E5%88%B0%E8%AF%B7%E6%B1%82%E7%9A%84%20.Net%20Framework%20Data%20Provider%E3%80%82%E5%8F%AF%E8%83%BD%E6%B2%A1%E6%9C%89%E5%AE%89%E8%A3%85%E3%80%82%E2%80%9D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/\" target=\"_blank\" rel=\"noopener\">CodeSmith MySQLcant find .net framework data provider</a>)</p>\n<p><br><img src=\"http://a1.qpic.cn/psb?/V13bZOxq1m5DxB/1XlywVcAyPW6y*6sO1QU.gkuidIqPkx.f70JsaijlU0!/b/dIwBAAAAAAAA&amp;bo=MQIcAjECHAIDCSw!&amp;rf=viewer_4\" alt=\"1\"></p>\n<p>Generatemodel/dal/bll</p>\n<p><br><img src=\"http://a3.qpic.cn/psb?/V13bZOxq1m5DxB/ikI1fSxAYklZgi1PmtPVTQqpHcZ0KTQHgN7LrPJaKNo!/b/dG4AAAAAAAAA&amp;bo=fgLGAH4CxgADCSw!&amp;rf=viewer_4\" alt=\"2\"></p>\n<p></p><p>model/dal/bll.<br>google<br>Main.cst</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;%@ CodeTemplate Language=&quot;C#&quot; ResponseEncoding=&quot;UTF-8&quot; </span><br><span class=\"line\">TargetLanguage=&quot;Text&quot; Src=&quot;&quot; Inherits=&quot;&quot; Debug=&quot;False&quot; </span><br><span class=\"line\">Description=&quot;Template description here.&quot; </span><br><span class=\"line\"> Output=&quot;None&quot;%&gt;</span><br><span class=\"line\">&lt;%@ Register Name=&quot;Models&quot; Template=&quot;DBMad.Models.cst&quot; </span><br><span class=\"line\">\tMergeProperties=&quot;False&quot; ExcludeProperties=&quot;&quot; %&gt;\t</span><br><span class=\"line\">&lt;%@ Register Name=&quot;DAL&quot; Template=&quot;DBMad.DAL.cst&quot; </span><br><span class=\"line\">MergeProperties=&quot;False&quot; ExcludeProperties=&quot;&quot; %&gt; </span><br><span class=\"line\">&lt;%@ Register Name=&quot;BLL&quot; Template=&quot;DBMad.BLL.cst&quot; </span><br><span class=\"line\">MergeProperties=&quot;False&quot; ExcludeProperties=&quot;&quot; %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%@ Property Name=&quot;SourceTable&quot; </span><br><span class=\"line\">Type=&quot;SchemaExplorer.TableSchema&quot; Optional=&quot;False&quot;%&gt;</span><br><span class=\"line\">&lt;%@ Property Name=&quot;RootNamespace&quot; Default=&quot;Net.Itcast.CN&quot; </span><br><span class=\"line\">Type=&quot;System.String&quot; Optional=&quot;False&quot;%&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;SchemaExplorer&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;System.Data&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;SchemaExplorer&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;System.Data&quot; %&gt;</span><br><span class=\"line\">&lt;script runat=&quot;template&quot;&gt;</span><br><span class=\"line\">\tprivate string _outputDirectory = String.Empty;</span><br><span class=\"line\">\t[Editor(typeof(System.Windows.Forms.Design.FolderNameEditor), </span><br><span class=\"line\">\ttypeof(System.Drawing.Design.UITypeEditor))] </span><br><span class=\"line\">\t[Description(&quot;The directory to output the results to.&quot;)]</span><br><span class=\"line\">\tpublic string OutputDirectory </span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tget</span><br><span class=\"line\">\t\t&#123;\t\t</span><br><span class=\"line\">\t\t\treturn _outputDirectory;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tset</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tif (value != null &amp;&amp; !value.EndsWith(&quot;\\\\&quot;))</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tvalue += &quot;\\\\&quot;;</span><br><span class=\"line\">\t\t    &#125;</span><br><span class=\"line\">\t\t\t_outputDirectory = value;</span><br><span class=\"line\">\t\t&#125; </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p><img src=\"http://a1.qpic.cn/psb?/V13bZOxq1m5DxB/1XlywVcAyPW6y*6sO1QU.gkuidIqPkx.f70JsaijlU0!/b/dIwBAAAAAAAA&amp;bo=MQIcAjECHAIDCSw!&amp;rf=viewer_4\" alt=\"1\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">&lt;%</span><br><span class=\"line\">    Models model = this.Create&lt;Models&gt;();</span><br><span class=\"line\">\tmodel.ModelsNamespace = this.RootNamespace+&quot;.Model&quot;;</span><br><span class=\"line\">\tmodel.TargetTable = this.SourceTable;</span><br><span class=\"line\">\tmodel.RenderToFile(this.OutputDirectory+&quot;Model/&quot;+model.GetFileName(),true);</span><br><span class=\"line\">\t</span><br><span class=\"line\"></span><br><span class=\"line\">   DAL dal = this.Create&lt;DAL&gt;();</span><br><span class=\"line\">   dal.TargetTable = this.SourceTable;</span><br><span class=\"line\">   dal.ModelsNamespace = model.ModelsNamespace;</span><br><span class=\"line\">   dal.DALClassNameSurfix = &quot;DAL&quot;;</span><br><span class=\"line\">   dal.DALNamespace =this.RootNamespace+&quot;.DAL&quot;;</span><br><span class=\"line\">   dal.RenderToFile(this.OutputDirectory+&quot;DAL/&quot;</span><br><span class=\"line\">   +dal.GetFileName(),true);</span><br><span class=\"line\"></span><br><span class=\"line\">   BLL bll = this.Create&lt;BLL&gt;();</span><br><span class=\"line\">   bll.ModelsNamespace = model.ModelsNamespace;</span><br><span class=\"line\">   bll.DALClassNameSurfix = dal.DALClassNameSurfix;</span><br><span class=\"line\">   bll.DALNamespace = dal.DALNamespace;</span><br><span class=\"line\">   bll.BLLClassNameSurfix = &quot;BLL&quot;;</span><br><span class=\"line\">   bll.BLLNamespace = this.RootNamespace+&quot;.BLL&quot;;</span><br><span class=\"line\">   bll.TargetTable = this.SourceTable;</span><br><span class=\"line\">   bll.RenderToFile(this.OutputDirectory+&quot;BLL/&quot;</span><br><span class=\"line\">   +bll.GetFileName(),true);</span><br><span class=\"line\"></span><br><span class=\"line\">   Response.Write(&quot;ok,see &quot;+this.OutputDirectory);</span><br><span class=\"line\">%&gt;</span><br></pre></td></tr></table></figure>\n<p>Generate<br>DBMad.Models.cst,DBMad.DAL.cst,DBMad.BLL.cst<br>SchemaExplorer.TableSchema</p>\n<p>&lt;%@ Property Name=SourceTable Type=SchemaExplorer.TableSchema Optional=False%&gt;</p>\n<p>Main.cst</p>\n<p>Type</p>\n<p></p>\n<p>&lt;%@ Property Name=SourceTables Type=SchemaExplorer.TableSchemaCollection Default= Optional=False Category=%&gt; </p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ CodeTemplate Language=&quot;C#&quot; ResponseEncoding=&quot;UTF-8&quot; </span><br><span class=\"line\">TargetLanguage=&quot;Text&quot; Src=&quot;&quot; Inherits=&quot;&quot; Debug=&quot;False&quot; </span><br><span class=\"line\">Description=&quot;Template description here.&quot; Output=&quot;None&quot;%&gt;</span><br><span class=\"line\">&lt;%@ Property Name=&quot;SourceTables&quot; </span><br><span class=\"line\">Type=&quot;SchemaExplorer.TableSchemaCollection&quot; Default=&quot;&quot; </span><br><span class=\"line\">Optional=&quot;False&quot; Category=&quot;&quot;%&gt; </span><br><span class=\"line\">&lt;%@ Register Name=&quot;SE&quot; Template=&quot;CreatSingleTable.cst&quot; </span><br><span class=\"line\">MergeProperties=&quot;False&quot; ExcludeProperties=&quot;&quot; %&gt; </span><br><span class=\"line\">&lt;%@ Property Name=&quot;RootNamespace&quot; Default=&quot;Net.Itcast.CN&quot; </span><br><span class=\"line\">Type=&quot;System.String&quot; Optional=&quot;False&quot;%&gt;</span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;SchemaExplorer&quot; %&gt; </span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;System.Data&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;SchemaExplorer&quot; %&gt; </span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;System.Data&quot; %&gt; </span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;System.Collections&quot; %&gt; </span><br><span class=\"line\">&lt;script runat=&quot;template&quot;&gt;</span><br><span class=\"line\">\tprivate string _outputDirectory = String.Empty;</span><br><span class=\"line\">\t[Editor(typeof(System.Windows.Forms.Design.FolderNameEditor), </span><br><span class=\"line\">\ttypeof(System.Drawing.Design.UITypeEditor))] </span><br><span class=\"line\">\t[Description(&quot;The directory to output the results to.&quot;)]</span><br><span class=\"line\">\tpublic string OutputDirectory </span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tget</span><br><span class=\"line\">\t\t&#123;\t\t</span><br><span class=\"line\">\t\t\treturn _outputDirectory;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tset</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tif (value != null &amp;&amp; !value.EndsWith(&quot;\\\\&quot;))</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tvalue += &quot;\\\\&quot;;</span><br><span class=\"line\">\t\t    &#125;</span><br><span class=\"line\">\t\t\t_outputDirectory = value;</span><br><span class=\"line\">\t\t&#125; </span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;% </span><br><span class=\"line\">foreach(TableSchema ts in SourceTables) </span><br><span class=\"line\">&#123; </span><br><span class=\"line\">SE s = new SE(); </span><br><span class=\"line\">   s.SourceTable = ts; </span><br><span class=\"line\">   s.RootNamespace = RootNamespace;</span><br><span class=\"line\">   s.OutputDirectory = OutputDirectory;</span><br><span class=\"line\">   s.Render(this.Response); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">%&gt; </span><br><span class=\"line\">&lt;script runat=&quot;template&quot;&gt; </span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>&lt;%@ Property Name=SourceTables Type=SchemaExplorer.TableSchemaCollection Default= Optional=False Category=%&gt; </p>\n<p> <br><br><img src=\"http://a2.qpic.cn/psb?/V13bZOxq1m5DxB/CGQI8amVPz7K7Vyb05kp*0ti3mbnPWz4Q5xdUPBQSl0!/b/dHIBAAAAAAAA&amp;bo=MQK0AjECtAIDCSw!&amp;rf=viewer_4\" alt=\"3\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% </span><br><span class=\"line\">foreach(TableSchema ts in SourceTables) </span><br><span class=\"line\">&#123; </span><br><span class=\"line\">SE s = new SE(); </span><br><span class=\"line\">   s.SourceTable = ts; </span><br><span class=\"line\">   s.RootNamespace = RootNamespace;</span><br><span class=\"line\">   s.OutputDirectory = OutputDirectory;</span><br><span class=\"line\">   s.Render(this.Response); </span><br><span class=\"line\">&#125; </span><br><span class=\"line\">%&gt; </span><br><span class=\"line\">&lt;script runat=&quot;template&quot;&gt; </span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>model/dal/bll</p>\n<p>model</p>\n<p>modelcst<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ CodeTemplate Language=&quot;C#&quot; TargetLanguage=&quot;C#&quot; </span><br><span class=\"line\">Src=&quot;ToolsCodeTemplate.cs&quot; Inherits=&quot;ToolsCodeTemplate&quot;%&gt;</span><br><span class=\"line\">&lt;%@ Property Name=&quot;TargetTable&quot; Type=&quot;SchemaExplorer.TableSchema&quot; </span><br><span class=\"line\">Category=&quot;Context&quot; Description=&quot;TargetTable that the object is </span><br><span class=\"line\">based on.&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Property Name=&quot;ModelsNamespace&quot; Default=&quot;Model&quot; </span><br><span class=\"line\">Type=&quot;System.String&quot; Category=&quot;Context&quot; Description=&quot;TargetTable </span><br><span class=\"line\">that the object is based on.&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;SchemaExplorer&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Assembly Name=&quot;System.Data&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;SchemaExplorer&quot; %&gt;</span><br><span class=\"line\">&lt;%@ Import Namespace=&quot;System.Data&quot; %&gt;</span><br><span class=\"line\">&lt;% PrintHeader(); %&gt;</span><br><span class=\"line\">using System;</span><br><span class=\"line\">using System.Collections.Generic;</span><br><span class=\"line\">using System.Text;</span><br><span class=\"line\"></span><br><span class=\"line\">namespace &lt;%= ModelsNamespace %&gt;</span><br><span class=\"line\">&#123;\t</span><br><span class=\"line\">\t[Serializable()]</span><br><span class=\"line\">\tpublic class &lt;%= GetModelClassName() %&gt;</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t    &lt;% </span><br><span class=\"line\">\t\tforeach (ColumnSchema column in TargetTable.Columns)</span><br><span class=\"line\">\t   &#123;</span><br><span class=\"line\">\t\t%&gt;</span><br><span class=\"line\">\t\t\tprivate &lt;%= GetPropertyType(column) %&gt;  _&lt;%= </span><br><span class=\"line\">\t\t\tGetPropertyName(column) %&gt;;\t\t\t</span><br><span class=\"line\">\t\t&lt;%</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t%&gt;</span><br><span class=\"line\">\t    </span><br><span class=\"line\">\t\t&lt;% </span><br><span class=\"line\">\t\tforeach (ColumnSchema column in TargetTable.Columns)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t%&gt;</span><br><span class=\"line\">\t\t\tpublic &lt;%= GetPropertyType(column) %&gt; &lt;%= </span><br><span class=\"line\">\t\t\tGetPropertyName(column) %&gt;</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t get &#123; return _&lt;%= GetPropertyName(column) %&gt;; &#125;</span><br><span class=\"line\">\t             set &#123; _&lt;%= GetPropertyName(column) %&gt; = value; &#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&lt;%</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t%&gt;\t</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;script runat=&quot;template&quot;&gt;</span><br><span class=\"line\">public string GetModelClassName()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\treturn GetModelClassName(TargetTable);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">public override string GetFileName()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\treturn this.GetModelClassName(this.TargetTable) + &quot;.cs&quot;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p>GetPropertyName(column)ToolsCodeTemplate.cs</p>\n<p>GetPropertyName(column)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public string GetPropertyName(ColumnSchema column)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    return GetNameFromDBFieldName(column);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">public string GetNameFromDBFieldName(ColumnSchema column)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\treturn column.Name;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>model</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public string GetColumnComment(ColumnSchema column)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">     return column.Description;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><br><br>googleSchemaExplorer.MySQLSchemaProvider.dll .</p>\n<p></p>\n<p><a href=\"http://www.cnblogs.com/LonelyShadow/p/4147743.html\" target=\"_blank\" rel=\"noopener\">CodeSmithMySQLDescription</a></p>\n<p>DLL</p>\n<p>:<a href=\"https://github.com/liguobao/CodeSmith-for-MySQL-Template\" target=\"_blank\" rel=\"noopener\">CodeSmith-for-MySQL-Template</a></p>\n<p></p>\n<ol>\n<li>MySQLtbl</li>\n<li>SchemaExplorer.MySQLSchemaProvider.dll()</li>\n</ol>\n"},{"layout":"post","title":"CodeSmith MySQLcan't find .net framework data provider","_content":"\n1 mysql-connector-net \n\n[mysql-connector-net](https://dev.mysql.com/downloads/connector/net/6.9.html)\n\n2mysql-connector-net MySQL .NET dll CodeSmithbinSchemaProviders\n\nDLL\n\nC:\\\\Program Files (x86)\\\\MySQL\\\\MySQL Connector Net 6.9.8\\\\Assemblies\\\\v4.0\n\n\n3CodeSmith\n\n\n<br>\n<br>\n\n\n<br>\n[codesmithMysql](http://blog.csdn.net/joke01/article/details/9469515)\n\n[codesmith6.5Mysql .Net Framework Data Provider](http://www.cnblogs.com/tim190/archive/2013/01/18/2866161.html)\n\n\n\n\n","source":"_posts/CodeSmithMySQL .Net Framework Data Provider.md","raw":"---\nlayout: post\ntitle: CodeSmith MySQLcan't find .net framework data provider\ncategory: MySQL\n---\n\n1 mysql-connector-net \n\n[mysql-connector-net](https://dev.mysql.com/downloads/connector/net/6.9.html)\n\n2mysql-connector-net MySQL .NET dll CodeSmithbinSchemaProviders\n\nDLL\n\nC:\\\\Program Files (x86)\\\\MySQL\\\\MySQL Connector Net 6.9.8\\\\Assemblies\\\\v4.0\n\n\n3CodeSmith\n\n\n<br>\n<br>\n\n\n<br>\n[codesmithMysql](http://blog.csdn.net/joke01/article/details/9469515)\n\n[codesmith6.5Mysql .Net Framework Data Provider](http://www.cnblogs.com/tim190/archive/2013/01/18/2866161.html)\n\n\n\n\n","slug":"CodeSmithMySQL .Net Framework Data Provider","published":1,"date":"2016-02-25T15:05:53.000Z","updated":"2018-05-17T08:07:57.498Z","comments":1,"photos":[],"link":"","_id":"cjha9xxsm0003ie1wh1brx3wt","content":"<p>1 mysql-connector-net </p>\n<p><a href=\"https://dev.mysql.com/downloads/connector/net/6.9.html\" target=\"_blank\" rel=\"noopener\">mysql-connector-net</a></p>\n<p>2mysql-connector-net MySQL .NET dll CodeSmithbinSchemaProviders</p>\n<p>DLL</p>\n<p>C:\\Program Files (x86)\\MySQL\\MySQL Connector Net 6.9.8\\Assemblies\\v4.0</p>\n<p>3CodeSmith</p>\n<p><br><br><br></p>\n<p><br><br><br><a href=\"http://blog.csdn.net/joke01/article/details/9469515\" target=\"_blank\" rel=\"noopener\">codesmithMysql</a></p>\n<p><a href=\"http://www.cnblogs.com/tim190/archive/2013/01/18/2866161.html\" target=\"_blank\" rel=\"noopener\">codesmith6.5Mysql .Net Framework Data Provider</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>1 mysql-connector-net </p>\n<p><a href=\"https://dev.mysql.com/downloads/connector/net/6.9.html\" target=\"_blank\" rel=\"noopener\">mysql-connector-net</a></p>\n<p>2mysql-connector-net MySQL .NET dll CodeSmithbinSchemaProviders</p>\n<p>DLL</p>\n<p>C:\\Program Files (x86)\\MySQL\\MySQL Connector Net 6.9.8\\Assemblies\\v4.0</p>\n<p>3CodeSmith</p>\n<p><br><br><br></p>\n<p><br><br><br><a href=\"http://blog.csdn.net/joke01/article/details/9469515\" target=\"_blank\" rel=\"noopener\">codesmithMysql</a></p>\n<p><a href=\"http://www.cnblogs.com/tim190/archive/2013/01/18/2866161.html\" target=\"_blank\" rel=\"noopener\">codesmith6.5Mysql .Net Framework Data Provider</a></p>\n"},{"layout":"post","title":"JexusHTTPS","_content":"\nHTTPSHTTP\n\n\n\nhttps\n\nHTTPSHTTPS\n\n[Lets Encrypt](https://www.paulyang.cn/blog/archives/39?spm=5176.blog2666.yqblogcon1.12.Nu0TgL)\n\n\nLet's Encrypt\n\n> Let's Encrypt 2015SSL/TLS  Let's Encrypt ISRGMozillaAkamai201549ISRGLinuxACME  GitHubInternetLet's Encrypt   20158720159720151116.\n\n\nGithubhttps\n\n```shell\ngit clone https://github.com/letsencrypt/letsencrypt.git\n\n```\n\n```shell\n./letsencrypt-auto certonly -a \nwebroot\\ --webroot-path (/var/www/web/) \\ \n-d (test.online) -d www.(ww.test.online)\n\n```\n\nwebroot-d \n\n`/etc/letsencrypt/live//`\n\n1. \n2. \n3. +\n4. \n\n\n![letsencrypt](http://7xread.com1.z0.glb.clouddn.com/60e4f29a-6da5-40e1-ae32-453a3bbf2455)\n\n\n\n\nJexusHTTPSjws.conf\n\n\n\n1. jws.conf\nJexus jws.conf\n\n```shell\n\tCertificateFile    = /etc/letsencrypt/live//fullchain.pem\n\tCertificateKeyFile = /etc/letsencrypt/live//privkey.pem\n```\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/d306d9c5-6391-421d-86fc-053b97d1b489)\n\n\n2. HTTPS\n\nsiteconf/conf\n\n443\nport=443\n\nhttps\nUseHttps=true\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/0800dc87-2500-42d2-a3c5-a75a2c819330)\n\njexus\n\nHTTPS\n\nHTTPS\n![](http://7xread.com1.z0.glb.clouddn.com/24842774-311e-4e55-a6b5-b88a89edc754)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/JexusHTTPS.md","raw":"---\nlayout: post\ntitle: JexusHTTPS\ncategory: jexus\n---\n\nHTTPSHTTP\n\n\n\nhttps\n\nHTTPSHTTPS\n\n[Lets Encrypt](https://www.paulyang.cn/blog/archives/39?spm=5176.blog2666.yqblogcon1.12.Nu0TgL)\n\n\nLet's Encrypt\n\n> Let's Encrypt 2015SSL/TLS  Let's Encrypt ISRGMozillaAkamai201549ISRGLinuxACME  GitHubInternetLet's Encrypt   20158720159720151116.\n\n\nGithubhttps\n\n```shell\ngit clone https://github.com/letsencrypt/letsencrypt.git\n\n```\n\n```shell\n./letsencrypt-auto certonly -a \nwebroot\\ --webroot-path (/var/www/web/) \\ \n-d (test.online) -d www.(ww.test.online)\n\n```\n\nwebroot-d \n\n`/etc/letsencrypt/live//`\n\n1. \n2. \n3. +\n4. \n\n\n![letsencrypt](http://7xread.com1.z0.glb.clouddn.com/60e4f29a-6da5-40e1-ae32-453a3bbf2455)\n\n\n\n\nJexusHTTPSjws.conf\n\n\n\n1. jws.conf\nJexus jws.conf\n\n```shell\n\tCertificateFile    = /etc/letsencrypt/live//fullchain.pem\n\tCertificateKeyFile = /etc/letsencrypt/live//privkey.pem\n```\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/d306d9c5-6391-421d-86fc-053b97d1b489)\n\n\n2. HTTPS\n\nsiteconf/conf\n\n443\nport=443\n\nhttps\nUseHttps=true\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/0800dc87-2500-42d2-a3c5-a75a2c819330)\n\njexus\n\nHTTPS\n\nHTTPS\n![](http://7xread.com1.z0.glb.clouddn.com/24842774-311e-4e55-a6b5-b88a89edc754)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"JexusHTTPS","published":1,"date":"2016-04-20T12:51:39.000Z","updated":"2018-05-17T07:59:54.948Z","comments":1,"photos":[],"link":"","_id":"cjha9xxst0006ie1w1ygxxpj1","content":"<p>HTTPSHTTP</p>\n<p></p>\n<p>https</p>\n<p>HTTPSHTTPS</p>\n<p><a href=\"https://www.paulyang.cn/blog/archives/39?spm=5176.blog2666.yqblogcon1.12.Nu0TgL\" target=\"_blank\" rel=\"noopener\">Lets Encrypt</a></p>\n<p>Lets Encrypt</p>\n<blockquote>\n<p>Lets Encrypt 2015SSL/TLS  Lets Encrypt ISRGMozillaAkamai201549ISRGLinuxACME  GitHubInternetLets Encrypt   20158720159720151116.</p>\n</blockquote>\n<p>Githubhttps<br><br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/letsencrypt/letsencrypt.git</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./letsencrypt-auto certonly -a </span><br><span class=\"line\">webroot\\ --webroot-path (/var/www/web/) \\ </span><br><span class=\"line\">-d (test.online) -d www.(ww.test.online)</span><br></pre></td></tr></table></figure></p>\n<p><br>webroot-d </p>\n<p><code>/etc/letsencrypt/live//</code></p>\n<ol>\n<li></li>\n<li></li>\n<li>+</li>\n<li></li>\n</ol>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/60e4f29a-6da5-40e1-ae32-453a3bbf2455\" alt=\"letsencrypt\"></p>\n<p></p>\n<p>JexusHTTPSjws.conf</p>\n<p></p>\n<ol>\n<li>jws.conf<br>Jexus jws.conf</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CertificateFile    = /etc/letsencrypt/live//fullchain.pem</span><br><span class=\"line\">CertificateKeyFile = /etc/letsencrypt/live//privkey.pem</span><br></pre></td></tr></table></figure>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/d306d9c5-6391-421d-86fc-053b97d1b489\" alt=\"\"></p>\n<ol start=\"2\">\n<li>HTTPS</li>\n</ol>\n<p>siteconf/conf</p>\n<p>443<br>port=443</p>\n<p>https<br>UseHttps=true</p>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/0800dc87-2500-42d2-a3c5-a75a2c819330\" alt=\"\"></p>\n<p>jexus</p>\n<p>HTTPS</p>\n<p>HTTPS<br><img src=\"http://7xread.com1.z0.glb.clouddn.com/24842774-311e-4e55-a6b5-b88a89edc754\" alt=\"\"></p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<p>HTTPSHTTP</p>\n<p></p>\n<p>https</p>\n<p>HTTPSHTTPS</p>\n<p><a href=\"https://www.paulyang.cn/blog/archives/39?spm=5176.blog2666.yqblogcon1.12.Nu0TgL\" target=\"_blank\" rel=\"noopener\">Lets Encrypt</a></p>\n<p>Lets Encrypt</p>\n<blockquote>\n<p>Lets Encrypt 2015SSL/TLS  Lets Encrypt ISRGMozillaAkamai201549ISRGLinuxACME  GitHubInternetLets Encrypt   20158720159720151116.</p>\n</blockquote>\n<p>Githubhttps<br><br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/letsencrypt/letsencrypt.git</span><br></pre></td></tr></table></figure></p>\n<p><br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./letsencrypt-auto certonly -a </span><br><span class=\"line\">webroot\\ --webroot-path (/var/www/web/) \\ </span><br><span class=\"line\">-d (test.online) -d www.(ww.test.online)</span><br></pre></td></tr></table></figure></p>\n<p><br>webroot-d </p>\n<p><code>/etc/letsencrypt/live//</code></p>\n<ol>\n<li></li>\n<li></li>\n<li>+</li>\n<li></li>\n</ol>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/60e4f29a-6da5-40e1-ae32-453a3bbf2455\" alt=\"letsencrypt\"></p>\n<p></p>\n<p>JexusHTTPSjws.conf</p>\n<p></p>\n<ol>\n<li>jws.conf<br>Jexus jws.conf</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CertificateFile    = /etc/letsencrypt/live//fullchain.pem</span><br><span class=\"line\">CertificateKeyFile = /etc/letsencrypt/live//privkey.pem</span><br></pre></td></tr></table></figure>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/d306d9c5-6391-421d-86fc-053b97d1b489\" alt=\"\"></p>\n<ol start=\"2\">\n<li>HTTPS</li>\n</ol>\n<p>siteconf/conf</p>\n<p>443<br>port=443</p>\n<p>https<br>UseHttps=true</p>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/0800dc87-2500-42d2-a3c5-a75a2c819330\" alt=\"\"></p>\n<p>jexus</p>\n<p>HTTPS</p>\n<p>HTTPS<br><img src=\"http://7xread.com1.z0.glb.clouddn.com/24842774-311e-4e55-a6b5-b88a89edc754\" alt=\"\"></p>\n<p></p>\n"},{"layout":"post","title":".NET Core","date":"2016-12-03T16:00:00.000Z","_content":"# .NET Core\n\n## \n\n[58HouseSearch](https://github.com/liguobao/58HouseSearch).NET.NET core\n[Dy2018Crawler](http://codelover.win/)dy2018.NET Core\nPS...\nPPS:\n\n## .NET Core\n\n.NET Core[.NET - Powerful Open Source Development](https://www.microsoft.com/net/core)Windowslinuxmac\n\nWindows10 + VS2015 community updata3 + .NET Core 1.1.0 SDK + .NET Core 1.0.1 tools Preview 2.\n\n .NET Core 1.1.0 SDK .NET Core\n\nVS2015.NET Core\n\n![123](https://www.microsoft.com/net/images/screenshots/FileNewProject.png)\n\nVS .NET Core tools\n\n## \n\n### \n\n\n\nHTMLHTMLHTMLIDCSS\n\ndy2018.com,dy2018.com\n\n![123](http://7xrayk.com1.z0.glb.clouddn.com/123.png)\n\nchromeF12HTML\n\n![234](http://7xrayk.com1.z0.glb.clouddn.com/chromeF12_Select_HTML.png)\n\n:\n\n![123](http://7xrayk.com1.z0.glb.clouddn.com/chrome_dy2018_lstmovie_divclass.png)\n\n![123](http://7xrayk.com1.z0.glb.clouddn.com/chrome_dy2018_a.png)\n\nHTML\n\n1. www.dy2018.comclassco_content222div\n\n2. aURLURL\n\nclass='co_content222' diva\n\n### ...\n\n[58HouseSearchasp.net core](https://zhuanlan.zhihu.com/p/22764927)AngleSharp.NETC#xHTMLDLL\n\n1. AngleSharp[https://anglesharp.github.io/](https://anglesharp.github.io/)\n\n2. [HTMLAngleSharp](http://www.cnblogs.com/pandait/p/AngleSharp.html)\n\n3. Nuget:[Nuget AngleSharp](https://www.nuget.org/packages/AngleSharp) Install-Package AngleSharp\n\n#### \n\n``` csharp\n  private static HtmlParser htmlParser = new HtmlParser();\n\n   private  ConcurrentDictionary<string, MovieInfo> _cdMovieInfo = new ConcurrentDictionary<string, MovieInfo>();\n  private void AddToHotMovieList()\n        {\n            //Task\n            // _cdMovieInfo \n            Task.Factory.StartNew(()=> \n            {\n                try\n                {\n                    //URLHTML\n                    var htmlDoc = HTTPHelper.GetHTMLByURL(\"http://www.dy2018.com/\");\n                    //HTML  IDocument\n                    var dom = htmlParser.Parse(htmlDoc);\n                    //domclass='co_content222'div\n                    //QuerySelectorAll  \n                    var lstDivInfo = dom.QuerySelectorAll(\"div.co_content222\");\n                    if (lstDivInfo != null)\n                    {\n                        //DIV\n                        foreach (var divInfo in lstDivInfo.Take(3))\n                        {\n                            //divaa\"/i/\"\n                            //Contains(\"/i/\") diva\n                            divInfo.QuerySelectorAll(\"a\").Where(a => a.GetAttribute(\"href\").Contains(\"/i/\")).ToList().ForEach(\n                            a =>\n                            {\n                                //\n                                var onlineURL = \"http://www.dy2018.com\" + a.GetAttribute(\"href\");\n                                //\n                                if (!_cdMovieInfo.ContainsKey(onlineURL))\n                                {\n                                    //\n                                    MovieInfo movieInfo = FillMovieInfoFormWeb(a, onlineURL);\n                                    //\n                                    if (movieInfo.XunLeiDownLoadURLList != null && movieInfo.XunLeiDownLoadURLList.Count != 0)\n                                    {\n                                         _cdMovieInfo.TryAdd(movieInfo.Dy2018OnlineUrl, movieInfo);\n                                    }\n                                }\n                            });\n                        }\n                    }\n\n                }\n                catch(Exception ex)\n                {\n\n                }\n            });\n        }\n\n```\n\n### \n\n```csharp\n private MovieInfo FillMovieInfoFormWeb(AngleSharp.Dom.IElement a, string onlineURL)\n        {\n            var movieHTML = HTTPHelper.GetHTMLByURL(onlineURL);\n            var movieDoc = htmlParser.Parse(movieHTML);\n            //http://www.dy2018.com/i/97462.html \n            // idZoom\n            var zoom = movieDoc.GetElementById(\"Zoom\");\n            // bgcolor='#fdfddf'td\n            var lstDownLoadURL = movieDoc.QuerySelectorAll(\"[bgcolor='#fdfddf']\");\n            // class='updatetime'span\n            var updatetime = movieDoc.QuerySelector(\"span.updatetime\"); var pubDate = DateTime.Now;\n            if(updatetime!=null && !string.IsNullOrEmpty(updatetime.InnerHtml))\n            {\n                //replace\"\"\n                DateTime.TryParse(updatetime.InnerHtml.Replace(\"\", \"\"), out pubDate);\n            }\n\n            var movieInfo = new MovieInfo()\n            {\n                //InnerHtmlfontReplace\n                MovieName = a.InnerHtml.Replace(\"<font color=\\\"#0c9000\\\">\",\"\").Replace(\"<font color=\\\"\t#0c9000\\\">\",\"\").Replace(\"</font>\", \"\"),\n                Dy2018OnlineUrl = onlineURL,\n                MovieIntro = zoom != null ? WebUtility.HtmlEncode(zoom.InnerHtml) : \"...\",//\n                XunLeiDownLoadURLList = lstDownLoadURL != null ?\n                lstDownLoadURL.Select(d => d.FirstElementChild.InnerHtml).ToList() : null,//\n                PubDate = pubDate,\n            };\n            return movieInfo;\n        }\n```\n\n### HTTPHelper\n\ndy2018GB2312,.NET CoreGB2312Encoding.GetEncoding(\"GB2312\")\n\nSystem.Text.Encoding.CodePages(Install-Package System.Text.Encoding.CodePages),\n\nStarup.csConfigureEncoding.RegisterProvider(CodePagesEncodingProvider.Instance),Encoding.GetEncoding(\"GB2312\")\n\n```csharp\nusing System;\nusing System.Net.Http;\nusing System.Net.Http.Headers;\nusing System.Text;\n\nnamespace Dy2018Crawler\n{\n    public class HTTPHelper\n    {\n\n        public static HttpClient Client { get; } = new HttpClient();\n\n        public static string GetHTMLByURL(string url)\n        {\n            try\n            {\n                System.Net.WebRequest wRequest = System.Net.WebRequest.Create(url);\n                wRequest.ContentType = \"text/html; charset=gb2312\";\n\n                wRequest.Method = \"get\";\n                wRequest.UseDefaultCredentials = true;\n                // Get the response instance.\n                var task = wRequest.GetResponseAsync();\n                System.Net.WebResponse wResp = task.Result;\n                System.IO.Stream respStream = wResp.GetResponseStream();\n                //dy2018GB2312,\n                using (System.IO.StreamReader reader = new System.IO.StreamReader(respStream, Encoding.GetEncoding(\"GB2312\")))\n                {\n                    return reader.ReadToEnd();\n                }\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex.ToString());\n                return string.Empty;\n            }\n        }\n       \n    }\n\n\n}\n\n```\n\n### \n\n[Pomelo.AspNetCore.TimedJob](https://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/1.1.0-rtm-10026)\n\nPomelo.AspNetCore.TimedJob.NET Corejob\n\n.NET CoreMVP[AmamiyaYuuko](https://www.nuget.org/profiles/AmamiyaYuuko)(MVP...)\n\nnugethttps://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/1.1.0-rtm-10026\n\n[Timed Job - Pomelo](http://www.1234.sh/post/pomelo-extensions-timed-jobs)\n\n### Startup.cs\n\nInstall-Package Pomelo.AspNetCore.TimedJob -Pre\n\nStartup.csConfigureServicesService,ConfigureUse\n\n```csharp\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            // Add framework services.\n            services.AddMvc();\n            //Add TimedJob services\n            services.AddTimedJob();\n        }\n        \n         public void Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)\n        {\n            //TimedJob\n            app.UseTimedJob();\n\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n                app.UseBrowserLink();\n            }\n            else\n            {\n                app.UseExceptionHandler(\"/Home/Error\");\n            }\n\n            app.UseStaticFiles();\n\n            app.UseMvc(routes =>\n            {\n                routes.MapRoute(\n                    name: \"default\",\n                    template: \"{controller=Home}/{action=Index}/{id?}\");\n            });\n            Encoding.RegisterProvider(CodePagesEncodingProvider.Instance);\n        }\n```\n\n#### Job\n\nXXXJob.cs,using Pomelo.AspNetCore.TimedJobXXXJobJob\n\n```C#\n    public class AutoGetMovieListJob:Job\n    {\n        // Begin Interval3SkipWhileExecutingtrue\n        [Invoke(Begin = \"2016-11-29 22:10\", Interval = 1000 * 3600*3, SkipWhileExecuting =true)]\n        public void Run()\n        {\n             //Job\n             \n            //LogHelper.Info(\"Start crawling\");\n            //AddToLatestMovieList(100);\n            //AddToHotMovieList();\n            //LogHelper.Info(\"Finish crawling\");\n        }\n   }\n\n```\n\n## \n\n### runtimes\n\nVS2015project.jsonruntimes.\n\nWindows\n\n```javascript\n\n    \"runtimes\": {\n    \"win7-x64\": {},\n    \"win7-x86\": {},\n    \"osx.10.10-x64\": {},\n    \"osx.10.11-x64\": {},\n    \"ubuntu.14.04-x64\": {}\n  }\n\n```\n\n### /scripts\n\nnode.jsbower...\n\n```javascript\n\n    //\"scripts\": {\n    //  \"prepublish\": [ \"bower install\", \"dotnet bundle\" ],\n    //  \"postpublish\": [ \"dotnet publish-iis --publish-folder %publish:OutputPath% --framework %publish:FullTargetFramework%\" ]\n    //},\n```\n\n### /dependenciestype\n\n```javascript\n\"dependencies\": {\n    \"Microsoft.NETCore.App\": {\n      \"version\": \"1.1.0\"\n      //\"type\": \"platform\"\n    },\n```\n\nproject.json[Project.json-file](https://github.com/aspnet/Home/wiki/Project.json-file),\n[.NET Core  2 project.json ](http://www.cnblogs.com/shanyou/p/5693453.html)\n\n### \n\n```sh\n//\ndotnet restore;\n\n//C:\\code\\website\\Dy2018Crawler\ndotnet publish -r ubuntu.14.04-x64 -c Release -o \"C:\\code\\website\\Dy2018Crawler\";\n\n```\n\n......\n\nGayhub[https://github.com/liguobao/Dy2018Crawler](https://github.com/liguobao/Dy2018Crawler)\n\n[http://codelover.win/](http://codelover.win/)\n\nPS:...\n","source":"_posts/how_to_make_crawler_base_netcore.md","raw":"---\nlayout: post\ntitle: .NET Core\ncategory: asp.net core\ndate: 2016-12-04 00:00:00\ntags:\n- asp.net core\n- crawler\n---\n# .NET Core\n\n## \n\n[58HouseSearch](https://github.com/liguobao/58HouseSearch).NET.NET core\n[Dy2018Crawler](http://codelover.win/)dy2018.NET Core\nPS...\nPPS:\n\n## .NET Core\n\n.NET Core[.NET - Powerful Open Source Development](https://www.microsoft.com/net/core)Windowslinuxmac\n\nWindows10 + VS2015 community updata3 + .NET Core 1.1.0 SDK + .NET Core 1.0.1 tools Preview 2.\n\n .NET Core 1.1.0 SDK .NET Core\n\nVS2015.NET Core\n\n![123](https://www.microsoft.com/net/images/screenshots/FileNewProject.png)\n\nVS .NET Core tools\n\n## \n\n### \n\n\n\nHTMLHTMLHTMLIDCSS\n\ndy2018.com,dy2018.com\n\n![123](http://7xrayk.com1.z0.glb.clouddn.com/123.png)\n\nchromeF12HTML\n\n![234](http://7xrayk.com1.z0.glb.clouddn.com/chromeF12_Select_HTML.png)\n\n:\n\n![123](http://7xrayk.com1.z0.glb.clouddn.com/chrome_dy2018_lstmovie_divclass.png)\n\n![123](http://7xrayk.com1.z0.glb.clouddn.com/chrome_dy2018_a.png)\n\nHTML\n\n1. www.dy2018.comclassco_content222div\n\n2. aURLURL\n\nclass='co_content222' diva\n\n### ...\n\n[58HouseSearchasp.net core](https://zhuanlan.zhihu.com/p/22764927)AngleSharp.NETC#xHTMLDLL\n\n1. AngleSharp[https://anglesharp.github.io/](https://anglesharp.github.io/)\n\n2. [HTMLAngleSharp](http://www.cnblogs.com/pandait/p/AngleSharp.html)\n\n3. Nuget:[Nuget AngleSharp](https://www.nuget.org/packages/AngleSharp) Install-Package AngleSharp\n\n#### \n\n``` csharp\n  private static HtmlParser htmlParser = new HtmlParser();\n\n   private  ConcurrentDictionary<string, MovieInfo> _cdMovieInfo = new ConcurrentDictionary<string, MovieInfo>();\n  private void AddToHotMovieList()\n        {\n            //Task\n            // _cdMovieInfo \n            Task.Factory.StartNew(()=> \n            {\n                try\n                {\n                    //URLHTML\n                    var htmlDoc = HTTPHelper.GetHTMLByURL(\"http://www.dy2018.com/\");\n                    //HTML  IDocument\n                    var dom = htmlParser.Parse(htmlDoc);\n                    //domclass='co_content222'div\n                    //QuerySelectorAll  \n                    var lstDivInfo = dom.QuerySelectorAll(\"div.co_content222\");\n                    if (lstDivInfo != null)\n                    {\n                        //DIV\n                        foreach (var divInfo in lstDivInfo.Take(3))\n                        {\n                            //divaa\"/i/\"\n                            //Contains(\"/i/\") diva\n                            divInfo.QuerySelectorAll(\"a\").Where(a => a.GetAttribute(\"href\").Contains(\"/i/\")).ToList().ForEach(\n                            a =>\n                            {\n                                //\n                                var onlineURL = \"http://www.dy2018.com\" + a.GetAttribute(\"href\");\n                                //\n                                if (!_cdMovieInfo.ContainsKey(onlineURL))\n                                {\n                                    //\n                                    MovieInfo movieInfo = FillMovieInfoFormWeb(a, onlineURL);\n                                    //\n                                    if (movieInfo.XunLeiDownLoadURLList != null && movieInfo.XunLeiDownLoadURLList.Count != 0)\n                                    {\n                                         _cdMovieInfo.TryAdd(movieInfo.Dy2018OnlineUrl, movieInfo);\n                                    }\n                                }\n                            });\n                        }\n                    }\n\n                }\n                catch(Exception ex)\n                {\n\n                }\n            });\n        }\n\n```\n\n### \n\n```csharp\n private MovieInfo FillMovieInfoFormWeb(AngleSharp.Dom.IElement a, string onlineURL)\n        {\n            var movieHTML = HTTPHelper.GetHTMLByURL(onlineURL);\n            var movieDoc = htmlParser.Parse(movieHTML);\n            //http://www.dy2018.com/i/97462.html \n            // idZoom\n            var zoom = movieDoc.GetElementById(\"Zoom\");\n            // bgcolor='#fdfddf'td\n            var lstDownLoadURL = movieDoc.QuerySelectorAll(\"[bgcolor='#fdfddf']\");\n            // class='updatetime'span\n            var updatetime = movieDoc.QuerySelector(\"span.updatetime\"); var pubDate = DateTime.Now;\n            if(updatetime!=null && !string.IsNullOrEmpty(updatetime.InnerHtml))\n            {\n                //replace\"\"\n                DateTime.TryParse(updatetime.InnerHtml.Replace(\"\", \"\"), out pubDate);\n            }\n\n            var movieInfo = new MovieInfo()\n            {\n                //InnerHtmlfontReplace\n                MovieName = a.InnerHtml.Replace(\"<font color=\\\"#0c9000\\\">\",\"\").Replace(\"<font color=\\\"\t#0c9000\\\">\",\"\").Replace(\"</font>\", \"\"),\n                Dy2018OnlineUrl = onlineURL,\n                MovieIntro = zoom != null ? WebUtility.HtmlEncode(zoom.InnerHtml) : \"...\",//\n                XunLeiDownLoadURLList = lstDownLoadURL != null ?\n                lstDownLoadURL.Select(d => d.FirstElementChild.InnerHtml).ToList() : null,//\n                PubDate = pubDate,\n            };\n            return movieInfo;\n        }\n```\n\n### HTTPHelper\n\ndy2018GB2312,.NET CoreGB2312Encoding.GetEncoding(\"GB2312\")\n\nSystem.Text.Encoding.CodePages(Install-Package System.Text.Encoding.CodePages),\n\nStarup.csConfigureEncoding.RegisterProvider(CodePagesEncodingProvider.Instance),Encoding.GetEncoding(\"GB2312\")\n\n```csharp\nusing System;\nusing System.Net.Http;\nusing System.Net.Http.Headers;\nusing System.Text;\n\nnamespace Dy2018Crawler\n{\n    public class HTTPHelper\n    {\n\n        public static HttpClient Client { get; } = new HttpClient();\n\n        public static string GetHTMLByURL(string url)\n        {\n            try\n            {\n                System.Net.WebRequest wRequest = System.Net.WebRequest.Create(url);\n                wRequest.ContentType = \"text/html; charset=gb2312\";\n\n                wRequest.Method = \"get\";\n                wRequest.UseDefaultCredentials = true;\n                // Get the response instance.\n                var task = wRequest.GetResponseAsync();\n                System.Net.WebResponse wResp = task.Result;\n                System.IO.Stream respStream = wResp.GetResponseStream();\n                //dy2018GB2312,\n                using (System.IO.StreamReader reader = new System.IO.StreamReader(respStream, Encoding.GetEncoding(\"GB2312\")))\n                {\n                    return reader.ReadToEnd();\n                }\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex.ToString());\n                return string.Empty;\n            }\n        }\n       \n    }\n\n\n}\n\n```\n\n### \n\n[Pomelo.AspNetCore.TimedJob](https://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/1.1.0-rtm-10026)\n\nPomelo.AspNetCore.TimedJob.NET Corejob\n\n.NET CoreMVP[AmamiyaYuuko](https://www.nuget.org/profiles/AmamiyaYuuko)(MVP...)\n\nnugethttps://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/1.1.0-rtm-10026\n\n[Timed Job - Pomelo](http://www.1234.sh/post/pomelo-extensions-timed-jobs)\n\n### Startup.cs\n\nInstall-Package Pomelo.AspNetCore.TimedJob -Pre\n\nStartup.csConfigureServicesService,ConfigureUse\n\n```csharp\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            // Add framework services.\n            services.AddMvc();\n            //Add TimedJob services\n            services.AddTimedJob();\n        }\n        \n         public void Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)\n        {\n            //TimedJob\n            app.UseTimedJob();\n\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n                app.UseBrowserLink();\n            }\n            else\n            {\n                app.UseExceptionHandler(\"/Home/Error\");\n            }\n\n            app.UseStaticFiles();\n\n            app.UseMvc(routes =>\n            {\n                routes.MapRoute(\n                    name: \"default\",\n                    template: \"{controller=Home}/{action=Index}/{id?}\");\n            });\n            Encoding.RegisterProvider(CodePagesEncodingProvider.Instance);\n        }\n```\n\n#### Job\n\nXXXJob.cs,using Pomelo.AspNetCore.TimedJobXXXJobJob\n\n```C#\n    public class AutoGetMovieListJob:Job\n    {\n        // Begin Interval3SkipWhileExecutingtrue\n        [Invoke(Begin = \"2016-11-29 22:10\", Interval = 1000 * 3600*3, SkipWhileExecuting =true)]\n        public void Run()\n        {\n             //Job\n             \n            //LogHelper.Info(\"Start crawling\");\n            //AddToLatestMovieList(100);\n            //AddToHotMovieList();\n            //LogHelper.Info(\"Finish crawling\");\n        }\n   }\n\n```\n\n## \n\n### runtimes\n\nVS2015project.jsonruntimes.\n\nWindows\n\n```javascript\n\n    \"runtimes\": {\n    \"win7-x64\": {},\n    \"win7-x86\": {},\n    \"osx.10.10-x64\": {},\n    \"osx.10.11-x64\": {},\n    \"ubuntu.14.04-x64\": {}\n  }\n\n```\n\n### /scripts\n\nnode.jsbower...\n\n```javascript\n\n    //\"scripts\": {\n    //  \"prepublish\": [ \"bower install\", \"dotnet bundle\" ],\n    //  \"postpublish\": [ \"dotnet publish-iis --publish-folder %publish:OutputPath% --framework %publish:FullTargetFramework%\" ]\n    //},\n```\n\n### /dependenciestype\n\n```javascript\n\"dependencies\": {\n    \"Microsoft.NETCore.App\": {\n      \"version\": \"1.1.0\"\n      //\"type\": \"platform\"\n    },\n```\n\nproject.json[Project.json-file](https://github.com/aspnet/Home/wiki/Project.json-file),\n[.NET Core  2 project.json ](http://www.cnblogs.com/shanyou/p/5693453.html)\n\n### \n\n```sh\n//\ndotnet restore;\n\n//C:\\code\\website\\Dy2018Crawler\ndotnet publish -r ubuntu.14.04-x64 -c Release -o \"C:\\code\\website\\Dy2018Crawler\";\n\n```\n\n......\n\nGayhub[https://github.com/liguobao/Dy2018Crawler](https://github.com/liguobao/Dy2018Crawler)\n\n[http://codelover.win/](http://codelover.win/)\n\nPS:...\n","slug":"how_to_make_crawler_base_netcore","published":1,"updated":"2018-05-17T07:59:54.948Z","comments":1,"photos":[],"link":"","_id":"cjha9xxsv0008ie1w6irhgxpx","content":"<h1 id=\"-NET-Core\"><a href=\"#-NET-Core\" class=\"headerlink\" title=\".NET Core\"></a>.NET Core</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/liguobao/58HouseSearch\" target=\"_blank\" rel=\"noopener\">58HouseSearch</a>.NET.NET core<br><a href=\"http://codelover.win/\" target=\"_blank\" rel=\"noopener\">Dy2018Crawler</a>dy2018.NET Core<br>PS<br>PPS:</p>\n<h2 id=\"-NET-Core\"><a href=\"#-NET-Core\" class=\"headerlink\" title=\".NET Core\"></a>.NET Core</h2><p>.NET Core<a href=\"https://www.microsoft.com/net/core\" target=\"_blank\" rel=\"noopener\">.NET - Powerful Open Source Development</a>Windowslinuxmac</p>\n<p>Windows10 + VS2015 community updata3 + .NET Core 1.1.0 SDK + .NET Core 1.0.1 tools Preview 2.</p>\n<p> .NET Core 1.1.0 SDK .NET Core</p>\n<p>VS2015.NET Core</p>\n<p><img src=\"https://www.microsoft.com/net/images/screenshots/FileNewProject.png\" alt=\"123\"></p>\n<p>VS .NET Core tools</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>HTMLHTMLHTMLIDCSS</p>\n<p>dy2018.com,dy2018.com</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/123.png\" alt=\"123\"></p>\n<p>chromeF12HTML</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/chromeF12_Select_HTML.png\" alt=\"234\"></p>\n<p>:</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/chrome_dy2018_lstmovie_divclass.png\" alt=\"123\"></p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/chrome_dy2018_a.png\" alt=\"123\"></p>\n<p>HTML</p>\n<ol>\n<li><p><a href=\"http://www.dy2018.comclassco_content222div\" target=\"_blank\" rel=\"noopener\">www.dy2018.comclassco_content222div</a></p>\n</li>\n<li><p>aURLURL</p>\n</li>\n</ol>\n<p>class=co_content222 diva</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://zhuanlan.zhihu.com/p/22764927\" target=\"_blank\" rel=\"noopener\">58HouseSearchasp.net core</a>AngleSharp.NETC#xHTMLDLL</p>\n<ol>\n<li><p>AngleSharp<a href=\"https://anglesharp.github.io/\" target=\"_blank\" rel=\"noopener\">https://anglesharp.github.io/</a></p>\n</li>\n<li><p><a href=\"http://www.cnblogs.com/pandait/p/AngleSharp.html\" target=\"_blank\" rel=\"noopener\">HTMLAngleSharp</a></p>\n</li>\n<li><p>Nuget:<a href=\"https://www.nuget.org/packages/AngleSharp\" target=\"_blank\" rel=\"noopener\">Nuget AngleSharp</a> Install-Package AngleSharp</p>\n</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> HtmlParser htmlParser = <span class=\"keyword\">new</span> HtmlParser();</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">private</span>  ConcurrentDictionary&lt;<span class=\"keyword\">string</span>, MovieInfo&gt; _cdMovieInfo = <span class=\"keyword\">new</span> ConcurrentDictionary&lt;<span class=\"keyword\">string</span>, MovieInfo&gt;();</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">AddToHotMovieList</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">      </span>&#123;</span><br><span class=\"line\">          <span class=\"comment\">//Task</span></span><br><span class=\"line\">          <span class=\"comment\">// _cdMovieInfo </span></span><br><span class=\"line\">          Task.Factory.StartNew(()=&gt; </span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">              <span class=\"keyword\">try</span></span><br><span class=\"line\">              &#123;</span><br><span class=\"line\">                  <span class=\"comment\">//URLHTML</span></span><br><span class=\"line\">                  <span class=\"keyword\">var</span> htmlDoc = HTTPHelper.GetHTMLByURL(<span class=\"string\">\"http://www.dy2018.com/\"</span>);</span><br><span class=\"line\">                  <span class=\"comment\">//HTML  IDocument</span></span><br><span class=\"line\">                  <span class=\"keyword\">var</span> dom = htmlParser.Parse(htmlDoc);</span><br><span class=\"line\">                  <span class=\"comment\">//domclass='co_content222'div</span></span><br><span class=\"line\">                  <span class=\"comment\">//QuerySelectorAll  </span></span><br><span class=\"line\">                  <span class=\"keyword\">var</span> lstDivInfo = dom.QuerySelectorAll(<span class=\"string\">\"div.co_content222\"</span>);</span><br><span class=\"line\">                  <span class=\"keyword\">if</span> (lstDivInfo != <span class=\"literal\">null</span>)</span><br><span class=\"line\">                  &#123;</span><br><span class=\"line\">                      <span class=\"comment\">//DIV</span></span><br><span class=\"line\">                      <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> divInfo <span class=\"keyword\">in</span> lstDivInfo.Take(<span class=\"number\">3</span>))</span><br><span class=\"line\">                      &#123;</span><br><span class=\"line\">                          <span class=\"comment\">//divaa\"/i/\"</span></span><br><span class=\"line\">                          <span class=\"comment\">//Contains(\"/i/\") diva</span></span><br><span class=\"line\">                          divInfo.QuerySelectorAll(<span class=\"string\">\"a\"</span>).Where(a =&gt; a.GetAttribute(<span class=\"string\">\"href\"</span>).Contains(<span class=\"string\">\"/i/\"</span>)).ToList().ForEach(</span><br><span class=\"line\">                          a =&gt;</span><br><span class=\"line\">                          &#123;</span><br><span class=\"line\">                              <span class=\"comment\">//</span></span><br><span class=\"line\">                              <span class=\"keyword\">var</span> onlineURL = <span class=\"string\">\"http://www.dy2018.com\"</span> + a.GetAttribute(<span class=\"string\">\"href\"</span>);</span><br><span class=\"line\">                              <span class=\"comment\">//</span></span><br><span class=\"line\">                              <span class=\"keyword\">if</span> (!_cdMovieInfo.ContainsKey(onlineURL))</span><br><span class=\"line\">                              &#123;</span><br><span class=\"line\">                                  <span class=\"comment\">//</span></span><br><span class=\"line\">                                  MovieInfo movieInfo = FillMovieInfoFormWeb(a, onlineURL);</span><br><span class=\"line\">                                  <span class=\"comment\">//</span></span><br><span class=\"line\">                                  <span class=\"keyword\">if</span> (movieInfo.XunLeiDownLoadURLList != <span class=\"literal\">null</span> &amp;&amp; movieInfo.XunLeiDownLoadURLList.Count != <span class=\"number\">0</span>)</span><br><span class=\"line\">                                  &#123;</span><br><span class=\"line\">                                       _cdMovieInfo.TryAdd(movieInfo.Dy2018OnlineUrl, movieInfo);</span><br><span class=\"line\">                                  &#125;</span><br><span class=\"line\">                              &#125;</span><br><span class=\"line\">                          &#125;);</span><br><span class=\"line\">                      &#125;</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">              <span class=\"keyword\">catch</span>(Exception ex)</span><br><span class=\"line\">              &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">      &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> MovieInfo <span class=\"title\">FillMovieInfoFormWeb</span>(<span class=\"params\">AngleSharp.Dom.IElement a, <span class=\"keyword\">string</span> onlineURL</span>)</span></span><br><span class=\"line\"><span class=\"function\">       </span>&#123;</span><br><span class=\"line\">           <span class=\"keyword\">var</span> movieHTML = HTTPHelper.GetHTMLByURL(onlineURL);</span><br><span class=\"line\">           <span class=\"keyword\">var</span> movieDoc = htmlParser.Parse(movieHTML);</span><br><span class=\"line\">           <span class=\"comment\">//http://www.dy2018.com/i/97462.html </span></span><br><span class=\"line\">           <span class=\"comment\">// idZoom</span></span><br><span class=\"line\">           <span class=\"keyword\">var</span> zoom = movieDoc.GetElementById(<span class=\"string\">\"Zoom\"</span>);</span><br><span class=\"line\">           <span class=\"comment\">// bgcolor='#fdfddf'td</span></span><br><span class=\"line\">           <span class=\"keyword\">var</span> lstDownLoadURL = movieDoc.QuerySelectorAll(<span class=\"string\">\"[bgcolor='#fdfddf']\"</span>);</span><br><span class=\"line\">           <span class=\"comment\">// class='updatetime'span</span></span><br><span class=\"line\">           <span class=\"keyword\">var</span> updatetime = movieDoc.QuerySelector(<span class=\"string\">\"span.updatetime\"</span>); <span class=\"keyword\">var</span> pubDate = DateTime.Now;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(updatetime!=<span class=\"literal\">null</span> &amp;&amp; !<span class=\"keyword\">string</span>.IsNullOrEmpty(updatetime.InnerHtml))</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"comment\">//replace\"\"</span></span><br><span class=\"line\">               DateTime.TryParse(updatetime.InnerHtml.Replace(<span class=\"string\">\"\"</span>, <span class=\"string\">\"\"</span>), <span class=\"keyword\">out</span> pubDate);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">var</span> movieInfo = <span class=\"keyword\">new</span> MovieInfo()</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"comment\">//InnerHtmlfontReplace</span></span><br><span class=\"line\">               MovieName = a.InnerHtml.Replace(<span class=\"string\">\"&lt;font color=\\\"#0c9000\\\"&gt;\"</span>,<span class=\"string\">\"\"</span>).Replace(<span class=\"string\">\"&lt;font color=\\\"\t#0c9000\\\"&gt;\"</span>,<span class=\"string\">\"\"</span>).Replace(<span class=\"string\">\"&lt;/font&gt;\"</span>, <span class=\"string\">\"\"</span>),</span><br><span class=\"line\">               Dy2018OnlineUrl = onlineURL,</span><br><span class=\"line\">               MovieIntro = zoom != <span class=\"literal\">null</span> ? WebUtility.HtmlEncode(zoom.InnerHtml) : <span class=\"string\">\"...\"</span>,<span class=\"comment\">//</span></span><br><span class=\"line\">               XunLeiDownLoadURLList = lstDownLoadURL != <span class=\"literal\">null</span> ?</span><br><span class=\"line\">               lstDownLoadURL.Select(d =&gt; d.FirstElementChild.InnerHtml).ToList() : <span class=\"literal\">null</span>,<span class=\"comment\">//</span></span><br><span class=\"line\">               PubDate = pubDate,</span><br><span class=\"line\">           &#125;;</span><br><span class=\"line\">           <span class=\"keyword\">return</span> movieInfo;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"HTTPHelper\"><a href=\"#HTTPHelper\" class=\"headerlink\" title=\"HTTPHelper\"></a>HTTPHelper</h3><p>dy2018GB2312,.NET CoreGB2312Encoding.GetEncoding(GB2312)</p>\n<p>System.Text.Encoding.CodePages(Install-Package System.Text.Encoding.CodePages),</p>\n<p>Starup.csConfigureEncoding.RegisterProvider(CodePagesEncodingProvider.Instance),Encoding.GetEncoding(GB2312)</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Net.Http;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Net.Http.Headers;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Text;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Dy2018Crawler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HTTPHelper</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> HttpClient Client &#123; <span class=\"keyword\">get</span>; &#125; = <span class=\"keyword\">new</span> HttpClient();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> <span class=\"title\">GetHTMLByURL</span>(<span class=\"params\"><span class=\"keyword\">string</span> url</span>)</span></span><br><span class=\"line\"><span class=\"function\">        </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                System.Net.WebRequest wRequest = System.Net.WebRequest.Create(url);</span><br><span class=\"line\">                wRequest.ContentType = <span class=\"string\">\"text/html; charset=gb2312\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                wRequest.Method = <span class=\"string\">\"get\"</span>;</span><br><span class=\"line\">                wRequest.UseDefaultCredentials = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                <span class=\"comment\">// Get the response instance.</span></span><br><span class=\"line\">                <span class=\"keyword\">var</span> task = wRequest.GetResponseAsync();</span><br><span class=\"line\">                System.Net.WebResponse wResp = task.Result;</span><br><span class=\"line\">                System.IO.Stream respStream = wResp.GetResponseStream();</span><br><span class=\"line\">                <span class=\"comment\">//dy2018GB2312,</span></span><br><span class=\"line\">                <span class=\"keyword\">using</span> (System.IO.StreamReader reader = <span class=\"keyword\">new</span> System.IO.StreamReader(respStream, Encoding.GetEncoding(<span class=\"string\">\"GB2312\"</span>)))</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> reader.ReadToEnd();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                Console.WriteLine(ex.ToString());</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/1.1.0-rtm-10026\" target=\"_blank\" rel=\"noopener\">Pomelo.AspNetCore.TimedJob</a></p>\n<p>Pomelo.AspNetCore.TimedJob.NET Corejob</p>\n<p>.NET CoreMVP<a href=\"https://www.nuget.org/profiles/AmamiyaYuuko\" target=\"_blank\" rel=\"noopener\">AmamiyaYuuko</a>(MVP)</p>\n<p>nuget<a href=\"https://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/1.1.0-rtm-10026\" target=\"_blank\" rel=\"noopener\">https://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/1.1.0-rtm-10026</a></p>\n<p><a href=\"http://www.1234.sh/post/pomelo-extensions-timed-jobs\" target=\"_blank\" rel=\"noopener\">Timed Job - Pomelo</a></p>\n<h3 id=\"Startup-cs\"><a href=\"#Startup-cs\" class=\"headerlink\" title=\"Startup.cs\"></a>Startup.cs</h3><p>Install-Package Pomelo.AspNetCore.TimedJob -Pre</p>\n<p>Startup.csConfigureServicesService,ConfigureUse</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// This method gets called by the runtime. Use this method to add services to the container.</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ConfigureServices</span>(<span class=\"params\">IServiceCollection services</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Add framework services.</span></span><br><span class=\"line\">    services.AddMvc();</span><br><span class=\"line\">    <span class=\"comment\">//Add TimedJob services</span></span><br><span class=\"line\">    services.AddTimedJob();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//TimedJob</span></span><br><span class=\"line\">    app.UseTimedJob();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (env.IsDevelopment())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        app.UseDeveloperExceptionPage();</span><br><span class=\"line\">        app.UseBrowserLink();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        app.UseExceptionHandler(<span class=\"string\">\"/Home/Error\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseStaticFiles();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseMvc(routes =&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        routes.MapRoute(</span><br><span class=\"line\">            name: <span class=\"string\">\"default\"</span>,</span><br><span class=\"line\">            template: <span class=\"string\">\"&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;\"</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    Encoding.RegisterProvider(CodePagesEncodingProvider.Instance);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"Job\"><a href=\"#Job\" class=\"headerlink\" title=\"Job\"></a>Job</h4><p>XXXJob.cs,using Pomelo.AspNetCore.TimedJobXXXJobJob</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> public class AutoGetMovieListJob:Job</span><br><span class=\"line\"> &#123;</span><br><span class=\"line\">     // Begin Interval3SkipWhileExecutingtrue</span><br><span class=\"line\">     [Invoke(Begin = &quot;2016-11-29 22:10&quot;, Interval = 1000 * 3600*3, SkipWhileExecuting =true)]</span><br><span class=\"line\">     public void Run()</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">          //Job</span><br><span class=\"line\">          </span><br><span class=\"line\">         //LogHelper.Info(&quot;Start crawling&quot;);</span><br><span class=\"line\">         //AddToLatestMovieList(100);</span><br><span class=\"line\">         //AddToHotMovieList();</span><br><span class=\"line\">         //LogHelper.Info(&quot;Finish crawling&quot;);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"runtimes\"><a href=\"#runtimes\" class=\"headerlink\" title=\"runtimes\"></a>runtimes</h3><p>VS2015project.jsonruntimes.</p>\n<p>Windows</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">  <span class=\"string\">\"runtimes\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"win7-x64\"</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"string\">\"win7-x86\"</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"string\">\"osx.10.10-x64\"</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"string\">\"osx.10.11-x64\"</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"string\">\"ubuntu.14.04-x64\"</span>: &#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-scripts\"><a href=\"#-scripts\" class=\"headerlink\" title=\"/scripts\"></a>/scripts</h3><p>node.jsbower</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//\"scripts\": &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//  \"prepublish\": [ \"bower install\", \"dotnet bundle\" ],</span></span><br><span class=\"line\"><span class=\"comment\">//  \"postpublish\": [ \"dotnet publish-iis --publish-folder %publish:OutputPath% --framework %publish:FullTargetFramework%\" ]</span></span><br><span class=\"line\"><span class=\"comment\">//&#125;,</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"-dependenciestype\"><a href=\"#-dependenciestype\" class=\"headerlink\" title=\"/dependenciestype\"></a>/dependenciestype</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"dependencies\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"Microsoft.NETCore.App\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">\"version\"</span>: <span class=\"string\">\"1.1.0\"</span></span><br><span class=\"line\">      <span class=\"comment\">//\"type\": \"platform\"</span></span><br><span class=\"line\">    &#125;,</span><br></pre></td></tr></table></figure>\n<p>project.json<a href=\"https://github.com/aspnet/Home/wiki/Project.json-file\" target=\"_blank\" rel=\"noopener\">Project.json-file</a>,<br><a href=\"http://www.cnblogs.com/shanyou/p/5693453.html\" target=\"_blank\" rel=\"noopener\">.NET Core  2 project.json </a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">dotnet restore;</span><br><span class=\"line\"></span><br><span class=\"line\">//C:\\code\\website\\Dy2018Crawler</span><br><span class=\"line\">dotnet publish -r ubuntu.14.04-x64 -c Release -o <span class=\"string\">\"C:\\code\\website\\Dy2018Crawler\"</span>;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>Gayhub<a href=\"https://github.com/liguobao/Dy2018Crawler\" target=\"_blank\" rel=\"noopener\">https://github.com/liguobao/Dy2018Crawler</a></p>\n<p><a href=\"http://codelover.win/\" target=\"_blank\" rel=\"noopener\">http://codelover.win/</a></p>\n<p>PS:</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"-NET-Core\"><a href=\"#-NET-Core\" class=\"headerlink\" title=\".NET Core\"></a>.NET Core</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://github.com/liguobao/58HouseSearch\" target=\"_blank\" rel=\"noopener\">58HouseSearch</a>.NET.NET core<br><a href=\"http://codelover.win/\" target=\"_blank\" rel=\"noopener\">Dy2018Crawler</a>dy2018.NET Core<br>PS<br>PPS:</p>\n<h2 id=\"-NET-Core\"><a href=\"#-NET-Core\" class=\"headerlink\" title=\".NET Core\"></a>.NET Core</h2><p>.NET Core<a href=\"https://www.microsoft.com/net/core\" target=\"_blank\" rel=\"noopener\">.NET - Powerful Open Source Development</a>Windowslinuxmac</p>\n<p>Windows10 + VS2015 community updata3 + .NET Core 1.1.0 SDK + .NET Core 1.0.1 tools Preview 2.</p>\n<p> .NET Core 1.1.0 SDK .NET Core</p>\n<p>VS2015.NET Core</p>\n<p><img src=\"https://www.microsoft.com/net/images/screenshots/FileNewProject.png\" alt=\"123\"></p>\n<p>VS .NET Core tools</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p>HTMLHTMLHTMLIDCSS</p>\n<p>dy2018.com,dy2018.com</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/123.png\" alt=\"123\"></p>\n<p>chromeF12HTML</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/chromeF12_Select_HTML.png\" alt=\"234\"></p>\n<p>:</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/chrome_dy2018_lstmovie_divclass.png\" alt=\"123\"></p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/chrome_dy2018_a.png\" alt=\"123\"></p>\n<p>HTML</p>\n<ol>\n<li><p><a href=\"http://www.dy2018.comclassco_content222div\" target=\"_blank\" rel=\"noopener\">www.dy2018.comclassco_content222div</a></p>\n</li>\n<li><p>aURLURL</p>\n</li>\n</ol>\n<p>class=co_content222 diva</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://zhuanlan.zhihu.com/p/22764927\" target=\"_blank\" rel=\"noopener\">58HouseSearchasp.net core</a>AngleSharp.NETC#xHTMLDLL</p>\n<ol>\n<li><p>AngleSharp<a href=\"https://anglesharp.github.io/\" target=\"_blank\" rel=\"noopener\">https://anglesharp.github.io/</a></p>\n</li>\n<li><p><a href=\"http://www.cnblogs.com/pandait/p/AngleSharp.html\" target=\"_blank\" rel=\"noopener\">HTMLAngleSharp</a></p>\n</li>\n<li><p>Nuget:<a href=\"https://www.nuget.org/packages/AngleSharp\" target=\"_blank\" rel=\"noopener\">Nuget AngleSharp</a> Install-Package AngleSharp</p>\n</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> HtmlParser htmlParser = <span class=\"keyword\">new</span> HtmlParser();</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"keyword\">private</span>  ConcurrentDictionary&lt;<span class=\"keyword\">string</span>, MovieInfo&gt; _cdMovieInfo = <span class=\"keyword\">new</span> ConcurrentDictionary&lt;<span class=\"keyword\">string</span>, MovieInfo&gt;();</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">AddToHotMovieList</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">      </span>&#123;</span><br><span class=\"line\">          <span class=\"comment\">//Task</span></span><br><span class=\"line\">          <span class=\"comment\">// _cdMovieInfo </span></span><br><span class=\"line\">          Task.Factory.StartNew(()=&gt; </span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">              <span class=\"keyword\">try</span></span><br><span class=\"line\">              &#123;</span><br><span class=\"line\">                  <span class=\"comment\">//URLHTML</span></span><br><span class=\"line\">                  <span class=\"keyword\">var</span> htmlDoc = HTTPHelper.GetHTMLByURL(<span class=\"string\">\"http://www.dy2018.com/\"</span>);</span><br><span class=\"line\">                  <span class=\"comment\">//HTML  IDocument</span></span><br><span class=\"line\">                  <span class=\"keyword\">var</span> dom = htmlParser.Parse(htmlDoc);</span><br><span class=\"line\">                  <span class=\"comment\">//domclass='co_content222'div</span></span><br><span class=\"line\">                  <span class=\"comment\">//QuerySelectorAll  </span></span><br><span class=\"line\">                  <span class=\"keyword\">var</span> lstDivInfo = dom.QuerySelectorAll(<span class=\"string\">\"div.co_content222\"</span>);</span><br><span class=\"line\">                  <span class=\"keyword\">if</span> (lstDivInfo != <span class=\"literal\">null</span>)</span><br><span class=\"line\">                  &#123;</span><br><span class=\"line\">                      <span class=\"comment\">//DIV</span></span><br><span class=\"line\">                      <span class=\"keyword\">foreach</span> (<span class=\"keyword\">var</span> divInfo <span class=\"keyword\">in</span> lstDivInfo.Take(<span class=\"number\">3</span>))</span><br><span class=\"line\">                      &#123;</span><br><span class=\"line\">                          <span class=\"comment\">//divaa\"/i/\"</span></span><br><span class=\"line\">                          <span class=\"comment\">//Contains(\"/i/\") diva</span></span><br><span class=\"line\">                          divInfo.QuerySelectorAll(<span class=\"string\">\"a\"</span>).Where(a =&gt; a.GetAttribute(<span class=\"string\">\"href\"</span>).Contains(<span class=\"string\">\"/i/\"</span>)).ToList().ForEach(</span><br><span class=\"line\">                          a =&gt;</span><br><span class=\"line\">                          &#123;</span><br><span class=\"line\">                              <span class=\"comment\">//</span></span><br><span class=\"line\">                              <span class=\"keyword\">var</span> onlineURL = <span class=\"string\">\"http://www.dy2018.com\"</span> + a.GetAttribute(<span class=\"string\">\"href\"</span>);</span><br><span class=\"line\">                              <span class=\"comment\">//</span></span><br><span class=\"line\">                              <span class=\"keyword\">if</span> (!_cdMovieInfo.ContainsKey(onlineURL))</span><br><span class=\"line\">                              &#123;</span><br><span class=\"line\">                                  <span class=\"comment\">//</span></span><br><span class=\"line\">                                  MovieInfo movieInfo = FillMovieInfoFormWeb(a, onlineURL);</span><br><span class=\"line\">                                  <span class=\"comment\">//</span></span><br><span class=\"line\">                                  <span class=\"keyword\">if</span> (movieInfo.XunLeiDownLoadURLList != <span class=\"literal\">null</span> &amp;&amp; movieInfo.XunLeiDownLoadURLList.Count != <span class=\"number\">0</span>)</span><br><span class=\"line\">                                  &#123;</span><br><span class=\"line\">                                       _cdMovieInfo.TryAdd(movieInfo.Dy2018OnlineUrl, movieInfo);</span><br><span class=\"line\">                                  &#125;</span><br><span class=\"line\">                              &#125;</span><br><span class=\"line\">                          &#125;);</span><br><span class=\"line\">                      &#125;</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">              <span class=\"keyword\">catch</span>(Exception ex)</span><br><span class=\"line\">              &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">      &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> MovieInfo <span class=\"title\">FillMovieInfoFormWeb</span>(<span class=\"params\">AngleSharp.Dom.IElement a, <span class=\"keyword\">string</span> onlineURL</span>)</span></span><br><span class=\"line\"><span class=\"function\">       </span>&#123;</span><br><span class=\"line\">           <span class=\"keyword\">var</span> movieHTML = HTTPHelper.GetHTMLByURL(onlineURL);</span><br><span class=\"line\">           <span class=\"keyword\">var</span> movieDoc = htmlParser.Parse(movieHTML);</span><br><span class=\"line\">           <span class=\"comment\">//http://www.dy2018.com/i/97462.html </span></span><br><span class=\"line\">           <span class=\"comment\">// idZoom</span></span><br><span class=\"line\">           <span class=\"keyword\">var</span> zoom = movieDoc.GetElementById(<span class=\"string\">\"Zoom\"</span>);</span><br><span class=\"line\">           <span class=\"comment\">// bgcolor='#fdfddf'td</span></span><br><span class=\"line\">           <span class=\"keyword\">var</span> lstDownLoadURL = movieDoc.QuerySelectorAll(<span class=\"string\">\"[bgcolor='#fdfddf']\"</span>);</span><br><span class=\"line\">           <span class=\"comment\">// class='updatetime'span</span></span><br><span class=\"line\">           <span class=\"keyword\">var</span> updatetime = movieDoc.QuerySelector(<span class=\"string\">\"span.updatetime\"</span>); <span class=\"keyword\">var</span> pubDate = DateTime.Now;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(updatetime!=<span class=\"literal\">null</span> &amp;&amp; !<span class=\"keyword\">string</span>.IsNullOrEmpty(updatetime.InnerHtml))</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"comment\">//replace\"\"</span></span><br><span class=\"line\">               DateTime.TryParse(updatetime.InnerHtml.Replace(<span class=\"string\">\"\"</span>, <span class=\"string\">\"\"</span>), <span class=\"keyword\">out</span> pubDate);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">var</span> movieInfo = <span class=\"keyword\">new</span> MovieInfo()</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">               <span class=\"comment\">//InnerHtmlfontReplace</span></span><br><span class=\"line\">               MovieName = a.InnerHtml.Replace(<span class=\"string\">\"&lt;font color=\\\"#0c9000\\\"&gt;\"</span>,<span class=\"string\">\"\"</span>).Replace(<span class=\"string\">\"&lt;font color=\\\"\t#0c9000\\\"&gt;\"</span>,<span class=\"string\">\"\"</span>).Replace(<span class=\"string\">\"&lt;/font&gt;\"</span>, <span class=\"string\">\"\"</span>),</span><br><span class=\"line\">               Dy2018OnlineUrl = onlineURL,</span><br><span class=\"line\">               MovieIntro = zoom != <span class=\"literal\">null</span> ? WebUtility.HtmlEncode(zoom.InnerHtml) : <span class=\"string\">\"...\"</span>,<span class=\"comment\">//</span></span><br><span class=\"line\">               XunLeiDownLoadURLList = lstDownLoadURL != <span class=\"literal\">null</span> ?</span><br><span class=\"line\">               lstDownLoadURL.Select(d =&gt; d.FirstElementChild.InnerHtml).ToList() : <span class=\"literal\">null</span>,<span class=\"comment\">//</span></span><br><span class=\"line\">               PubDate = pubDate,</span><br><span class=\"line\">           &#125;;</span><br><span class=\"line\">           <span class=\"keyword\">return</span> movieInfo;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"HTTPHelper\"><a href=\"#HTTPHelper\" class=\"headerlink\" title=\"HTTPHelper\"></a>HTTPHelper</h3><p>dy2018GB2312,.NET CoreGB2312Encoding.GetEncoding(GB2312)</p>\n<p>System.Text.Encoding.CodePages(Install-Package System.Text.Encoding.CodePages),</p>\n<p>Starup.csConfigureEncoding.RegisterProvider(CodePagesEncodingProvider.Instance),Encoding.GetEncoding(GB2312)</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">using</span> System;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Net.Http;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Net.Http.Headers;</span><br><span class=\"line\"><span class=\"keyword\">using</span> System.Text;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">namespace</span> <span class=\"title\">Dy2018Crawler</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HTTPHelper</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> HttpClient Client &#123; <span class=\"keyword\">get</span>; &#125; = <span class=\"keyword\">new</span> HttpClient();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> <span class=\"title\">GetHTMLByURL</span>(<span class=\"params\"><span class=\"keyword\">string</span> url</span>)</span></span><br><span class=\"line\"><span class=\"function\">        </span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">try</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                System.Net.WebRequest wRequest = System.Net.WebRequest.Create(url);</span><br><span class=\"line\">                wRequest.ContentType = <span class=\"string\">\"text/html; charset=gb2312\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">                wRequest.Method = <span class=\"string\">\"get\"</span>;</span><br><span class=\"line\">                wRequest.UseDefaultCredentials = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                <span class=\"comment\">// Get the response instance.</span></span><br><span class=\"line\">                <span class=\"keyword\">var</span> task = wRequest.GetResponseAsync();</span><br><span class=\"line\">                System.Net.WebResponse wResp = task.Result;</span><br><span class=\"line\">                System.IO.Stream respStream = wResp.GetResponseStream();</span><br><span class=\"line\">                <span class=\"comment\">//dy2018GB2312,</span></span><br><span class=\"line\">                <span class=\"keyword\">using</span> (System.IO.StreamReader reader = <span class=\"keyword\">new</span> System.IO.StreamReader(respStream, Encoding.GetEncoding(<span class=\"string\">\"GB2312\"</span>)))</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> reader.ReadToEnd();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                Console.WriteLine(ex.ToString());</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/1.1.0-rtm-10026\" target=\"_blank\" rel=\"noopener\">Pomelo.AspNetCore.TimedJob</a></p>\n<p>Pomelo.AspNetCore.TimedJob.NET Corejob</p>\n<p>.NET CoreMVP<a href=\"https://www.nuget.org/profiles/AmamiyaYuuko\" target=\"_blank\" rel=\"noopener\">AmamiyaYuuko</a>(MVP)</p>\n<p>nuget<a href=\"https://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/1.1.0-rtm-10026\" target=\"_blank\" rel=\"noopener\">https://www.nuget.org/packages/Pomelo.AspNetCore.TimedJob/1.1.0-rtm-10026</a></p>\n<p><a href=\"http://www.1234.sh/post/pomelo-extensions-timed-jobs\" target=\"_blank\" rel=\"noopener\">Timed Job - Pomelo</a></p>\n<h3 id=\"Startup-cs\"><a href=\"#Startup-cs\" class=\"headerlink\" title=\"Startup.cs\"></a>Startup.cs</h3><p>Install-Package Pomelo.AspNetCore.TimedJob -Pre</p>\n<p>Startup.csConfigureServicesService,ConfigureUse</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// This method gets called by the runtime. Use this method to add services to the container.</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">ConfigureServices</span>(<span class=\"params\">IServiceCollection services</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Add framework services.</span></span><br><span class=\"line\">    services.AddMvc();</span><br><span class=\"line\">    <span class=\"comment\">//Add TimedJob services</span></span><br><span class=\"line\">    services.AddTimedJob();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">Configure</span>(<span class=\"params\">IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//TimedJob</span></span><br><span class=\"line\">    app.UseTimedJob();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (env.IsDevelopment())</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        app.UseDeveloperExceptionPage();</span><br><span class=\"line\">        app.UseBrowserLink();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        app.UseExceptionHandler(<span class=\"string\">\"/Home/Error\"</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseStaticFiles();</span><br><span class=\"line\"></span><br><span class=\"line\">    app.UseMvc(routes =&gt;</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        routes.MapRoute(</span><br><span class=\"line\">            name: <span class=\"string\">\"default\"</span>,</span><br><span class=\"line\">            template: <span class=\"string\">\"&#123;controller=Home&#125;/&#123;action=Index&#125;/&#123;id?&#125;\"</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    Encoding.RegisterProvider(CodePagesEncodingProvider.Instance);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"Job\"><a href=\"#Job\" class=\"headerlink\" title=\"Job\"></a>Job</h4><p>XXXJob.cs,using Pomelo.AspNetCore.TimedJobXXXJobJob</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> public class AutoGetMovieListJob:Job</span><br><span class=\"line\"> &#123;</span><br><span class=\"line\">     // Begin Interval3SkipWhileExecutingtrue</span><br><span class=\"line\">     [Invoke(Begin = &quot;2016-11-29 22:10&quot;, Interval = 1000 * 3600*3, SkipWhileExecuting =true)]</span><br><span class=\"line\">     public void Run()</span><br><span class=\"line\">     &#123;</span><br><span class=\"line\">          //Job</span><br><span class=\"line\">          </span><br><span class=\"line\">         //LogHelper.Info(&quot;Start crawling&quot;);</span><br><span class=\"line\">         //AddToLatestMovieList(100);</span><br><span class=\"line\">         //AddToHotMovieList();</span><br><span class=\"line\">         //LogHelper.Info(&quot;Finish crawling&quot;);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"runtimes\"><a href=\"#runtimes\" class=\"headerlink\" title=\"runtimes\"></a>runtimes</h3><p>VS2015project.jsonruntimes.</p>\n<p>Windows</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">  <span class=\"string\">\"runtimes\"</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">\"win7-x64\"</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"string\">\"win7-x86\"</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"string\">\"osx.10.10-x64\"</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"string\">\"osx.10.11-x64\"</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"string\">\"ubuntu.14.04-x64\"</span>: &#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"-scripts\"><a href=\"#-scripts\" class=\"headerlink\" title=\"/scripts\"></a>/scripts</h3><p>node.jsbower</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//\"scripts\": &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//  \"prepublish\": [ \"bower install\", \"dotnet bundle\" ],</span></span><br><span class=\"line\"><span class=\"comment\">//  \"postpublish\": [ \"dotnet publish-iis --publish-folder %publish:OutputPath% --framework %publish:FullTargetFramework%\" ]</span></span><br><span class=\"line\"><span class=\"comment\">//&#125;,</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"-dependenciestype\"><a href=\"#-dependenciestype\" class=\"headerlink\" title=\"/dependenciestype\"></a>/dependenciestype</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"dependencies\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">\"Microsoft.NETCore.App\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">\"version\"</span>: <span class=\"string\">\"1.1.0\"</span></span><br><span class=\"line\">      <span class=\"comment\">//\"type\": \"platform\"</span></span><br><span class=\"line\">    &#125;,</span><br></pre></td></tr></table></figure>\n<p>project.json<a href=\"https://github.com/aspnet/Home/wiki/Project.json-file\" target=\"_blank\" rel=\"noopener\">Project.json-file</a>,<br><a href=\"http://www.cnblogs.com/shanyou/p/5693453.html\" target=\"_blank\" rel=\"noopener\">.NET Core  2 project.json </a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">dotnet restore;</span><br><span class=\"line\"></span><br><span class=\"line\">//C:\\code\\website\\Dy2018Crawler</span><br><span class=\"line\">dotnet publish -r ubuntu.14.04-x64 -c Release -o <span class=\"string\">\"C:\\code\\website\\Dy2018Crawler\"</span>;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>Gayhub<a href=\"https://github.com/liguobao/Dy2018Crawler\" target=\"_blank\" rel=\"noopener\">https://github.com/liguobao/Dy2018Crawler</a></p>\n<p><a href=\"http://codelover.win/\" target=\"_blank\" rel=\"noopener\">http://codelover.win/</a></p>\n<p>PS:</p>\n"},{"layout":"post","title":"IP","date":"2016-10-03T16:00:00.000Z","_content":"\n## \nIP.\n\nPS:IP...\n\nIP\n,IP...\n\nIPIP\nIP\nIP[IP](https://zhuanlan.zhihu.com/p/23928595)\nIP\n\n\n1. IPIP...\n2. IPIPGG\n3. IP\n\n\n## proxyipcenter\n\ndalao(@[virjar](https://www.zhihu.com/people/virjar))\n\n[proxyipcenter](http://git.oschina.net/virjar/proxyipcenter)\n\n\ndalao\n>\n>DungProxyIP,IPserverIP\n>\n>serverIP\n>\n>clientAPI,IPIPIPIPclientIP\n\n\n\nserverIP\n\nclientIPIP\n\n[http://git.oschina.net/virjar/proxyipcenter](http://git.oschina.net/virjar/proxyipcenter/edit/master/doc/server/deploy/README.md),\n(PS:dalao...dalao)\n\n## proxyipcenter server\n\nDrungProxyIP,server,IPIP\n1. IP\n    serverIP,,drungProxyIP,\n2. IP\n,IP,,1(),(10K)bloomFilter,\n3. \n,taobaoIp,IP[taobaoIP](http://ip.taobao.com/)\n4. IP\nIPIP80W,IP20,IP,80W,,\n- ,,IP,,5,5\n- ,,3W,3W,IP,,IPIPAPI,IP,,IP\n- domain,IP,IPIPIP,IP\n5. IP\nIPIP,:domainIP,,IP,IP,\n\n### IP\nIP,IP:IP,IPIPIP,IP,(,),,\n### \n,,,IP,,IP,,,IP.\n\n## server\nserverjava,maven,mysqlspringMVC,spring,tomcat,mybatis,guava,fastjson,httpclient\nserver\n1. maven(maven,maven)```mvn install -Dmaven.test.skip=true```\n2. servermaven ```mvn tomcat7:run```\n\n### server\n,server\n:\n1. mysql.properties \n2. config.properties ,url, system.thread.*system.thread*,1,,(forwardurl,  )\n\n,,profile,resources.local,resources.beta,resources.prodprofile,maven,resources.localprofile, -Pprofile,server ```mvn -Pskyee clean tomcat7:run```\n\n### server\n[http://115.159.40.202:8080/proxyipcenter/av?usedSign=&checkUrl=http%3A%2F%2Ffree-proxy-list.net%2F&domain=free-proxy-list.net&num=10](http://115.159.40.202:8080/proxyipcenter/av?usedSign=&checkUrl=http%3A%2F%2Ffree-proxy-list.net%2F&domain=free-proxy-list.net&num=10)\n````\n{\n     \"data\": {\n         \"data\": [\n             {\n                 \"id\": 257,\n                 \"ip\": \"203.192.12.148\",\n                 \"proxyIp\": \"203.192.12.149\",\n                 \"port\": 80,\n                 \"ipValue\": 3418360980,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"100000\",\n                 \"regionId\": \"110000\",\n                 \"cityId\": \"110100\",\n                 \"ispId\": \"-1\",\n                 \"transperent\": 2,\n                 \"speed\": 104,\n                 \"type\": 1,\n                 \"connectionScore\": 1310,\n                 \"availbelScore\": 8,\n                 \"connectionScoreDate\": 1475641264000,\n                 \"availbelScoreDate\": 1475646860000,\n                 \"createtime\": 1473840886000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 654,\n                 \"ip\": \"120.55.245.47\",\n                 \"proxyIp\": \"112.124.119.21\",\n                 \"port\": 80,\n                 \"ipValue\": 2016933167,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"300000\",\n                 \"regionId\": \"330000\",\n                 \"cityId\": \"330100\",\n                 \"ispId\": \"1000323\",\n                 \"transperent\": 2,\n                 \"speed\": 83,\n                 \"type\": 1,\n                 \"connectionScore\": 1429,\n                 \"availbelScore\": 2,\n                 \"connectionScoreDate\": 1475659905000,\n                 \"availbelScoreDate\": 1475630273000,\n                 \"createtime\": 1473840884000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 2489,\n                 \"ip\": \"124.193.33.233\",\n                 \"proxyIp\": \"124.193.33.233\",\n                 \"port\": 3128,\n                 \"ipValue\": 2093031913,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"100000\",\n                 \"regionId\": \"110000\",\n                 \"cityId\": \"110100\",\n                 \"ispId\": \"1000143\",\n                 \"transperent\": 2,\n                 \"speed\": 3390,\n                 \"type\": 1,\n                 \"connectionScore\": 310,\n                 \"availbelScore\": 2,\n                 \"connectionScoreDate\": 1475657685000,\n                 \"availbelScoreDate\": 1475661878000,\n                 \"createtime\": 1473839334000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 5004,\n                 \"ip\": \"203.192.12.146\",\n                 \"proxyIp\": \"203.192.12.149\",\n                 \"port\": 80,\n                 \"ipValue\": 3418360978,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"100000\",\n                 \"regionId\": \"110000\",\n                 \"cityId\": \"110100\",\n                 \"ispId\": \"-1\",\n                 \"transperent\": 2,\n                 \"speed\": 161,\n                 \"type\": 1,\n                 \"connectionScore\": 1291,\n                 \"availbelScore\": 10,\n                 \"connectionScoreDate\": 1475638336000,\n                 \"availbelScoreDate\": 1475636727000,\n                 \"createtime\": 1473840882000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 5421,\n                 \"ip\": \"221.237.155.64\",\n                 \"proxyIp\": \"221.237.155.64\",\n                 \"port\": 9797,\n                 \"ipValue\": 3723336512,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"500000\",\n                 \"regionId\": \"510000\",\n                 \"cityId\": \"510100\",\n                 \"ispId\": \"100017\",\n                 \"transperent\": 2,\n                 \"speed\": 3238,\n                 \"type\": 1,\n                 \"connectionScore\": 119,\n                 \"availbelScore\": -1,\n                 \"connectionScoreDate\": 1475611973000,\n                 \"availbelScoreDate\": 1475629954000,\n                 \"createtime\": 1473840773000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 8722,\n                 \"ip\": \"58.243.0.162\",\n                 \"proxyIp\": \"58.243.0.162\",\n                 \"port\": 9999,\n                 \"ipValue\": 989003938,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"300000\",\n                 \"regionId\": \"340000\",\n                 \"cityId\": \"340800\",\n                 \"ispId\": \"100026\",\n                 \"transperent\": 2,\n                 \"speed\": 5143,\n                 \"type\": 1,\n                 \"connectionScore\": 154,\n                 \"availbelScore\": -3,\n                 \"connectionScoreDate\": 1475665673000,\n                 \"availbelScoreDate\": 1475614147000,\n                 \"createtime\": 1473839836000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 11698,\n                 \"ip\": \"218.7.170.190\",\n                 \"proxyIp\": \"218.7.170.190\",\n                 \"port\": 3128,\n                 \"ipValue\": 3657935550,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"200000\",\n                 \"regionId\": \"230000\",\n                 \"cityId\": \"231200\",\n                 \"ispId\": \"100026\",\n                 \"transperent\": 2,\n                 \"speed\": 3145,\n                 \"type\": 1,\n                 \"connectionScore\": 317,\n                 \"availbelScore\": -1,\n                 \"connectionScoreDate\": 1475642001000,\n                 \"availbelScoreDate\": 1475524810000,\n                 \"createtime\": 1473839128000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 13318,\n                 \"ip\": \"220.249.185.178\",\n                 \"proxyIp\": \"220.249.185.178\",\n                 \"port\": 9999,\n                 \"ipValue\": 3707353522,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"300000\",\n                 \"regionId\": \"350000\",\n                 \"cityId\": \"350100\",\n                 \"ispId\": \"100026\",\n                 \"transperent\": 2,\n                 \"speed\": 5094,\n                 \"type\": 1,\n                 \"connectionScore\": 129,\n                 \"availbelScore\": -1,\n                 \"connectionScoreDate\": 1475615670000,\n                 \"availbelScoreDate\": 1475585178000,\n                 \"createtime\": 1473840539000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 57033,\n                 \"ip\": \"210.245.25.228\",\n                 \"proxyIp\": \"210.245.25.228\",\n                 \"port\": 3128,\n                 \"ipValue\": 3539278308,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"VN\",\n                 \"areaId\": \"\",\n                 \"regionId\": \"\",\n                 \"cityId\": \"\",\n                 \"ispId\": \"\",\n                 \"transperent\": 2,\n                 \"speed\": 1024,\n                 \"type\": 1,\n                 \"connectionScore\": 488,\n                 \"availbelScore\": 36,\n                 \"connectionScoreDate\": 1475635386000,\n                 \"availbelScoreDate\": 1475630473000,\n                 \"createtime\": 1473836572000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 124334,\n                 \"ip\": \"60.194.72.253\",\n                 \"proxyIp\": \"60.194.72.253\",\n                 \"port\": 3128,\n                 \"ipValue\": 1019365629,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"100000\",\n                 \"regionId\": \"110000\",\n                 \"cityId\": \"110100\",\n                 \"ispId\": \"1000143\",\n                 \"transperent\": 2,\n                 \"speed\": 2366,\n                 \"type\": 1,\n                 \"connectionScore\": 610,\n                 \"availbelScore\": 16,\n                 \"connectionScoreDate\": 1475643516000,\n                 \"availbelScoreDate\": 1475631080000,\n                 \"createtime\": 1473839561000,\n                 \"lostheader\": false\n             }\n         ],\n         \"num\": 10,\n         \"sign\": \"9999#C99+999#9B99B99999##Y9999+9999999999999999999999t9999s99999999s9999999999999999999999999999#99999999999999GB999999999G9999s9s99999#9999999999Y9+999##99999999+99999999999999+999999999999B999+Y9999G9+99999999999YB99999999999999999999999+99Y999999999B9999G999s99G999999999#99999#9Y999s999999999#B99999999999999999999+999999Y9999999Y9999999999999Y9999Y999999999999999\"\n     },\n     \"status\": true\n }\n````\n\n\n\n\n## proxyipcenter client\n### [client ](http://git.oschina.net/virjar/proxyipcenter/blob/master/doc/client/design/README.md)\n### [client ](http://git.oschina.net/virjar/proxyipcenter/blob/master/doc/client/userGuide/README.md)\n\nclient\nIP,dunproxy-client,\n\nclientIP,IP:\n\n1. IP,,IP,IP\n\n2. IP,IP,\n\n## IpPoolAPIIP\n\n### IP\nIP ``IpPool.getInstance().bind(domain, accessUrl);`` \n- ,null,nullaccessUrl schemahost\n- url, null,nulldomain\n\n,IP,,,IP,serverIP,\n\n### IP\nIP,IP,IP,IP,IP\n:``com.virjar.dungproxy.client.model.AvProxy.recordUsage``\n\n### IP\nIP,IP,IP,IP,IP\n:``com.virjar.dungproxy.client.model.AvProxy.recordFailed()``\n\n### IP\nIP,IP,``com.virjar.dungproxy.client.model.AvProxy.offline()``\n,IPIP,IP,IP,IP,API\n\n\n### IP\nIP,,,IP,IP dump\n:``com.virjar.dungproxy.client.ippool.IpPool.destroy``\n\n\n### \nIP,,\n\n\n\n\n## TODO \n\n1. .NET/.NET core client (...)\n2. Python client(...)\n3. Golang client(...)\n\n\n\n\n\n\n\n\n","source":"_posts/ipproy_for_crawler.md","raw":"---\nlayout: post\ntitle: IP\ncategory: ipproxy\ndate: 2016-10-04 00:00:00\ntags:\n- Java\n- \n---\n\n## \nIP.\n\nPS:IP...\n\nIP\n,IP...\n\nIPIP\nIP\nIP[IP](https://zhuanlan.zhihu.com/p/23928595)\nIP\n\n\n1. IPIP...\n2. IPIPGG\n3. IP\n\n\n## proxyipcenter\n\ndalao(@[virjar](https://www.zhihu.com/people/virjar))\n\n[proxyipcenter](http://git.oschina.net/virjar/proxyipcenter)\n\n\ndalao\n>\n>DungProxyIP,IPserverIP\n>\n>serverIP\n>\n>clientAPI,IPIPIPIPclientIP\n\n\n\nserverIP\n\nclientIPIP\n\n[http://git.oschina.net/virjar/proxyipcenter](http://git.oschina.net/virjar/proxyipcenter/edit/master/doc/server/deploy/README.md),\n(PS:dalao...dalao)\n\n## proxyipcenter server\n\nDrungProxyIP,server,IPIP\n1. IP\n    serverIP,,drungProxyIP,\n2. IP\n,IP,,1(),(10K)bloomFilter,\n3. \n,taobaoIp,IP[taobaoIP](http://ip.taobao.com/)\n4. IP\nIPIP80W,IP20,IP,80W,,\n- ,,IP,,5,5\n- ,,3W,3W,IP,,IPIPAPI,IP,,IP\n- domain,IP,IPIPIP,IP\n5. IP\nIPIP,:domainIP,,IP,IP,\n\n### IP\nIP,IP:IP,IPIPIP,IP,(,),,\n### \n,,,IP,,IP,,,IP.\n\n## server\nserverjava,maven,mysqlspringMVC,spring,tomcat,mybatis,guava,fastjson,httpclient\nserver\n1. maven(maven,maven)```mvn install -Dmaven.test.skip=true```\n2. servermaven ```mvn tomcat7:run```\n\n### server\n,server\n:\n1. mysql.properties \n2. config.properties ,url, system.thread.*system.thread*,1,,(forwardurl,  )\n\n,,profile,resources.local,resources.beta,resources.prodprofile,maven,resources.localprofile, -Pprofile,server ```mvn -Pskyee clean tomcat7:run```\n\n### server\n[http://115.159.40.202:8080/proxyipcenter/av?usedSign=&checkUrl=http%3A%2F%2Ffree-proxy-list.net%2F&domain=free-proxy-list.net&num=10](http://115.159.40.202:8080/proxyipcenter/av?usedSign=&checkUrl=http%3A%2F%2Ffree-proxy-list.net%2F&domain=free-proxy-list.net&num=10)\n````\n{\n     \"data\": {\n         \"data\": [\n             {\n                 \"id\": 257,\n                 \"ip\": \"203.192.12.148\",\n                 \"proxyIp\": \"203.192.12.149\",\n                 \"port\": 80,\n                 \"ipValue\": 3418360980,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"100000\",\n                 \"regionId\": \"110000\",\n                 \"cityId\": \"110100\",\n                 \"ispId\": \"-1\",\n                 \"transperent\": 2,\n                 \"speed\": 104,\n                 \"type\": 1,\n                 \"connectionScore\": 1310,\n                 \"availbelScore\": 8,\n                 \"connectionScoreDate\": 1475641264000,\n                 \"availbelScoreDate\": 1475646860000,\n                 \"createtime\": 1473840886000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 654,\n                 \"ip\": \"120.55.245.47\",\n                 \"proxyIp\": \"112.124.119.21\",\n                 \"port\": 80,\n                 \"ipValue\": 2016933167,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"300000\",\n                 \"regionId\": \"330000\",\n                 \"cityId\": \"330100\",\n                 \"ispId\": \"1000323\",\n                 \"transperent\": 2,\n                 \"speed\": 83,\n                 \"type\": 1,\n                 \"connectionScore\": 1429,\n                 \"availbelScore\": 2,\n                 \"connectionScoreDate\": 1475659905000,\n                 \"availbelScoreDate\": 1475630273000,\n                 \"createtime\": 1473840884000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 2489,\n                 \"ip\": \"124.193.33.233\",\n                 \"proxyIp\": \"124.193.33.233\",\n                 \"port\": 3128,\n                 \"ipValue\": 2093031913,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"100000\",\n                 \"regionId\": \"110000\",\n                 \"cityId\": \"110100\",\n                 \"ispId\": \"1000143\",\n                 \"transperent\": 2,\n                 \"speed\": 3390,\n                 \"type\": 1,\n                 \"connectionScore\": 310,\n                 \"availbelScore\": 2,\n                 \"connectionScoreDate\": 1475657685000,\n                 \"availbelScoreDate\": 1475661878000,\n                 \"createtime\": 1473839334000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 5004,\n                 \"ip\": \"203.192.12.146\",\n                 \"proxyIp\": \"203.192.12.149\",\n                 \"port\": 80,\n                 \"ipValue\": 3418360978,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"100000\",\n                 \"regionId\": \"110000\",\n                 \"cityId\": \"110100\",\n                 \"ispId\": \"-1\",\n                 \"transperent\": 2,\n                 \"speed\": 161,\n                 \"type\": 1,\n                 \"connectionScore\": 1291,\n                 \"availbelScore\": 10,\n                 \"connectionScoreDate\": 1475638336000,\n                 \"availbelScoreDate\": 1475636727000,\n                 \"createtime\": 1473840882000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 5421,\n                 \"ip\": \"221.237.155.64\",\n                 \"proxyIp\": \"221.237.155.64\",\n                 \"port\": 9797,\n                 \"ipValue\": 3723336512,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"500000\",\n                 \"regionId\": \"510000\",\n                 \"cityId\": \"510100\",\n                 \"ispId\": \"100017\",\n                 \"transperent\": 2,\n                 \"speed\": 3238,\n                 \"type\": 1,\n                 \"connectionScore\": 119,\n                 \"availbelScore\": -1,\n                 \"connectionScoreDate\": 1475611973000,\n                 \"availbelScoreDate\": 1475629954000,\n                 \"createtime\": 1473840773000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 8722,\n                 \"ip\": \"58.243.0.162\",\n                 \"proxyIp\": \"58.243.0.162\",\n                 \"port\": 9999,\n                 \"ipValue\": 989003938,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"300000\",\n                 \"regionId\": \"340000\",\n                 \"cityId\": \"340800\",\n                 \"ispId\": \"100026\",\n                 \"transperent\": 2,\n                 \"speed\": 5143,\n                 \"type\": 1,\n                 \"connectionScore\": 154,\n                 \"availbelScore\": -3,\n                 \"connectionScoreDate\": 1475665673000,\n                 \"availbelScoreDate\": 1475614147000,\n                 \"createtime\": 1473839836000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 11698,\n                 \"ip\": \"218.7.170.190\",\n                 \"proxyIp\": \"218.7.170.190\",\n                 \"port\": 3128,\n                 \"ipValue\": 3657935550,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"200000\",\n                 \"regionId\": \"230000\",\n                 \"cityId\": \"231200\",\n                 \"ispId\": \"100026\",\n                 \"transperent\": 2,\n                 \"speed\": 3145,\n                 \"type\": 1,\n                 \"connectionScore\": 317,\n                 \"availbelScore\": -1,\n                 \"connectionScoreDate\": 1475642001000,\n                 \"availbelScoreDate\": 1475524810000,\n                 \"createtime\": 1473839128000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 13318,\n                 \"ip\": \"220.249.185.178\",\n                 \"proxyIp\": \"220.249.185.178\",\n                 \"port\": 9999,\n                 \"ipValue\": 3707353522,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"300000\",\n                 \"regionId\": \"350000\",\n                 \"cityId\": \"350100\",\n                 \"ispId\": \"100026\",\n                 \"transperent\": 2,\n                 \"speed\": 5094,\n                 \"type\": 1,\n                 \"connectionScore\": 129,\n                 \"availbelScore\": -1,\n                 \"connectionScoreDate\": 1475615670000,\n                 \"availbelScoreDate\": 1475585178000,\n                 \"createtime\": 1473840539000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 57033,\n                 \"ip\": \"210.245.25.228\",\n                 \"proxyIp\": \"210.245.25.228\",\n                 \"port\": 3128,\n                 \"ipValue\": 3539278308,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"VN\",\n                 \"areaId\": \"\",\n                 \"regionId\": \"\",\n                 \"cityId\": \"\",\n                 \"ispId\": \"\",\n                 \"transperent\": 2,\n                 \"speed\": 1024,\n                 \"type\": 1,\n                 \"connectionScore\": 488,\n                 \"availbelScore\": 36,\n                 \"connectionScoreDate\": 1475635386000,\n                 \"availbelScoreDate\": 1475630473000,\n                 \"createtime\": 1473836572000,\n                 \"lostheader\": false\n             },\n             {\n                 \"id\": 124334,\n                 \"ip\": \"60.194.72.253\",\n                 \"proxyIp\": \"60.194.72.253\",\n                 \"port\": 3128,\n                 \"ipValue\": 1019365629,\n                 \"country\": \"\",\n                 \"area\": \"\",\n                 \"region\": \"\",\n                 \"city\": \"\",\n                 \"isp\": \"\",\n                 \"countryId\": \"CN\",\n                 \"areaId\": \"100000\",\n                 \"regionId\": \"110000\",\n                 \"cityId\": \"110100\",\n                 \"ispId\": \"1000143\",\n                 \"transperent\": 2,\n                 \"speed\": 2366,\n                 \"type\": 1,\n                 \"connectionScore\": 610,\n                 \"availbelScore\": 16,\n                 \"connectionScoreDate\": 1475643516000,\n                 \"availbelScoreDate\": 1475631080000,\n                 \"createtime\": 1473839561000,\n                 \"lostheader\": false\n             }\n         ],\n         \"num\": 10,\n         \"sign\": \"9999#C99+999#9B99B99999##Y9999+9999999999999999999999t9999s99999999s9999999999999999999999999999#99999999999999GB999999999G9999s9s99999#9999999999Y9+999##99999999+99999999999999+999999999999B999+Y9999G9+99999999999YB99999999999999999999999+99Y999999999B9999G999s99G999999999#99999#9Y999s999999999#B99999999999999999999+999999Y9999999Y9999999999999Y9999Y999999999999999\"\n     },\n     \"status\": true\n }\n````\n\n\n\n\n## proxyipcenter client\n### [client ](http://git.oschina.net/virjar/proxyipcenter/blob/master/doc/client/design/README.md)\n### [client ](http://git.oschina.net/virjar/proxyipcenter/blob/master/doc/client/userGuide/README.md)\n\nclient\nIP,dunproxy-client,\n\nclientIP,IP:\n\n1. IP,,IP,IP\n\n2. IP,IP,\n\n## IpPoolAPIIP\n\n### IP\nIP ``IpPool.getInstance().bind(domain, accessUrl);`` \n- ,null,nullaccessUrl schemahost\n- url, null,nulldomain\n\n,IP,,,IP,serverIP,\n\n### IP\nIP,IP,IP,IP,IP\n:``com.virjar.dungproxy.client.model.AvProxy.recordUsage``\n\n### IP\nIP,IP,IP,IP,IP\n:``com.virjar.dungproxy.client.model.AvProxy.recordFailed()``\n\n### IP\nIP,IP,``com.virjar.dungproxy.client.model.AvProxy.offline()``\n,IPIP,IP,IP,IP,API\n\n\n### IP\nIP,,,IP,IP dump\n:``com.virjar.dungproxy.client.ippool.IpPool.destroy``\n\n\n### \nIP,,\n\n\n\n\n## TODO \n\n1. .NET/.NET core client (...)\n2. Python client(...)\n3. Golang client(...)\n\n\n\n\n\n\n\n\n","slug":"ipproy_for_crawler","published":1,"updated":"2018-05-17T07:59:54.948Z","comments":1,"photos":[],"link":"","_id":"cjha9xxsw0009ie1wevhekvfk","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>IP.</p>\n<p>PS:IP</p>\n<p>IP<br>,IP</p>\n<p>IPIP<br>IP<br>IP<a href=\"https://zhuanlan.zhihu.com/p/23928595\" target=\"_blank\" rel=\"noopener\">IP</a><br>IP</p>\n<p></p>\n<ol>\n<li>IPIP</li>\n<li>IPIPGG</li>\n<li>IP</li>\n</ol>\n<h2 id=\"proxyipcenter\"><a href=\"#proxyipcenter\" class=\"headerlink\" title=\"proxyipcenter\"></a>proxyipcenter</h2><p>dalao(@<a href=\"https://www.zhihu.com/people/virjar\" target=\"_blank\" rel=\"noopener\">virjar</a>)</p>\n<p><a href=\"http://git.oschina.net/virjar/proxyipcenter\" target=\"_blank\" rel=\"noopener\">proxyipcenter</a></p>\n<p><br>dalao</p>\n<blockquote>\n<p>DungProxyIP,IPserverIP</p>\n<p>serverIP</p>\n<p>clientAPI,IPIPIPIPclientIP</p>\n</blockquote>\n<p></p>\n<p>serverIP</p>\n<p>clientIPIP</p>\n<p><a href=\"http://git.oschina.net/virjar/proxyipcenter/edit/master/doc/server/deploy/README.md\" target=\"_blank\" rel=\"noopener\">http://git.oschina.net/virjar/proxyipcenter</a>,<br>(PS:dalaodalao)</p>\n<h2 id=\"proxyipcenter-server\"><a href=\"#proxyipcenter-server\" class=\"headerlink\" title=\"proxyipcenter server\"></a>proxyipcenter server</h2><p>DrungProxyIP,server,IPIP</p>\n<ol>\n<li>IP<br> serverIP,,drungProxyIP,</li>\n<li>IP<br>,IP,,1(),(10K)bloomFilter,</li>\n<li><br>,taobaoIp,IP<a href=\"http://ip.taobao.com/\" target=\"_blank\" rel=\"noopener\">taobaoIP</a></li>\n<li>IP<br>IPIP80W,IP20,IP,80W,,</li>\n</ol>\n<ul>\n<li>,,IP,,5,5</li>\n<li>,,3W,3W,IP,,IPIPAPI,IP,,IP</li>\n<li>domain,IP,IPIPIP,IP</li>\n</ul>\n<ol start=\"5\">\n<li>IP<br>IPIP,:domainIP,,IP,IP,</li>\n</ol>\n<h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP,IP:IP,IPIPIP,IP,(,),,</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,,,IP,,IP,,,IP.</p>\n<h2 id=\"server\"><a href=\"#server\" class=\"headerlink\" title=\"server\"></a>server</h2><p>serverjava,maven,mysqlspringMVC,spring,tomcat,mybatis,guava,fastjson,httpclient<br>server</p>\n<ol>\n<li>maven(maven,maven)<figure class=\"highlight plain\"><figcaption><span>install -Dmaven.test.skip</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2. servermaven ```mvn tomcat7:run</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"server\"><a href=\"#server\" class=\"headerlink\" title=\"server\"></a>server</h3><p>,server<br>:</p>\n<ol>\n<li>mysql.properties </li>\n<li>config.properties ,url, system.thread.<em>system.thread</em>,1,,(forwardurl,  )</li>\n</ol>\n<p>,,profile,resources.local,resources.beta,resources.prodprofile,maven,resources.localprofile, -Pprofile,server <figure class=\"highlight plain\"><figcaption><span>-Pskyee clean tomcat7:run```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">### server</span><br><span class=\"line\">[http://115.159.40.202:8080/proxyipcenter/av?usedSign=&amp;checkUrl=http%3A%2F%2Ffree-proxy-list.net%2F&amp;domain=free-proxy-list.net&amp;num=10](http://115.159.40.202:8080/proxyipcenter/av?usedSign=&amp;checkUrl=http%3A%2F%2Ffree-proxy-list.net%2F&amp;domain=free-proxy-list.net&amp;num=10)</span><br><span class=\"line\">`</span><br></pre></td></tr></table></figure></p>\n<p>{<br>     data: {<br>         data: [<br>             {<br>                 id: 257,<br>                 ip: 203.192.12.148,<br>                 proxyIp: 203.192.12.149,<br>                 port: 80,<br>                 ipValue: 3418360980,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 100000,<br>                 regionId: 110000,<br>                 cityId: 110100,<br>                 ispId: -1,<br>                 transperent: 2,<br>                 speed: 104,<br>                 type: 1,<br>                 connectionScore: 1310,<br>                 availbelScore: 8,<br>                 connectionScoreDate: 1475641264000,<br>                 availbelScoreDate: 1475646860000,<br>                 createtime: 1473840886000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 654,<br>                 ip: 120.55.245.47,<br>                 proxyIp: 112.124.119.21,<br>                 port: 80,<br>                 ipValue: 2016933167,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 300000,<br>                 regionId: 330000,<br>                 cityId: 330100,<br>                 ispId: 1000323,<br>                 transperent: 2,<br>                 speed: 83,<br>                 type: 1,<br>                 connectionScore: 1429,<br>                 availbelScore: 2,<br>                 connectionScoreDate: 1475659905000,<br>                 availbelScoreDate: 1475630273000,<br>                 createtime: 1473840884000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 2489,<br>                 ip: 124.193.33.233,<br>                 proxyIp: 124.193.33.233,<br>                 port: 3128,<br>                 ipValue: 2093031913,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 100000,<br>                 regionId: 110000,<br>                 cityId: 110100,<br>                 ispId: 1000143,<br>                 transperent: 2,<br>                 speed: 3390,<br>                 type: 1,<br>                 connectionScore: 310,<br>                 availbelScore: 2,<br>                 connectionScoreDate: 1475657685000,<br>                 availbelScoreDate: 1475661878000,<br>                 createtime: 1473839334000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 5004,<br>                 ip: 203.192.12.146,<br>                 proxyIp: 203.192.12.149,<br>                 port: 80,<br>                 ipValue: 3418360978,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 100000,<br>                 regionId: 110000,<br>                 cityId: 110100,<br>                 ispId: -1,<br>                 transperent: 2,<br>                 speed: 161,<br>                 type: 1,<br>                 connectionScore: 1291,<br>                 availbelScore: 10,<br>                 connectionScoreDate: 1475638336000,<br>                 availbelScoreDate: 1475636727000,<br>                 createtime: 1473840882000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 5421,<br>                 ip: 221.237.155.64,<br>                 proxyIp: 221.237.155.64,<br>                 port: 9797,<br>                 ipValue: 3723336512,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 500000,<br>                 regionId: 510000,<br>                 cityId: 510100,<br>                 ispId: 100017,<br>                 transperent: 2,<br>                 speed: 3238,<br>                 type: 1,<br>                 connectionScore: 119,<br>                 availbelScore: -1,<br>                 connectionScoreDate: 1475611973000,<br>                 availbelScoreDate: 1475629954000,<br>                 createtime: 1473840773000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 8722,<br>                 ip: 58.243.0.162,<br>                 proxyIp: 58.243.0.162,<br>                 port: 9999,<br>                 ipValue: 989003938,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 300000,<br>                 regionId: 340000,<br>                 cityId: 340800,<br>                 ispId: 100026,<br>                 transperent: 2,<br>                 speed: 5143,<br>                 type: 1,<br>                 connectionScore: 154,<br>                 availbelScore: -3,<br>                 connectionScoreDate: 1475665673000,<br>                 availbelScoreDate: 1475614147000,<br>                 createtime: 1473839836000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 11698,<br>                 ip: 218.7.170.190,<br>                 proxyIp: 218.7.170.190,<br>                 port: 3128,<br>                 ipValue: 3657935550,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 200000,<br>                 regionId: 230000,<br>                 cityId: 231200,<br>                 ispId: 100026,<br>                 transperent: 2,<br>                 speed: 3145,<br>                 type: 1,<br>                 connectionScore: 317,<br>                 availbelScore: -1,<br>                 connectionScoreDate: 1475642001000,<br>                 availbelScoreDate: 1475524810000,<br>                 createtime: 1473839128000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 13318,<br>                 ip: 220.249.185.178,<br>                 proxyIp: 220.249.185.178,<br>                 port: 9999,<br>                 ipValue: 3707353522,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 300000,<br>                 regionId: 350000,<br>                 cityId: 350100,<br>                 ispId: 100026,<br>                 transperent: 2,<br>                 speed: 5094,<br>                 type: 1,<br>                 connectionScore: 129,<br>                 availbelScore: -1,<br>                 connectionScoreDate: 1475615670000,<br>                 availbelScoreDate: 1475585178000,<br>                 createtime: 1473840539000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 57033,<br>                 ip: 210.245.25.228,<br>                 proxyIp: 210.245.25.228,<br>                 port: 3128,<br>                 ipValue: 3539278308,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: VN,<br>                 areaId: ,<br>                 regionId: ,<br>                 cityId: ,<br>                 ispId: ,<br>                 transperent: 2,<br>                 speed: 1024,<br>                 type: 1,<br>                 connectionScore: 488,<br>                 availbelScore: 36,<br>                 connectionScoreDate: 1475635386000,<br>                 availbelScoreDate: 1475630473000,<br>                 createtime: 1473836572000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 124334,<br>                 ip: 60.194.72.253,<br>                 proxyIp: 60.194.72.253,<br>                 port: 3128,<br>                 ipValue: 1019365629,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 100000,<br>                 regionId: 110000,<br>                 cityId: 110100,<br>                 ispId: 1000143,<br>                 transperent: 2,<br>                 speed: 2366,<br>                 type: 1,<br>                 connectionScore: 610,<br>                 availbelScore: 16,<br>                 connectionScoreDate: 1475643516000,<br>                 availbelScoreDate: 1475631080000,<br>                 createtime: 1473839561000,<br>                 lostheader: false<br>             }<br>         ],<br>         num: 10,<br>         sign: 9999#C99+999#9B99B99999##Y9999+9999999999999999999999t9999s99999999s9999999999999999999999999999#99999999999999GB999999999G9999s9s99999#9999999999Y9+999##99999999+99999999999999+999999999999B999+Y9999G9+99999999999YB99999999999999999999999+99Y999999999B9999G999s99G999999999#99999#9Y999s999999999#B99999999999999999999+999999Y9999999Y9999999999999Y9999Y999999999999999<br>     },<br>     status: true<br> }<br><code></code></p>\n<h2 id=\"proxyipcenter-client\"><a href=\"#proxyipcenter-client\" class=\"headerlink\" title=\"proxyipcenter client\"></a>proxyipcenter client</h2><h3 id=\"client-\"><a href=\"#client-\" class=\"headerlink\" title=\"client \"></a><a href=\"http://git.oschina.net/virjar/proxyipcenter/blob/master/doc/client/design/README.md\" target=\"_blank\" rel=\"noopener\">client </a></h3><h3 id=\"client-\"><a href=\"#client-\" class=\"headerlink\" title=\"client \"></a><a href=\"http://git.oschina.net/virjar/proxyipcenter/blob/master/doc/client/userGuide/README.md\" target=\"_blank\" rel=\"noopener\">client </a></h3><p>client<br>IP,dunproxy-client,</p>\n<p>clientIP,IP:</p>\n<ol>\n<li><p>IP,,IP,IP</p>\n</li>\n<li><p>IP,IP,</p>\n</li>\n</ol>\n<h2 id=\"IpPoolAPIIP\"><a href=\"#IpPoolAPIIP\" class=\"headerlink\" title=\"IpPoolAPIIP\"></a>IpPoolAPIIP</h2><h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP <code>IpPool.getInstance().bind(domain, accessUrl);</code> </p>\n<ul>\n<li>,null,nullaccessUrl schemahost</li>\n<li>url, null,nulldomain</li>\n</ul>\n<p>,IP,,,IP,serverIP,</p>\n<h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP,IP,IP,IP,IP<br>:<code>com.virjar.dungproxy.client.model.AvProxy.recordUsage</code></p>\n<h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP,IP,IP,IP,IP<br>:<code>com.virjar.dungproxy.client.model.AvProxy.recordFailed()</code></p>\n<h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP,IP,<code>com.virjar.dungproxy.client.model.AvProxy.offline()</code><br>,IPIP,IP,IP,IP,API</p>\n<h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP,,,IP,IP dump<br>:<code>com.virjar.dungproxy.client.ippool.IpPool.destroy</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>IP,,</p>\n<h2 id=\"TODO-\"><a href=\"#TODO-\" class=\"headerlink\" title=\"TODO \"></a>TODO </h2><ol>\n<li>.NET/.NET core client ()</li>\n<li>Python client()</li>\n<li>Golang client()</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>IP.</p>\n<p>PS:IP</p>\n<p>IP<br>,IP</p>\n<p>IPIP<br>IP<br>IP<a href=\"https://zhuanlan.zhihu.com/p/23928595\" target=\"_blank\" rel=\"noopener\">IP</a><br>IP</p>\n<p></p>\n<ol>\n<li>IPIP</li>\n<li>IPIPGG</li>\n<li>IP</li>\n</ol>\n<h2 id=\"proxyipcenter\"><a href=\"#proxyipcenter\" class=\"headerlink\" title=\"proxyipcenter\"></a>proxyipcenter</h2><p>dalao(@<a href=\"https://www.zhihu.com/people/virjar\" target=\"_blank\" rel=\"noopener\">virjar</a>)</p>\n<p><a href=\"http://git.oschina.net/virjar/proxyipcenter\" target=\"_blank\" rel=\"noopener\">proxyipcenter</a></p>\n<p><br>dalao</p>\n<blockquote>\n<p>DungProxyIP,IPserverIP</p>\n<p>serverIP</p>\n<p>clientAPI,IPIPIPIPclientIP</p>\n</blockquote>\n<p></p>\n<p>serverIP</p>\n<p>clientIPIP</p>\n<p><a href=\"http://git.oschina.net/virjar/proxyipcenter/edit/master/doc/server/deploy/README.md\" target=\"_blank\" rel=\"noopener\">http://git.oschina.net/virjar/proxyipcenter</a>,<br>(PS:dalaodalao)</p>\n<h2 id=\"proxyipcenter-server\"><a href=\"#proxyipcenter-server\" class=\"headerlink\" title=\"proxyipcenter server\"></a>proxyipcenter server</h2><p>DrungProxyIP,server,IPIP</p>\n<ol>\n<li>IP<br> serverIP,,drungProxyIP,</li>\n<li>IP<br>,IP,,1(),(10K)bloomFilter,</li>\n<li><br>,taobaoIp,IP<a href=\"http://ip.taobao.com/\" target=\"_blank\" rel=\"noopener\">taobaoIP</a></li>\n<li>IP<br>IPIP80W,IP20,IP,80W,,</li>\n</ol>\n<ul>\n<li>,,IP,,5,5</li>\n<li>,,3W,3W,IP,,IPIPAPI,IP,,IP</li>\n<li>domain,IP,IPIPIP,IP</li>\n</ul>\n<ol start=\"5\">\n<li>IP<br>IPIP,:domainIP,,IP,IP,</li>\n</ol>\n<h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP,IP:IP,IPIPIP,IP,(,),,</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,,,IP,,IP,,,IP.</p>\n<h2 id=\"server\"><a href=\"#server\" class=\"headerlink\" title=\"server\"></a>server</h2><p>serverjava,maven,mysqlspringMVC,spring,tomcat,mybatis,guava,fastjson,httpclient<br>server</p>\n<ol>\n<li>maven(maven,maven)<figure class=\"highlight plain\"><figcaption><span>install -Dmaven.test.skip</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2. servermaven ```mvn tomcat7:run</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"server\"><a href=\"#server\" class=\"headerlink\" title=\"server\"></a>server</h3><p>,server<br>:</p>\n<ol>\n<li>mysql.properties </li>\n<li>config.properties ,url, system.thread.<em>system.thread</em>,1,,(forwardurl,  )</li>\n</ol>\n<p>,,profile,resources.local,resources.beta,resources.prodprofile,maven,resources.localprofile, -Pprofile,server <figure class=\"highlight plain\"><figcaption><span>-Pskyee clean tomcat7:run```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">### server</span><br><span class=\"line\">[http://115.159.40.202:8080/proxyipcenter/av?usedSign=&amp;checkUrl=http%3A%2F%2Ffree-proxy-list.net%2F&amp;domain=free-proxy-list.net&amp;num=10](http://115.159.40.202:8080/proxyipcenter/av?usedSign=&amp;checkUrl=http%3A%2F%2Ffree-proxy-list.net%2F&amp;domain=free-proxy-list.net&amp;num=10)</span><br><span class=\"line\">`</span><br></pre></td></tr></table></figure></p>\n<p>{<br>     data: {<br>         data: [<br>             {<br>                 id: 257,<br>                 ip: 203.192.12.148,<br>                 proxyIp: 203.192.12.149,<br>                 port: 80,<br>                 ipValue: 3418360980,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 100000,<br>                 regionId: 110000,<br>                 cityId: 110100,<br>                 ispId: -1,<br>                 transperent: 2,<br>                 speed: 104,<br>                 type: 1,<br>                 connectionScore: 1310,<br>                 availbelScore: 8,<br>                 connectionScoreDate: 1475641264000,<br>                 availbelScoreDate: 1475646860000,<br>                 createtime: 1473840886000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 654,<br>                 ip: 120.55.245.47,<br>                 proxyIp: 112.124.119.21,<br>                 port: 80,<br>                 ipValue: 2016933167,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 300000,<br>                 regionId: 330000,<br>                 cityId: 330100,<br>                 ispId: 1000323,<br>                 transperent: 2,<br>                 speed: 83,<br>                 type: 1,<br>                 connectionScore: 1429,<br>                 availbelScore: 2,<br>                 connectionScoreDate: 1475659905000,<br>                 availbelScoreDate: 1475630273000,<br>                 createtime: 1473840884000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 2489,<br>                 ip: 124.193.33.233,<br>                 proxyIp: 124.193.33.233,<br>                 port: 3128,<br>                 ipValue: 2093031913,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 100000,<br>                 regionId: 110000,<br>                 cityId: 110100,<br>                 ispId: 1000143,<br>                 transperent: 2,<br>                 speed: 3390,<br>                 type: 1,<br>                 connectionScore: 310,<br>                 availbelScore: 2,<br>                 connectionScoreDate: 1475657685000,<br>                 availbelScoreDate: 1475661878000,<br>                 createtime: 1473839334000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 5004,<br>                 ip: 203.192.12.146,<br>                 proxyIp: 203.192.12.149,<br>                 port: 80,<br>                 ipValue: 3418360978,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 100000,<br>                 regionId: 110000,<br>                 cityId: 110100,<br>                 ispId: -1,<br>                 transperent: 2,<br>                 speed: 161,<br>                 type: 1,<br>                 connectionScore: 1291,<br>                 availbelScore: 10,<br>                 connectionScoreDate: 1475638336000,<br>                 availbelScoreDate: 1475636727000,<br>                 createtime: 1473840882000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 5421,<br>                 ip: 221.237.155.64,<br>                 proxyIp: 221.237.155.64,<br>                 port: 9797,<br>                 ipValue: 3723336512,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 500000,<br>                 regionId: 510000,<br>                 cityId: 510100,<br>                 ispId: 100017,<br>                 transperent: 2,<br>                 speed: 3238,<br>                 type: 1,<br>                 connectionScore: 119,<br>                 availbelScore: -1,<br>                 connectionScoreDate: 1475611973000,<br>                 availbelScoreDate: 1475629954000,<br>                 createtime: 1473840773000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 8722,<br>                 ip: 58.243.0.162,<br>                 proxyIp: 58.243.0.162,<br>                 port: 9999,<br>                 ipValue: 989003938,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 300000,<br>                 regionId: 340000,<br>                 cityId: 340800,<br>                 ispId: 100026,<br>                 transperent: 2,<br>                 speed: 5143,<br>                 type: 1,<br>                 connectionScore: 154,<br>                 availbelScore: -3,<br>                 connectionScoreDate: 1475665673000,<br>                 availbelScoreDate: 1475614147000,<br>                 createtime: 1473839836000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 11698,<br>                 ip: 218.7.170.190,<br>                 proxyIp: 218.7.170.190,<br>                 port: 3128,<br>                 ipValue: 3657935550,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 200000,<br>                 regionId: 230000,<br>                 cityId: 231200,<br>                 ispId: 100026,<br>                 transperent: 2,<br>                 speed: 3145,<br>                 type: 1,<br>                 connectionScore: 317,<br>                 availbelScore: -1,<br>                 connectionScoreDate: 1475642001000,<br>                 availbelScoreDate: 1475524810000,<br>                 createtime: 1473839128000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 13318,<br>                 ip: 220.249.185.178,<br>                 proxyIp: 220.249.185.178,<br>                 port: 9999,<br>                 ipValue: 3707353522,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 300000,<br>                 regionId: 350000,<br>                 cityId: 350100,<br>                 ispId: 100026,<br>                 transperent: 2,<br>                 speed: 5094,<br>                 type: 1,<br>                 connectionScore: 129,<br>                 availbelScore: -1,<br>                 connectionScoreDate: 1475615670000,<br>                 availbelScoreDate: 1475585178000,<br>                 createtime: 1473840539000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 57033,<br>                 ip: 210.245.25.228,<br>                 proxyIp: 210.245.25.228,<br>                 port: 3128,<br>                 ipValue: 3539278308,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: VN,<br>                 areaId: ,<br>                 regionId: ,<br>                 cityId: ,<br>                 ispId: ,<br>                 transperent: 2,<br>                 speed: 1024,<br>                 type: 1,<br>                 connectionScore: 488,<br>                 availbelScore: 36,<br>                 connectionScoreDate: 1475635386000,<br>                 availbelScoreDate: 1475630473000,<br>                 createtime: 1473836572000,<br>                 lostheader: false<br>             },<br>             {<br>                 id: 124334,<br>                 ip: 60.194.72.253,<br>                 proxyIp: 60.194.72.253,<br>                 port: 3128,<br>                 ipValue: 1019365629,<br>                 country: ,<br>                 area: ,<br>                 region: ,<br>                 city: ,<br>                 isp: ,<br>                 countryId: CN,<br>                 areaId: 100000,<br>                 regionId: 110000,<br>                 cityId: 110100,<br>                 ispId: 1000143,<br>                 transperent: 2,<br>                 speed: 2366,<br>                 type: 1,<br>                 connectionScore: 610,<br>                 availbelScore: 16,<br>                 connectionScoreDate: 1475643516000,<br>                 availbelScoreDate: 1475631080000,<br>                 createtime: 1473839561000,<br>                 lostheader: false<br>             }<br>         ],<br>         num: 10,<br>         sign: 9999#C99+999#9B99B99999##Y9999+9999999999999999999999t9999s99999999s9999999999999999999999999999#99999999999999GB999999999G9999s9s99999#9999999999Y9+999##99999999+99999999999999+999999999999B999+Y9999G9+99999999999YB99999999999999999999999+99Y999999999B9999G999s99G999999999#99999#9Y999s999999999#B99999999999999999999+999999Y9999999Y9999999999999Y9999Y999999999999999<br>     },<br>     status: true<br> }<br><code></code></p>\n<h2 id=\"proxyipcenter-client\"><a href=\"#proxyipcenter-client\" class=\"headerlink\" title=\"proxyipcenter client\"></a>proxyipcenter client</h2><h3 id=\"client-\"><a href=\"#client-\" class=\"headerlink\" title=\"client \"></a><a href=\"http://git.oschina.net/virjar/proxyipcenter/blob/master/doc/client/design/README.md\" target=\"_blank\" rel=\"noopener\">client </a></h3><h3 id=\"client-\"><a href=\"#client-\" class=\"headerlink\" title=\"client \"></a><a href=\"http://git.oschina.net/virjar/proxyipcenter/blob/master/doc/client/userGuide/README.md\" target=\"_blank\" rel=\"noopener\">client </a></h3><p>client<br>IP,dunproxy-client,</p>\n<p>clientIP,IP:</p>\n<ol>\n<li><p>IP,,IP,IP</p>\n</li>\n<li><p>IP,IP,</p>\n</li>\n</ol>\n<h2 id=\"IpPoolAPIIP\"><a href=\"#IpPoolAPIIP\" class=\"headerlink\" title=\"IpPoolAPIIP\"></a>IpPoolAPIIP</h2><h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP <code>IpPool.getInstance().bind(domain, accessUrl);</code> </p>\n<ul>\n<li>,null,nullaccessUrl schemahost</li>\n<li>url, null,nulldomain</li>\n</ul>\n<p>,IP,,,IP,serverIP,</p>\n<h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP,IP,IP,IP,IP<br>:<code>com.virjar.dungproxy.client.model.AvProxy.recordUsage</code></p>\n<h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP,IP,IP,IP,IP<br>:<code>com.virjar.dungproxy.client.model.AvProxy.recordFailed()</code></p>\n<h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP,IP,<code>com.virjar.dungproxy.client.model.AvProxy.offline()</code><br>,IPIP,IP,IP,IP,API</p>\n<h3 id=\"IP\"><a href=\"#IP\" class=\"headerlink\" title=\"IP\"></a>IP</h3><p>IP,,,IP,IP dump<br>:<code>com.virjar.dungproxy.client.ippool.IpPool.destroy</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>IP,,</p>\n<h2 id=\"TODO-\"><a href=\"#TODO-\" class=\"headerlink\" title=\"TODO \"></a>TODO </h2><ol>\n<li>.NET/.NET core client ()</li>\n<li>Python client()</li>\n<li>Golang client()</li>\n</ol>\n"},{"layout":"post","title":"requirejs","date":"2016-10-21T16:00:00.000Z","_content":"\n### \njavascriptjavascriptscript\n\nHTML\n\nJSJS\n\nHTMLJS\n\n\n\n```\n<script src=\"1.js\"></script>\n<script src=\"2.js\"></script>\n<script src=\"3.js\"></script>\n<script src=\"4.js\"></script>\n<script src=\"5.js\"></script>\n<script src=\"6.js\"></script>\n```\nscriptjs\n\n[Javascriptrequire.js](http://www.ruanyifeng.com/blog/2012/11/require_js.html)\n\n```\n\n\njs1.js2.js.\n\n\n```\n\nrequirejs\n\n### [requirejs](http://requirejs.org/docs/download.html)\n\n[](http://requirejs.org/docs/download.html)requirejs \n```\n<script src=\"js/require.js\"></script>\n```\nrequire.js\n\n1. \n\n2. \n\n```\n<script src=\"js/require.js\" defer async=\"true\" ></script>\n```\n[async](http://www.w3school.com.cn/html5/att_script_async.asp) \n\nIEdeferdefer\n\n### \nrequirerequiredata-main\njs/home.js,\n```\n<script src=\"js/require.js\" data-main=\"js/home\"></script>\n  //require.jsjshome.jshome\n```\n[58HouseSearch](https://github.com/liguobao/58HouseSearch) \n\nJSjsJSJS\n\nhome.js\n\nhome.jsrequire.config.\n```\nrequire.config({\n    baseUrl: '/DomainJS/',\n    paths: {\n        jquery: \"lib/jquery-1.11.3.min\",\n        \"AMUI\": \"lib/amazeui.2.7.1.min\",\n        \"jquery.range\": \"lib/jquery.range\",\n        \"es5\": \"lib/es5\",\n        \"mapController\": \"mapController\",\n        \"addToolbar\": \"addToolbar\",\n    },\n    shim: {\n        \"addToolbar\": {\n            deps: [\"jquery\"]\n        },\n        \"jquery.range\": {\n            deps: [\"jquery\"]\n        }\n    }\n});\n\n```\nbaseURL()paths()shim(\ndefine()\"\")\n\nrequire.config\n\n1. [RequireJS:](https://segmentfault.com/a/1190000002401665) \n2. [RequireJS:](https://segmentfault.com/a/1190000002403806)\n\n,require\n\n\n```\nrequire(['domready!', 'jquery', 'AMUI', 'mapController', 'city', 'commuteGo'], function (doc, $, AMUI, mapController, city, commuteGo) {\n    city.initAllCityInfo();\n    mapController.init();\n\n    $(\"input[name='locationType']\").bind('click', mapController.locationMethodOnChange)\n\n    $(\"input[name='vehicle']\").bind('click', commuteGo.go)\n\n    $('#Get58Data').bind('click', function(e) {\n        e.preventDefault();\n     \n        mapController.Get58DataClick();\n        e.stopPropagation();\n    });\n\n \n    $.ajax({\n        type: \"post\",\n        url: \"../Commom/GetPVCount\",\n        data: { },\n        success: function (result)\n        {\n            if (result.IsSuccess){\n                $(\"#lblPVCount\").text(result.PVCount);\n            }else {\n                $(\"#lblPVCount\").text(0);\n                console.log(result.Error);\n            }\n        }\n    });\n\n    $('#search-offcanvas').offCanvas({ effect: 'overlay' });\n\n    $(\".amap-sug-result\").css(\"z-index\", 9999);\n})\n\n```\n\nfunction\n```\nrequire(['domready!', 'jquery', 'AMUI', 'mapController', 'city', 'commuteGo'], \nfunction (doc, $, AMUI, mapController, city, commuteGo){\n\n//todo\n\n});\n\n```\n\n['domready!', 'jquery', 'AMUI', 'mapController', 'city', 'commuteGo']\n\n\n\nrequire()\n\n\n\n### AMD\n\nrequire.jsAMDAMD\n\nAMD[JavascriptAMD](http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html)\n\n\n\n#### \ndefinefunction\n\n[58HouseSearch/DomainJS/helper.js](https://github.com/liguobao/58HouseSearch/blob/master/58HouseSearch/DomainJS/helper.js)\n```\ndefine(function () {\n\n    //URL\n    var getQueryString=  function (name) {\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n        var r = window.location.search.substr(1).match(reg);\n        if (r != null) return unescape(r[2]); return null;\n    }\n    return {\n        getQueryString: getQueryString,\n    };\n})\n```\n\n#### \ndefinerequirefunction\n\n[58HouseSearch/DomainJS/marker.js](https://github.com/liguobao/58HouseSearch/blob/master/58HouseSearch/DomainJS/marker.js)\n```\ndefine(['mapSignleton', 'city', 'transfer'], function(mapSignleton, city, transfer) {\n    var _map = mapSignleton.map;\n    var _workMarker = null;\n    var _markerArray = [];\n    var load = function(x, y, locationName) {\n        _workMarker = new AMap.Marker({\n            map: _map,\n            title: locationName,\n            icon: 'http://webapi.amap.com/theme/v1.3/markers/n/mark_r.png',\n            position: [x, y]\n        });\n    }\n\n    var add = function(address, rent, href, markBG) {\n        new AMap.Geocoder({\n            city: city.name,\n            radius: 1000\n        }).getLocation(address, function(status, result) {\n\n            if (status === \"complete\" && result.info === 'OK') {\n                var geocode = result.geocodes[0];\n                var rentMarker = new AMap.Marker({\n                    map: _map,\n                    title: address,\n                    icon: markBG ? 'IMG/Little/' + markBG : 'http://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n                    position: [geocode.location.getLng(), geocode.location.getLat()]\n                });\n                _markerArray.push(rentMarker);\n\n                rentMarker.content = \"<div><a target = '_blank' href='\" + href + \"'>\" + address + \"  \" + rent + \"</a><div>\"\n                rentMarker.on('click', function(e) {\n                    transfer.add(e, address);\n                });\n            }\n        })\n    };\n\n    var clearArray = function() {\n        if (_markerArray && _markerArray.length > 0) _map.remove(_markerArray);\n        _markerArray = [];\n    }\n\n    var clear = function() {\n        if (_workMarker) {\n            _map.remove(_workMarker);\n        }\n    }\n\n    return {\n        load: load,\n        add: add,\n        clearArray: clearArray,\n        clear: clear\n    };\n});\n\n```\nrequire\n\n\n[Larry Sean](https://www.zhihu.com/people/piratf) \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/javascript_requirejs_rf_code.md","raw":"---\nlayout: post\ntitle: requirejs\ncategory: javascript\ndate: 2016-10-22 00:00:00\ntags:\n- javascript\n- requirejs\n---\n\n### \njavascriptjavascriptscript\n\nHTML\n\nJSJS\n\nHTMLJS\n\n\n\n```\n<script src=\"1.js\"></script>\n<script src=\"2.js\"></script>\n<script src=\"3.js\"></script>\n<script src=\"4.js\"></script>\n<script src=\"5.js\"></script>\n<script src=\"6.js\"></script>\n```\nscriptjs\n\n[Javascriptrequire.js](http://www.ruanyifeng.com/blog/2012/11/require_js.html)\n\n```\n\n\njs1.js2.js.\n\n\n```\n\nrequirejs\n\n### [requirejs](http://requirejs.org/docs/download.html)\n\n[](http://requirejs.org/docs/download.html)requirejs \n```\n<script src=\"js/require.js\"></script>\n```\nrequire.js\n\n1. \n\n2. \n\n```\n<script src=\"js/require.js\" defer async=\"true\" ></script>\n```\n[async](http://www.w3school.com.cn/html5/att_script_async.asp) \n\nIEdeferdefer\n\n### \nrequirerequiredata-main\njs/home.js,\n```\n<script src=\"js/require.js\" data-main=\"js/home\"></script>\n  //require.jsjshome.jshome\n```\n[58HouseSearch](https://github.com/liguobao/58HouseSearch) \n\nJSjsJSJS\n\nhome.js\n\nhome.jsrequire.config.\n```\nrequire.config({\n    baseUrl: '/DomainJS/',\n    paths: {\n        jquery: \"lib/jquery-1.11.3.min\",\n        \"AMUI\": \"lib/amazeui.2.7.1.min\",\n        \"jquery.range\": \"lib/jquery.range\",\n        \"es5\": \"lib/es5\",\n        \"mapController\": \"mapController\",\n        \"addToolbar\": \"addToolbar\",\n    },\n    shim: {\n        \"addToolbar\": {\n            deps: [\"jquery\"]\n        },\n        \"jquery.range\": {\n            deps: [\"jquery\"]\n        }\n    }\n});\n\n```\nbaseURL()paths()shim(\ndefine()\"\")\n\nrequire.config\n\n1. [RequireJS:](https://segmentfault.com/a/1190000002401665) \n2. [RequireJS:](https://segmentfault.com/a/1190000002403806)\n\n,require\n\n\n```\nrequire(['domready!', 'jquery', 'AMUI', 'mapController', 'city', 'commuteGo'], function (doc, $, AMUI, mapController, city, commuteGo) {\n    city.initAllCityInfo();\n    mapController.init();\n\n    $(\"input[name='locationType']\").bind('click', mapController.locationMethodOnChange)\n\n    $(\"input[name='vehicle']\").bind('click', commuteGo.go)\n\n    $('#Get58Data').bind('click', function(e) {\n        e.preventDefault();\n     \n        mapController.Get58DataClick();\n        e.stopPropagation();\n    });\n\n \n    $.ajax({\n        type: \"post\",\n        url: \"../Commom/GetPVCount\",\n        data: { },\n        success: function (result)\n        {\n            if (result.IsSuccess){\n                $(\"#lblPVCount\").text(result.PVCount);\n            }else {\n                $(\"#lblPVCount\").text(0);\n                console.log(result.Error);\n            }\n        }\n    });\n\n    $('#search-offcanvas').offCanvas({ effect: 'overlay' });\n\n    $(\".amap-sug-result\").css(\"z-index\", 9999);\n})\n\n```\n\nfunction\n```\nrequire(['domready!', 'jquery', 'AMUI', 'mapController', 'city', 'commuteGo'], \nfunction (doc, $, AMUI, mapController, city, commuteGo){\n\n//todo\n\n});\n\n```\n\n['domready!', 'jquery', 'AMUI', 'mapController', 'city', 'commuteGo']\n\n\n\nrequire()\n\n\n\n### AMD\n\nrequire.jsAMDAMD\n\nAMD[JavascriptAMD](http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html)\n\n\n\n#### \ndefinefunction\n\n[58HouseSearch/DomainJS/helper.js](https://github.com/liguobao/58HouseSearch/blob/master/58HouseSearch/DomainJS/helper.js)\n```\ndefine(function () {\n\n    //URL\n    var getQueryString=  function (name) {\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n        var r = window.location.search.substr(1).match(reg);\n        if (r != null) return unescape(r[2]); return null;\n    }\n    return {\n        getQueryString: getQueryString,\n    };\n})\n```\n\n#### \ndefinerequirefunction\n\n[58HouseSearch/DomainJS/marker.js](https://github.com/liguobao/58HouseSearch/blob/master/58HouseSearch/DomainJS/marker.js)\n```\ndefine(['mapSignleton', 'city', 'transfer'], function(mapSignleton, city, transfer) {\n    var _map = mapSignleton.map;\n    var _workMarker = null;\n    var _markerArray = [];\n    var load = function(x, y, locationName) {\n        _workMarker = new AMap.Marker({\n            map: _map,\n            title: locationName,\n            icon: 'http://webapi.amap.com/theme/v1.3/markers/n/mark_r.png',\n            position: [x, y]\n        });\n    }\n\n    var add = function(address, rent, href, markBG) {\n        new AMap.Geocoder({\n            city: city.name,\n            radius: 1000\n        }).getLocation(address, function(status, result) {\n\n            if (status === \"complete\" && result.info === 'OK') {\n                var geocode = result.geocodes[0];\n                var rentMarker = new AMap.Marker({\n                    map: _map,\n                    title: address,\n                    icon: markBG ? 'IMG/Little/' + markBG : 'http://webapi.amap.com/theme/v1.3/markers/n/mark_b.png',\n                    position: [geocode.location.getLng(), geocode.location.getLat()]\n                });\n                _markerArray.push(rentMarker);\n\n                rentMarker.content = \"<div><a target = '_blank' href='\" + href + \"'>\" + address + \"  \" + rent + \"</a><div>\"\n                rentMarker.on('click', function(e) {\n                    transfer.add(e, address);\n                });\n            }\n        })\n    };\n\n    var clearArray = function() {\n        if (_markerArray && _markerArray.length > 0) _map.remove(_markerArray);\n        _markerArray = [];\n    }\n\n    var clear = function() {\n        if (_workMarker) {\n            _map.remove(_workMarker);\n        }\n    }\n\n    return {\n        load: load,\n        add: add,\n        clearArray: clearArray,\n        clear: clear\n    };\n});\n\n```\nrequire\n\n\n[Larry Sean](https://www.zhihu.com/people/piratf) \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"javascript_requirejs_rf_code","published":1,"updated":"2018-05-17T07:59:54.948Z","comments":1,"photos":[],"link":"","_id":"cjha9xxsy000cie1wah09n90g","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>javascriptjavascriptscript</p>\n<p>HTML</p>\n<p>JSJS</p>\n<p>HTMLJS</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;1.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;2.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;3.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;4.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;5.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;6.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p>scriptjs</p>\n<p><a href=\"http://www.ruanyifeng.com/blog/2012/11/require_js.html\" target=\"_blank\" rel=\"noopener\">Javascriptrequire.js</a><br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">js1.js2.js.</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>requirejs</p>\n<h3 id=\"requirejs\"><a href=\"#requirejs\" class=\"headerlink\" title=\"requirejs\"></a><a href=\"http://requirejs.org/docs/download.html\" target=\"_blank\" rel=\"noopener\">requirejs</a></h3><p><a href=\"http://requirejs.org/docs/download.html\" target=\"_blank\" rel=\"noopener\"></a>requirejs <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;js/require.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>\n<p>require.js</p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;js/require.js&quot; defer async=&quot;true&quot; &gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://www.w3school.com.cn/html5/att_script_async.asp\" target=\"_blank\" rel=\"noopener\">async</a> </p>\n<p>IEdeferdefer</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>requirerequiredata-main<br>js/home.js,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;js/require.js&quot; data-main=&quot;js/home&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">//require.jsjshome.jshome</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://github.com/liguobao/58HouseSearch\" target=\"_blank\" rel=\"noopener\">58HouseSearch</a> </p>\n<p>JSjsJSJS</p>\n<p>home.js</p>\n<p>home.jsrequire.config.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require.config(&#123;</span><br><span class=\"line\">    baseUrl: &apos;/DomainJS/&apos;,</span><br><span class=\"line\">    paths: &#123;</span><br><span class=\"line\">        jquery: &quot;lib/jquery-1.11.3.min&quot;,</span><br><span class=\"line\">        &quot;AMUI&quot;: &quot;lib/amazeui.2.7.1.min&quot;,</span><br><span class=\"line\">        &quot;jquery.range&quot;: &quot;lib/jquery.range&quot;,</span><br><span class=\"line\">        &quot;es5&quot;: &quot;lib/es5&quot;,</span><br><span class=\"line\">        &quot;mapController&quot;: &quot;mapController&quot;,</span><br><span class=\"line\">        &quot;addToolbar&quot;: &quot;addToolbar&quot;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    shim: &#123;</span><br><span class=\"line\">        &quot;addToolbar&quot;: &#123;</span><br><span class=\"line\">            deps: [&quot;jquery&quot;]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;jquery.range&quot;: &#123;</span><br><span class=\"line\">            deps: [&quot;jquery&quot;]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>baseURL()paths()shim(<br>define())</p>\n<p>require.config</p>\n<ol>\n<li><a href=\"https://segmentfault.com/a/1190000002401665\" target=\"_blank\" rel=\"noopener\">RequireJS:</a> </li>\n<li><a href=\"https://segmentfault.com/a/1190000002403806\" target=\"_blank\" rel=\"noopener\">RequireJS:</a></li>\n</ol>\n<p>,require<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require([&apos;domready!&apos;, &apos;jquery&apos;, &apos;AMUI&apos;, &apos;mapController&apos;, &apos;city&apos;, &apos;commuteGo&apos;], function (doc, $, AMUI, mapController, city, commuteGo) &#123;</span><br><span class=\"line\">    city.initAllCityInfo();</span><br><span class=\"line\">    mapController.init();</span><br><span class=\"line\"></span><br><span class=\"line\">    $(&quot;input[name=&apos;locationType&apos;]&quot;).bind(&apos;click&apos;, mapController.locationMethodOnChange)</span><br><span class=\"line\"></span><br><span class=\"line\">    $(&quot;input[name=&apos;vehicle&apos;]&quot;).bind(&apos;click&apos;, commuteGo.go)</span><br><span class=\"line\"></span><br><span class=\"line\">    $(&apos;#Get58Data&apos;).bind(&apos;click&apos;, function(e) &#123;</span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\">     </span><br><span class=\"line\">        mapController.Get58DataClick();</span><br><span class=\"line\">        e.stopPropagation();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"> </span><br><span class=\"line\">    $.ajax(&#123;</span><br><span class=\"line\">        type: &quot;post&quot;,</span><br><span class=\"line\">        url: &quot;../Commom/GetPVCount&quot;,</span><br><span class=\"line\">        data: &#123; &#125;,</span><br><span class=\"line\">        success: function (result)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            if (result.IsSuccess)&#123;</span><br><span class=\"line\">                $(&quot;#lblPVCount&quot;).text(result.PVCount);</span><br><span class=\"line\">            &#125;else &#123;</span><br><span class=\"line\">                $(&quot;#lblPVCount&quot;).text(0);</span><br><span class=\"line\">                console.log(result.Error);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    $(&apos;#search-offcanvas&apos;).offCanvas(&#123; effect: &apos;overlay&apos; &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    $(&quot;.amap-sug-result&quot;).css(&quot;z-index&quot;, 9999);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>function<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require([&apos;domready!&apos;, &apos;jquery&apos;, &apos;AMUI&apos;, &apos;mapController&apos;, &apos;city&apos;, &apos;commuteGo&apos;], </span><br><span class=\"line\">function (doc, $, AMUI, mapController, city, commuteGo)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">//todo</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>[domready!, jquery, AMUI, mapController, city, commuteGo]</p>\n<p></p>\n<p>require()</p>\n<p></p>\n<h3 id=\"AMD\"><a href=\"#AMD\" class=\"headerlink\" title=\"AMD\"></a>AMD</h3><p>require.jsAMDAMD</p>\n<p>AMD<a href=\"http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html\" target=\"_blank\" rel=\"noopener\">JavascriptAMD</a></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>definefunction</p>\n<p><a href=\"https://github.com/liguobao/58HouseSearch/blob/master/58HouseSearch/DomainJS/helper.js\" target=\"_blank\" rel=\"noopener\">58HouseSearch/DomainJS/helper.js</a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define(function () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    //URL</span><br><span class=\"line\">    var getQueryString=  function (name) &#123;</span><br><span class=\"line\">        var reg = new RegExp(&quot;(^|&amp;)&quot; + name + &quot;=([^&amp;]*)(&amp;|$)&quot;);</span><br><span class=\"line\">        var r = window.location.search.substr(1).match(reg);</span><br><span class=\"line\">        if (r != null) return unescape(r[2]); return null;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">        getQueryString: getQueryString,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>definerequirefunction</p>\n<p><a href=\"https://github.com/liguobao/58HouseSearch/blob/master/58HouseSearch/DomainJS/marker.js\" target=\"_blank\" rel=\"noopener\">58HouseSearch/DomainJS/marker.js</a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define([&apos;mapSignleton&apos;, &apos;city&apos;, &apos;transfer&apos;], function(mapSignleton, city, transfer) &#123;</span><br><span class=\"line\">    var _map = mapSignleton.map;</span><br><span class=\"line\">    var _workMarker = null;</span><br><span class=\"line\">    var _markerArray = [];</span><br><span class=\"line\">    var load = function(x, y, locationName) &#123;</span><br><span class=\"line\">        _workMarker = new AMap.Marker(&#123;</span><br><span class=\"line\">            map: _map,</span><br><span class=\"line\">            title: locationName,</span><br><span class=\"line\">            icon: &apos;http://webapi.amap.com/theme/v1.3/markers/n/mark_r.png&apos;,</span><br><span class=\"line\">            position: [x, y]</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    var add = function(address, rent, href, markBG) &#123;</span><br><span class=\"line\">        new AMap.Geocoder(&#123;</span><br><span class=\"line\">            city: city.name,</span><br><span class=\"line\">            radius: 1000</span><br><span class=\"line\">        &#125;).getLocation(address, function(status, result) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            if (status === &quot;complete&quot; &amp;&amp; result.info === &apos;OK&apos;) &#123;</span><br><span class=\"line\">                var geocode = result.geocodes[0];</span><br><span class=\"line\">                var rentMarker = new AMap.Marker(&#123;</span><br><span class=\"line\">                    map: _map,</span><br><span class=\"line\">                    title: address,</span><br><span class=\"line\">                    icon: markBG ? &apos;IMG/Little/&apos; + markBG : &apos;http://webapi.amap.com/theme/v1.3/markers/n/mark_b.png&apos;,</span><br><span class=\"line\">                    position: [geocode.location.getLng(), geocode.location.getLat()]</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                _markerArray.push(rentMarker);</span><br><span class=\"line\"></span><br><span class=\"line\">                rentMarker.content = &quot;&lt;div&gt;&lt;a target = &apos;_blank&apos; href=&apos;&quot; + href + &quot;&apos;&gt;&quot; + address + &quot;  &quot; + rent + &quot;&lt;/a&gt;&lt;div&gt;&quot;</span><br><span class=\"line\">                rentMarker.on(&apos;click&apos;, function(e) &#123;</span><br><span class=\"line\">                    transfer.add(e, address);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    var clearArray = function() &#123;</span><br><span class=\"line\">        if (_markerArray &amp;&amp; _markerArray.length &gt; 0) _map.remove(_markerArray);</span><br><span class=\"line\">        _markerArray = [];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    var clear = function() &#123;</span><br><span class=\"line\">        if (_workMarker) &#123;</span><br><span class=\"line\">            _map.remove(_workMarker);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">        load: load,</span><br><span class=\"line\">        add: add,</span><br><span class=\"line\">        clearArray: clearArray,</span><br><span class=\"line\">        clear: clear</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>require</p>\n<p><a href=\"https://www.zhihu.com/people/piratf\" target=\"_blank\" rel=\"noopener\">Larry Sean</a> </p>\n<p></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>javascriptjavascriptscript</p>\n<p>HTML</p>\n<p>JSJS</p>\n<p>HTMLJS</p>\n<p></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;1.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;2.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;3.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;4.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;5.js&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">&lt;script src=&quot;6.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p>scriptjs</p>\n<p><a href=\"http://www.ruanyifeng.com/blog/2012/11/require_js.html\" target=\"_blank\" rel=\"noopener\">Javascriptrequire.js</a><br><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">js1.js2.js.</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></p>\n<p>requirejs</p>\n<h3 id=\"requirejs\"><a href=\"#requirejs\" class=\"headerlink\" title=\"requirejs\"></a><a href=\"http://requirejs.org/docs/download.html\" target=\"_blank\" rel=\"noopener\">requirejs</a></h3><p><a href=\"http://requirejs.org/docs/download.html\" target=\"_blank\" rel=\"noopener\"></a>requirejs <br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;js/require.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>\n<p>require.js</p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;js/require.js&quot; defer async=&quot;true&quot; &gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://www.w3school.com.cn/html5/att_script_async.asp\" target=\"_blank\" rel=\"noopener\">async</a> </p>\n<p>IEdeferdefer</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>requirerequiredata-main<br>js/home.js,<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script src=&quot;js/require.js&quot; data-main=&quot;js/home&quot;&gt;&lt;/script&gt;</span><br><span class=\"line\">//require.jsjshome.jshome</span><br></pre></td></tr></table></figure></p>\n<p><a href=\"https://github.com/liguobao/58HouseSearch\" target=\"_blank\" rel=\"noopener\">58HouseSearch</a> </p>\n<p>JSjsJSJS</p>\n<p>home.js</p>\n<p>home.jsrequire.config.<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require.config(&#123;</span><br><span class=\"line\">    baseUrl: &apos;/DomainJS/&apos;,</span><br><span class=\"line\">    paths: &#123;</span><br><span class=\"line\">        jquery: &quot;lib/jquery-1.11.3.min&quot;,</span><br><span class=\"line\">        &quot;AMUI&quot;: &quot;lib/amazeui.2.7.1.min&quot;,</span><br><span class=\"line\">        &quot;jquery.range&quot;: &quot;lib/jquery.range&quot;,</span><br><span class=\"line\">        &quot;es5&quot;: &quot;lib/es5&quot;,</span><br><span class=\"line\">        &quot;mapController&quot;: &quot;mapController&quot;,</span><br><span class=\"line\">        &quot;addToolbar&quot;: &quot;addToolbar&quot;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    shim: &#123;</span><br><span class=\"line\">        &quot;addToolbar&quot;: &#123;</span><br><span class=\"line\">            deps: [&quot;jquery&quot;]</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &quot;jquery.range&quot;: &#123;</span><br><span class=\"line\">            deps: [&quot;jquery&quot;]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>baseURL()paths()shim(<br>define())</p>\n<p>require.config</p>\n<ol>\n<li><a href=\"https://segmentfault.com/a/1190000002401665\" target=\"_blank\" rel=\"noopener\">RequireJS:</a> </li>\n<li><a href=\"https://segmentfault.com/a/1190000002403806\" target=\"_blank\" rel=\"noopener\">RequireJS:</a></li>\n</ol>\n<p>,require<br></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require([&apos;domready!&apos;, &apos;jquery&apos;, &apos;AMUI&apos;, &apos;mapController&apos;, &apos;city&apos;, &apos;commuteGo&apos;], function (doc, $, AMUI, mapController, city, commuteGo) &#123;</span><br><span class=\"line\">    city.initAllCityInfo();</span><br><span class=\"line\">    mapController.init();</span><br><span class=\"line\"></span><br><span class=\"line\">    $(&quot;input[name=&apos;locationType&apos;]&quot;).bind(&apos;click&apos;, mapController.locationMethodOnChange)</span><br><span class=\"line\"></span><br><span class=\"line\">    $(&quot;input[name=&apos;vehicle&apos;]&quot;).bind(&apos;click&apos;, commuteGo.go)</span><br><span class=\"line\"></span><br><span class=\"line\">    $(&apos;#Get58Data&apos;).bind(&apos;click&apos;, function(e) &#123;</span><br><span class=\"line\">        e.preventDefault();</span><br><span class=\"line\">     </span><br><span class=\"line\">        mapController.Get58DataClick();</span><br><span class=\"line\">        e.stopPropagation();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"> </span><br><span class=\"line\">    $.ajax(&#123;</span><br><span class=\"line\">        type: &quot;post&quot;,</span><br><span class=\"line\">        url: &quot;../Commom/GetPVCount&quot;,</span><br><span class=\"line\">        data: &#123; &#125;,</span><br><span class=\"line\">        success: function (result)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            if (result.IsSuccess)&#123;</span><br><span class=\"line\">                $(&quot;#lblPVCount&quot;).text(result.PVCount);</span><br><span class=\"line\">            &#125;else &#123;</span><br><span class=\"line\">                $(&quot;#lblPVCount&quot;).text(0);</span><br><span class=\"line\">                console.log(result.Error);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    $(&apos;#search-offcanvas&apos;).offCanvas(&#123; effect: &apos;overlay&apos; &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    $(&quot;.amap-sug-result&quot;).css(&quot;z-index&quot;, 9999);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>function<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">require([&apos;domready!&apos;, &apos;jquery&apos;, &apos;AMUI&apos;, &apos;mapController&apos;, &apos;city&apos;, &apos;commuteGo&apos;], </span><br><span class=\"line\">function (doc, $, AMUI, mapController, city, commuteGo)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">//todo</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>[domready!, jquery, AMUI, mapController, city, commuteGo]</p>\n<p></p>\n<p>require()</p>\n<p></p>\n<h3 id=\"AMD\"><a href=\"#AMD\" class=\"headerlink\" title=\"AMD\"></a>AMD</h3><p>require.jsAMDAMD</p>\n<p>AMD<a href=\"http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html\" target=\"_blank\" rel=\"noopener\">JavascriptAMD</a></p>\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>definefunction</p>\n<p><a href=\"https://github.com/liguobao/58HouseSearch/blob/master/58HouseSearch/DomainJS/helper.js\" target=\"_blank\" rel=\"noopener\">58HouseSearch/DomainJS/helper.js</a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define(function () &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    //URL</span><br><span class=\"line\">    var getQueryString=  function (name) &#123;</span><br><span class=\"line\">        var reg = new RegExp(&quot;(^|&amp;)&quot; + name + &quot;=([^&amp;]*)(&amp;|$)&quot;);</span><br><span class=\"line\">        var r = window.location.search.substr(1).match(reg);</span><br><span class=\"line\">        if (r != null) return unescape(r[2]); return null;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">        getQueryString: getQueryString,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>definerequirefunction</p>\n<p><a href=\"https://github.com/liguobao/58HouseSearch/blob/master/58HouseSearch/DomainJS/marker.js\" target=\"_blank\" rel=\"noopener\">58HouseSearch/DomainJS/marker.js</a><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">define([&apos;mapSignleton&apos;, &apos;city&apos;, &apos;transfer&apos;], function(mapSignleton, city, transfer) &#123;</span><br><span class=\"line\">    var _map = mapSignleton.map;</span><br><span class=\"line\">    var _workMarker = null;</span><br><span class=\"line\">    var _markerArray = [];</span><br><span class=\"line\">    var load = function(x, y, locationName) &#123;</span><br><span class=\"line\">        _workMarker = new AMap.Marker(&#123;</span><br><span class=\"line\">            map: _map,</span><br><span class=\"line\">            title: locationName,</span><br><span class=\"line\">            icon: &apos;http://webapi.amap.com/theme/v1.3/markers/n/mark_r.png&apos;,</span><br><span class=\"line\">            position: [x, y]</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    var add = function(address, rent, href, markBG) &#123;</span><br><span class=\"line\">        new AMap.Geocoder(&#123;</span><br><span class=\"line\">            city: city.name,</span><br><span class=\"line\">            radius: 1000</span><br><span class=\"line\">        &#125;).getLocation(address, function(status, result) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            if (status === &quot;complete&quot; &amp;&amp; result.info === &apos;OK&apos;) &#123;</span><br><span class=\"line\">                var geocode = result.geocodes[0];</span><br><span class=\"line\">                var rentMarker = new AMap.Marker(&#123;</span><br><span class=\"line\">                    map: _map,</span><br><span class=\"line\">                    title: address,</span><br><span class=\"line\">                    icon: markBG ? &apos;IMG/Little/&apos; + markBG : &apos;http://webapi.amap.com/theme/v1.3/markers/n/mark_b.png&apos;,</span><br><span class=\"line\">                    position: [geocode.location.getLng(), geocode.location.getLat()]</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">                _markerArray.push(rentMarker);</span><br><span class=\"line\"></span><br><span class=\"line\">                rentMarker.content = &quot;&lt;div&gt;&lt;a target = &apos;_blank&apos; href=&apos;&quot; + href + &quot;&apos;&gt;&quot; + address + &quot;  &quot; + rent + &quot;&lt;/a&gt;&lt;div&gt;&quot;</span><br><span class=\"line\">                rentMarker.on(&apos;click&apos;, function(e) &#123;</span><br><span class=\"line\">                    transfer.add(e, address);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    var clearArray = function() &#123;</span><br><span class=\"line\">        if (_markerArray &amp;&amp; _markerArray.length &gt; 0) _map.remove(_markerArray);</span><br><span class=\"line\">        _markerArray = [];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    var clear = function() &#123;</span><br><span class=\"line\">        if (_workMarker) &#123;</span><br><span class=\"line\">            _map.remove(_workMarker);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return &#123;</span><br><span class=\"line\">        load: load,</span><br><span class=\"line\">        add: add,</span><br><span class=\"line\">        clearArray: clearArray,</span><br><span class=\"line\">        clear: clear</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>require</p>\n<p><a href=\"https://www.zhihu.com/people/piratf\" target=\"_blank\" rel=\"noopener\">Larry Sean</a> </p>\n<p></p>\n"},{"layout":"post","title":"Jenkinsdotnet core","date":"2018-05-07T16:00:00.000Z","_content":"# Jenkins\n\n,Jenkins,:[https://jenkins.io/download/](https://jenkins.io/download/)\n\njenkins,....\n\n??.\n\n,.\n\n## JDK8\n\napt-get install,ubuntu,.\n\n```sh\n\nsudo add-apt-repository ppa:webupd8team/java\n\nsudo apt-get update\n\nsudo apt-get install oracle-java8-installer\n\n```\n\n## jenkins.war + Jenkins\n\n:[http://mirrors.jenkins.io/war-stable/](http://mirrors.jenkins.io/war-stable/)\n\n,[2.107.2](http://mirrors.jenkins.io/war-stable/2.107.2/jenkins.war)\n\njenkins.war,jenkins-home,JENKINS_HOMEjenkins-home(,~/.jenkins)\n\n```sh\n\nwget http://mirrors.jenkins.io/war-stable/2.107.2/jenkins.war;\nmkdir ~/jenkins-home;\nexport JENKINS_HOME=~/jenkins-home;\ntmux;\njava -jar jenkins.war\n\n```\n\njenkins,jenkins.\n\ntmuxjava -jar jenkins.war.\n\n:\n![jenkins](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%886.53.24.png)\n\n\binitialAdminPassword\n\n```log\n\nJenkins initial setup is required. An admin user has been created and a password generated.\nPlease use the following password to proceed to installation:\n\nXXXXXXXXXXXXXX\n\nThis may also be found at: /root/jenkins-home/secrets/initialAdminPassword\n```\n\n8080jenkins,jenkins.\n\nXXXXXXXXXXXXXX,\bjenkins.\n\n\b![jenkins](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%886.58.58.png)\n\n.\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%887.00.12.png)\n\n,.\n\n,.\n\n\bjenkins.\n![jenkins](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%887.02.42.png)\n\n\bjenkins,.\n\ndotnet core docker jenkins.\n\n## dotnet core docker \n\nDockerfile,:\n\n```docker\n\nFROM microsoft/aspnetcore-build:2.0 AS build-env\nWORKDIR /app\n\n# copy csproj and restore as distinct layers\nCOPY *.csproj ./\nRUN dotnet restore\n\n# copy everything else and build\nCOPY . ./\nRUN dotnet publish -c Release -o out\n\n# build runtime image\nFROM microsoft/aspnetcore:2.0\nWORKDIR /app\nCOPY --from=build-env /app/out .\nENTRYPOINT [\"dotnet\", \"dotnet core.dll\"]\n\n```\n\nDockerfile\b\baspnetcore-build,aspnetcore:2.0\b\b,\n\ndotnet core\n\n:[https://github.com/DaoCloud/dotnet-docker-samples](https://github.com/DaoCloud/dotnet-docker-samples)\n\n## docker build + run (,jenkins)\n\n[HouseCrawler.Web](https://github.com/liguobao/58HouseSearch/blob/master/HouseCrawler.Core/HouseCrawler.Web/),\n\n```sh\n\n#!/bin/sh\nimage_version=`date +%Y%m%d%H%M`;\necho $image_version;\ncd ~/code/58HouseSearch/HouseCrawler.Core/HouseCrawler.Web;\ngit pull --rebase origin master;\ndocker stop house-web;\ndocker rm house-web;\ndocker build -t house-web:$image_version .;\ndocker images;\ndocker run -p 8080:80 -v ~/docker-data/house-web/appsettings.json:/app/appsettings.json -v ~/docker-data/house-web/NLogFile/:/app/NLogFile  --restart=always --name house-web -d house-web:$image_version;\ndocker logs house-web;\n\n```\n\nbuild+run,dotnet core,docker images,.\n\n,jenkins,....\n\n## jenkins job\n\n### Job\n\njenkins,\"\"(newJob),:\n\n![newJob](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.10.00.png)\n\njob,\"\",:\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.12.27.png)\n\n### \n\nJob,git,:\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.14.06.png)\n\ngit,jenkinsgit,'From the Jenkins master ~/.ssh',.\n\n![git](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.16.09.png)\n\n\"Branch Specifier (blank for 'any')\t\"master,.\n\n,,.\n\n### \n\n\"\",\"Execute shell\",:\n![Execute shell](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.22.45.png)\n\n?.\n\n```sh\n# ,jenkins-homeworkspace\ncd ~jenkins-home/workspace//Dockerfile;\nimage_version=`date +%Y%m%d%H%M`;\necho $image_version;\n# docker container\ndocker stop house-web;\n# container\ndocker rm house-web;\n# buildtag\ndocker build -t house-web:$image_version .;\ndocker images;\n# build\ndocker run -p 8080:80 -v ~/docker-data/house-web/appsettings.json:/app/appsettings.json -v ~/docker-data/house-web/NLogFile/:/app/NLogFile  --restart=always --name house-web -d house-web:$image_version;\ndocker logs house-web;\n```\n\njenkins,, start_XXX.sh.\n\n\n\n```sh\nssh username@IP '~/start_XXX.sh'\n```\n\nps:jenkins[ssh](https://blog.csdn.net/wind520/article/details/38421359)\n\n### \n\n,.\n\n1.  Build periodically, or N\n2. Poll SCMSCM,\n3. GitHub hook trigger for GITScm polling Gitwebhook\n4. Generic Webhook Trigger,webhook.\n\n4,Generic Webhook Trigger,.\n\nGeneric Webhook Trigger\"--\"\"Generic Webhook Trigger\".\n\n,jenkinsdocker build,build,\n\nbuildor,docker images.\n\n?,.\"\"\n\n### -\n\n,,[https://cr.console.aliyun.com/](https://cr.console.aliyun.com/)\n\n,.\n\n\"\".\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.51.25.png)\n\n--()--(GitHub/code/Bitbucket/Gitlab/Git,)\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.54.10.png)\n\n\"\",,Dockerfile,\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.57.50.png)\n\n.\n\n![aliyun-](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.00.51.png)\n\n\"\",.\n![build ](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.02.00.png)\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.02.49.png)\n\n,docker pull registry-internal.cn-hangzhou.aliyuncs.com// build.\n\nbuild,?\n\nwebhook.\n\n### jenkins webhook\n\n,webhook,:[-webhook](https://help.aliyun.com/document_detail/60949.html?spm=5176.8351553.0.0.645319912fjxim)\n\n![-webhook](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.08.45.png)\n\nwebhook,,Generic Webhook Trigger?\n\nwebhook API.\n\n:\n\ngit -> -> webhook -> jenkinswebhookjob ->run ->.\n\nGeneric Webhook Trigger.\n\nGeneric Webhook TriggerURL:\n\n``` http\nhttp://jenkins:token@jenkins IP:8080/generic-webhook-trigger/invoke?token=\n```\n\njenkinstoken\"--API Token-Show API Token...\",.\n\ntoken\"\"\"\",job.:\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.21.13.png)\n\njenkinsPrevent Cross Site Request Forgery exploits)\",webhook.\n\nhttp://jenkins:token@jenkins IP:8080/generic-webhook-trigger/invoke?token=\njenkins Job,ok.\n\n\"---webhook-\"\n![webhook-](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.27.02.png)\n\nPS:webhookor \"-\",,.\n\n,.\n\njenkins,build docker,\b.\n\n```sh\n# docker container\ndocker stop house-web;\n# container\ndocker rm house-web;\ndocker pull ;\n# build\ndocker run --restart=always --name contianer ;\n\n```\n\n### \n\n1. jenkins\n2. Dockerfile,+docker+\n3. \b\b\b-docker,\bwebhookjenkins\n4. \bjenkins webhook,\n5. /,\bDockerfile\n6. ...","source":"_posts/jenkins-dotnetcore.md","raw":"---\nlayout: post\ntitle: Jenkinsdotnet core\ncategory: dotnet core\ndate: 2018-05-08 00:00:00\n---\n# Jenkins\n\n,Jenkins,:[https://jenkins.io/download/](https://jenkins.io/download/)\n\njenkins,....\n\n??.\n\n,.\n\n## JDK8\n\napt-get install,ubuntu,.\n\n```sh\n\nsudo add-apt-repository ppa:webupd8team/java\n\nsudo apt-get update\n\nsudo apt-get install oracle-java8-installer\n\n```\n\n## jenkins.war + Jenkins\n\n:[http://mirrors.jenkins.io/war-stable/](http://mirrors.jenkins.io/war-stable/)\n\n,[2.107.2](http://mirrors.jenkins.io/war-stable/2.107.2/jenkins.war)\n\njenkins.war,jenkins-home,JENKINS_HOMEjenkins-home(,~/.jenkins)\n\n```sh\n\nwget http://mirrors.jenkins.io/war-stable/2.107.2/jenkins.war;\nmkdir ~/jenkins-home;\nexport JENKINS_HOME=~/jenkins-home;\ntmux;\njava -jar jenkins.war\n\n```\n\njenkins,jenkins.\n\ntmuxjava -jar jenkins.war.\n\n:\n![jenkins](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%886.53.24.png)\n\n\binitialAdminPassword\n\n```log\n\nJenkins initial setup is required. An admin user has been created and a password generated.\nPlease use the following password to proceed to installation:\n\nXXXXXXXXXXXXXX\n\nThis may also be found at: /root/jenkins-home/secrets/initialAdminPassword\n```\n\n8080jenkins,jenkins.\n\nXXXXXXXXXXXXXX,\bjenkins.\n\n\b![jenkins](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%886.58.58.png)\n\n.\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%887.00.12.png)\n\n,.\n\n,.\n\n\bjenkins.\n![jenkins](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%887.02.42.png)\n\n\bjenkins,.\n\ndotnet core docker jenkins.\n\n## dotnet core docker \n\nDockerfile,:\n\n```docker\n\nFROM microsoft/aspnetcore-build:2.0 AS build-env\nWORKDIR /app\n\n# copy csproj and restore as distinct layers\nCOPY *.csproj ./\nRUN dotnet restore\n\n# copy everything else and build\nCOPY . ./\nRUN dotnet publish -c Release -o out\n\n# build runtime image\nFROM microsoft/aspnetcore:2.0\nWORKDIR /app\nCOPY --from=build-env /app/out .\nENTRYPOINT [\"dotnet\", \"dotnet core.dll\"]\n\n```\n\nDockerfile\b\baspnetcore-build,aspnetcore:2.0\b\b,\n\ndotnet core\n\n:[https://github.com/DaoCloud/dotnet-docker-samples](https://github.com/DaoCloud/dotnet-docker-samples)\n\n## docker build + run (,jenkins)\n\n[HouseCrawler.Web](https://github.com/liguobao/58HouseSearch/blob/master/HouseCrawler.Core/HouseCrawler.Web/),\n\n```sh\n\n#!/bin/sh\nimage_version=`date +%Y%m%d%H%M`;\necho $image_version;\ncd ~/code/58HouseSearch/HouseCrawler.Core/HouseCrawler.Web;\ngit pull --rebase origin master;\ndocker stop house-web;\ndocker rm house-web;\ndocker build -t house-web:$image_version .;\ndocker images;\ndocker run -p 8080:80 -v ~/docker-data/house-web/appsettings.json:/app/appsettings.json -v ~/docker-data/house-web/NLogFile/:/app/NLogFile  --restart=always --name house-web -d house-web:$image_version;\ndocker logs house-web;\n\n```\n\nbuild+run,dotnet core,docker images,.\n\n,jenkins,....\n\n## jenkins job\n\n### Job\n\njenkins,\"\"(newJob),:\n\n![newJob](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.10.00.png)\n\njob,\"\",:\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.12.27.png)\n\n### \n\nJob,git,:\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.14.06.png)\n\ngit,jenkinsgit,'From the Jenkins master ~/.ssh',.\n\n![git](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.16.09.png)\n\n\"Branch Specifier (blank for 'any')\t\"master,.\n\n,,.\n\n### \n\n\"\",\"Execute shell\",:\n![Execute shell](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.22.45.png)\n\n?.\n\n```sh\n# ,jenkins-homeworkspace\ncd ~jenkins-home/workspace//Dockerfile;\nimage_version=`date +%Y%m%d%H%M`;\necho $image_version;\n# docker container\ndocker stop house-web;\n# container\ndocker rm house-web;\n# buildtag\ndocker build -t house-web:$image_version .;\ndocker images;\n# build\ndocker run -p 8080:80 -v ~/docker-data/house-web/appsettings.json:/app/appsettings.json -v ~/docker-data/house-web/NLogFile/:/app/NLogFile  --restart=always --name house-web -d house-web:$image_version;\ndocker logs house-web;\n```\n\njenkins,, start_XXX.sh.\n\n\n\n```sh\nssh username@IP '~/start_XXX.sh'\n```\n\nps:jenkins[ssh](https://blog.csdn.net/wind520/article/details/38421359)\n\n### \n\n,.\n\n1.  Build periodically, or N\n2. Poll SCMSCM,\n3. GitHub hook trigger for GITScm polling Gitwebhook\n4. Generic Webhook Trigger,webhook.\n\n4,Generic Webhook Trigger,.\n\nGeneric Webhook Trigger\"--\"\"Generic Webhook Trigger\".\n\n,jenkinsdocker build,build,\n\nbuildor,docker images.\n\n?,.\"\"\n\n### -\n\n,,[https://cr.console.aliyun.com/](https://cr.console.aliyun.com/)\n\n,.\n\n\"\".\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.51.25.png)\n\n--()--(GitHub/code/Bitbucket/Gitlab/Git,)\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.54.10.png)\n\n\"\",,Dockerfile,\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.57.50.png)\n\n.\n\n![aliyun-](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.00.51.png)\n\n\"\",.\n![build ](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.02.00.png)\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.02.49.png)\n\n,docker pull registry-internal.cn-hangzhou.aliyuncs.com// build.\n\nbuild,?\n\nwebhook.\n\n### jenkins webhook\n\n,webhook,:[-webhook](https://help.aliyun.com/document_detail/60949.html?spm=5176.8351553.0.0.645319912fjxim)\n\n![-webhook](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.08.45.png)\n\nwebhook,,Generic Webhook Trigger?\n\nwebhook API.\n\n:\n\ngit -> -> webhook -> jenkinswebhookjob ->run ->.\n\nGeneric Webhook Trigger.\n\nGeneric Webhook TriggerURL:\n\n``` http\nhttp://jenkins:token@jenkins IP:8080/generic-webhook-trigger/invoke?token=\n```\n\njenkinstoken\"--API Token-Show API Token...\",.\n\ntoken\"\"\"\",job.:\n\n![](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.21.13.png)\n\njenkinsPrevent Cross Site Request Forgery exploits)\",webhook.\n\nhttp://jenkins:token@jenkins IP:8080/generic-webhook-trigger/invoke?token=\njenkins Job,ok.\n\n\"---webhook-\"\n![webhook-](http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.27.02.png)\n\nPS:webhookor \"-\",,.\n\n,.\n\njenkins,build docker,\b.\n\n```sh\n# docker container\ndocker stop house-web;\n# container\ndocker rm house-web;\ndocker pull ;\n# build\ndocker run --restart=always --name contianer ;\n\n```\n\n### \n\n1. jenkins\n2. Dockerfile,+docker+\n3. \b\b\b-docker,\bwebhookjenkins\n4. \bjenkins webhook,\n5. /,\bDockerfile\n6. ...","slug":"jenkins-dotnetcore","published":1,"updated":"2018-05-17T07:59:54.948Z","comments":1,"photos":[],"link":"","_id":"cjha9xxt0000die1wc8n0r25f","content":"<h1 id=\"Jenkins\"><a href=\"#Jenkins\" class=\"headerlink\" title=\"Jenkins\"></a>Jenkins</h1><p>,Jenkins,:<a href=\"https://jenkins.io/download/\" target=\"_blank\" rel=\"noopener\">https://jenkins.io/download/</a></p>\n<p>jenkins,.</p>\n<p>??.</p>\n<p>,.</p>\n<h2 id=\"JDK8\"><a href=\"#JDK8\" class=\"headerlink\" title=\"JDK8\"></a>JDK8</h2><p>apt-get install,ubuntu,.</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">sudo add-apt-repository ppa:webupd8team/java</span><br><span class=\"line\"></span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\">sudo apt-get install oracle-java8-installer</span><br></pre></td></tr></table></figure>\n<h2 id=\"jenkins-war-Jenkins\"><a href=\"#jenkins-war-Jenkins\" class=\"headerlink\" title=\"jenkins.war + Jenkins\"></a>jenkins.war + Jenkins</h2><p>:<a href=\"http://mirrors.jenkins.io/war-stable/\" target=\"_blank\" rel=\"noopener\">http://mirrors.jenkins.io/war-stable/</a></p>\n<p>,<a href=\"http://mirrors.jenkins.io/war-stable/2.107.2/jenkins.war\" target=\"_blank\" rel=\"noopener\">2.107.2</a></p>\n<p>jenkins.war,jenkins-home,JENKINS_HOMEjenkins-home(,~/.jenkins)</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">wget http://mirrors.jenkins.io/war-stable/2.107.2/jenkins.war;</span><br><span class=\"line\">mkdir ~/jenkins-home;</span><br><span class=\"line\"><span class=\"built_in\">export</span> JENKINS_HOME=~/jenkins-home;</span><br><span class=\"line\">tmux;</span><br><span class=\"line\">java -jar jenkins.war</span><br></pre></td></tr></table></figure>\n<p>jenkins,jenkins.</p>\n<p>tmuxjava -jar jenkins.war.</p>\n<p>:<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%886.53.24.png\" alt=\"jenkins\"></p>\n<p>\binitialAdminPassword</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">Jenkins initial setup is required. An admin user has been created and a password generated.</span><br><span class=\"line\">Please use the following password to proceed to installation:</span><br><span class=\"line\"></span><br><span class=\"line\">XXXXXXXXXXXXXX</span><br><span class=\"line\"></span><br><span class=\"line\">This may also be found at: /root/jenkins-home/secrets/initialAdminPassword</span><br></pre></td></tr></table></figure>\n<p>8080jenkins,jenkins.</p>\n<p>XXXXXXXXXXXXXX,\bjenkins.</p>\n<p>\b<img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%886.58.58.png\" alt=\"jenkins\"></p>\n<p>.</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%887.00.12.png\" alt=\"\"></p>\n<p>,.</p>\n<p>,.</p>\n<p>\bjenkins.<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%887.02.42.png\" alt=\"jenkins\"></p>\n<p>\bjenkins,.</p>\n<p>dotnet core docker jenkins.</p>\n<h2 id=\"dotnet-core-docker-\"><a href=\"#dotnet-core-docker-\" class=\"headerlink\" title=\"dotnet core docker \"></a>dotnet core docker </h2><p>Dockerfile,:</p>\n<figure class=\"highlight docker\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">FROM</span> microsoft/aspnetcore-build:<span class=\"number\">2.0</span> AS build-<span class=\"keyword\">env</span></span><br><span class=\"line\"><span class=\"keyword\">WORKDIR</span><span class=\"bash\"> /app</span></span><br><span class=\"line\"><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"bash\"><span class=\"comment\"># copy csproj and restore as distinct layers</span></span></span><br><span class=\"line\"><span class=\"bash\">COPY *.csproj ./</span></span><br><span class=\"line\"><span class=\"bash\">RUN dotnet restore</span></span><br><span class=\"line\"><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"bash\"><span class=\"comment\"># copy everything else and build</span></span></span><br><span class=\"line\"><span class=\"bash\">COPY . ./</span></span><br><span class=\"line\"><span class=\"bash\">RUN dotnet publish -c Release -o out</span></span><br><span class=\"line\"><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"bash\"><span class=\"comment\"># build runtime image</span></span></span><br><span class=\"line\"><span class=\"bash\">FROM microsoft/aspnetcore:2.0</span></span><br><span class=\"line\"><span class=\"bash\">WORKDIR /app</span></span><br><span class=\"line\"><span class=\"bash\">COPY --from=build-env /app/out .</span></span><br><span class=\"line\"><span class=\"bash\">ENTRYPOINT [<span class=\"string\">\"dotnet\"</span>, <span class=\"string\">\"dotnet core.dll\"</span>]</span></span><br></pre></td></tr></table></figure>\n<p>Dockerfile\b\baspnetcore-build,aspnetcore:2.0\b\b,</p>\n<p>dotnet core</p>\n<p>:<a href=\"https://github.com/DaoCloud/dotnet-docker-samples\" target=\"_blank\" rel=\"noopener\">https://github.com/DaoCloud/dotnet-docker-samples</a></p>\n<h2 id=\"docker-build-run---jenkins\"><a href=\"#docker-build-run---jenkins\" class=\"headerlink\" title=\"docker build + run (,jenkins)\"></a>docker build + run (,jenkins)</h2><p><a href=\"https://github.com/liguobao/58HouseSearch/blob/master/HouseCrawler.Core/HouseCrawler.Web/\" target=\"_blank\" rel=\"noopener\">HouseCrawler.Web</a>,</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\">image_version=`date +%Y%m%d%H%M`;</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$image_version</span>;</span><br><span class=\"line\"><span class=\"built_in\">cd</span> ~/code/58HouseSearch/HouseCrawler.Core/HouseCrawler.Web;</span><br><span class=\"line\">git pull --rebase origin master;</span><br><span class=\"line\">docker stop house-web;</span><br><span class=\"line\">docker rm house-web;</span><br><span class=\"line\">docker build -t house-web:<span class=\"variable\">$image_version</span> .;</span><br><span class=\"line\">docker images;</span><br><span class=\"line\">docker run -p 8080:80 -v ~/docker-data/house-web/appsettings.json:/app/appsettings.json -v ~/docker-data/house-web/NLogFile/:/app/NLogFile  --restart=always --name house-web -d house-web:<span class=\"variable\">$image_version</span>;</span><br><span class=\"line\">docker logs house-web;</span><br></pre></td></tr></table></figure>\n<p>build+run,dotnet core,docker images,.</p>\n<p>,jenkins,.</p>\n<h2 id=\"jenkins-job\"><a href=\"#jenkins-job\" class=\"headerlink\" title=\"jenkins job\"></a>jenkins job</h2><h3 id=\"Job\"><a href=\"#Job\" class=\"headerlink\" title=\"Job\"></a>Job</h3><p>jenkins,(newJob),:</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.10.00.png\" alt=\"newJob\"></p>\n<p>job,,:</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.12.27.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Job,git,:<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.14.06.png\" alt=\"\"></p>\n<p>git,jenkinsgit,From the Jenkins master ~/.ssh,.</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.16.09.png\" alt=\"git\"></p>\n<p>Branch Specifier (blank for any)    master,.</p>\n<p>,,.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,Execute shell,:<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.22.45.png\" alt=\"Execute shell\"></p>\n<p>?.</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ,jenkins-homeworkspace</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> ~jenkins-home/workspace//Dockerfile;</span><br><span class=\"line\">image_version=`date +%Y%m%d%H%M`;</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$image_version</span>;</span><br><span class=\"line\"><span class=\"comment\"># docker container</span></span><br><span class=\"line\">docker stop house-web;</span><br><span class=\"line\"><span class=\"comment\"># container</span></span><br><span class=\"line\">docker rm house-web;</span><br><span class=\"line\"><span class=\"comment\"># buildtag</span></span><br><span class=\"line\">docker build -t house-web:<span class=\"variable\">$image_version</span> .;</span><br><span class=\"line\">docker images;</span><br><span class=\"line\"><span class=\"comment\"># build</span></span><br><span class=\"line\">docker run -p 8080:80 -v ~/docker-data/house-web/appsettings.json:/app/appsettings.json -v ~/docker-data/house-web/NLogFile/:/app/NLogFile  --restart=always --name house-web -d house-web:<span class=\"variable\">$image_version</span>;</span><br><span class=\"line\">docker logs house-web;</span><br></pre></td></tr></table></figure>\n<p>jenkins,, start_XXX.sh.</p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh username@IP <span class=\"string\">'~/start_XXX.sh'</span></span><br></pre></td></tr></table></figure>\n<p>ps:jenkins<a href=\"https://blog.csdn.net/wind520/article/details/38421359\" target=\"_blank\" rel=\"noopener\">ssh</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,.</p>\n<ol>\n<li> Build periodically, or N</li>\n<li>Poll SCMSCM,</li>\n<li>GitHub hook trigger for GITScm polling Gitwebhook</li>\n<li>Generic Webhook Trigger,webhook.</li>\n</ol>\n<p>4,Generic Webhook Trigger,.</p>\n<p>Generic Webhook Trigger--Generic Webhook Trigger.</p>\n<p>,jenkinsdocker build,build,</p>\n<p>buildor,docker images.</p>\n<p>?,.</p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"-\"></a>-</h3><p>,,<a href=\"https://cr.console.aliyun.com/\" target=\"_blank\" rel=\"noopener\">https://cr.console.aliyun.com/</a></p>\n<p>,.</p>\n<p>.</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.51.25.png\" alt=\"\"></p>\n<p>--()--(GitHub/code/Bitbucket/Gitlab/Git,)</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.54.10.png\" alt=\"\"></p>\n<p>,,Dockerfile,<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.57.50.png\" alt=\"\"></p>\n<p>.</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.00.51.png\" alt=\"aliyun-\"></p>\n<p>,.<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.02.00.png\" alt=\"build \"></p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.02.49.png\" alt=\"\"></p>\n<p>,docker pull registry-internal.cn-hangzhou.aliyuncs.com// build.</p>\n<p>build,?</p>\n<p>webhook.</p>\n<h3 id=\"jenkins-webhook\"><a href=\"#jenkins-webhook\" class=\"headerlink\" title=\"jenkins webhook\"></a>jenkins webhook</h3><p>,webhook,:<a href=\"https://help.aliyun.com/document_detail/60949.html?spm=5176.8351553.0.0.645319912fjxim\" target=\"_blank\" rel=\"noopener\">-webhook</a></p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.08.45.png\" alt=\"-webhook\"></p>\n<p>webhook,,Generic Webhook Trigger?</p>\n<p>webhook API.</p>\n<p>:</p>\n<p>git -&gt; -&gt; webhook -&gt; jenkinswebhookjob -&gt;run -&gt;.</p>\n<p>Generic Webhook Trigger.</p>\n<p>Generic Webhook TriggerURL:</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://jenkins:token@jenkins IP:8080/generic-webhook-trigger/invoke?token=</span><br></pre></td></tr></table></figure>\n<p>jenkinstoken--API Token-Show API Token,.</p>\n<p>token,job.:</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.21.13.png\" alt=\"\"></p>\n<p>jenkinsPrevent Cross Site Request Forgery exploits),webhook.</p>\n<p><a href=\"http://jenkins:token@jenkins\" target=\"_blank\" rel=\"noopener\">http://jenkins:token@jenkins</a> IP:8080/generic-webhook-trigger/invoke?token=<br>jenkins Job,ok.</p>\n<p>---webhook-<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.27.02.png\" alt=\"webhook-\"></p>\n<p>PS:webhookor -,,.</p>\n<p>,.</p>\n<p>jenkins,build docker,\b.</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># docker container</span></span><br><span class=\"line\">docker stop house-web;</span><br><span class=\"line\"><span class=\"comment\"># container</span></span><br><span class=\"line\">docker rm house-web;</span><br><span class=\"line\">docker pull ;</span><br><span class=\"line\"><span class=\"comment\"># build</span></span><br><span class=\"line\">docker run --restart=always --name contianer ;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>jenkins</li>\n<li>Dockerfile,+docker+</li>\n<li>\b\b\b-docker,\bwebhookjenkins</li>\n<li>\bjenkins webhook,</li>\n<li>/,\bDockerfile</li>\n<li></li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"Jenkins\"><a href=\"#Jenkins\" class=\"headerlink\" title=\"Jenkins\"></a>Jenkins</h1><p>,Jenkins,:<a href=\"https://jenkins.io/download/\" target=\"_blank\" rel=\"noopener\">https://jenkins.io/download/</a></p>\n<p>jenkins,.</p>\n<p>??.</p>\n<p>,.</p>\n<h2 id=\"JDK8\"><a href=\"#JDK8\" class=\"headerlink\" title=\"JDK8\"></a>JDK8</h2><p>apt-get install,ubuntu,.</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">sudo add-apt-repository ppa:webupd8team/java</span><br><span class=\"line\"></span><br><span class=\"line\">sudo apt-get update</span><br><span class=\"line\"></span><br><span class=\"line\">sudo apt-get install oracle-java8-installer</span><br></pre></td></tr></table></figure>\n<h2 id=\"jenkins-war-Jenkins\"><a href=\"#jenkins-war-Jenkins\" class=\"headerlink\" title=\"jenkins.war + Jenkins\"></a>jenkins.war + Jenkins</h2><p>:<a href=\"http://mirrors.jenkins.io/war-stable/\" target=\"_blank\" rel=\"noopener\">http://mirrors.jenkins.io/war-stable/</a></p>\n<p>,<a href=\"http://mirrors.jenkins.io/war-stable/2.107.2/jenkins.war\" target=\"_blank\" rel=\"noopener\">2.107.2</a></p>\n<p>jenkins.war,jenkins-home,JENKINS_HOMEjenkins-home(,~/.jenkins)</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">wget http://mirrors.jenkins.io/war-stable/2.107.2/jenkins.war;</span><br><span class=\"line\">mkdir ~/jenkins-home;</span><br><span class=\"line\"><span class=\"built_in\">export</span> JENKINS_HOME=~/jenkins-home;</span><br><span class=\"line\">tmux;</span><br><span class=\"line\">java -jar jenkins.war</span><br></pre></td></tr></table></figure>\n<p>jenkins,jenkins.</p>\n<p>tmuxjava -jar jenkins.war.</p>\n<p>:<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%886.53.24.png\" alt=\"jenkins\"></p>\n<p>\binitialAdminPassword</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">Jenkins initial setup is required. An admin user has been created and a password generated.</span><br><span class=\"line\">Please use the following password to proceed to installation:</span><br><span class=\"line\"></span><br><span class=\"line\">XXXXXXXXXXXXXX</span><br><span class=\"line\"></span><br><span class=\"line\">This may also be found at: /root/jenkins-home/secrets/initialAdminPassword</span><br></pre></td></tr></table></figure>\n<p>8080jenkins,jenkins.</p>\n<p>XXXXXXXXXXXXXX,\bjenkins.</p>\n<p>\b<img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%886.58.58.png\" alt=\"jenkins\"></p>\n<p>.</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%887.00.12.png\" alt=\"\"></p>\n<p>,.</p>\n<p>,.</p>\n<p>\bjenkins.<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%887.02.42.png\" alt=\"jenkins\"></p>\n<p>\bjenkins,.</p>\n<p>dotnet core docker jenkins.</p>\n<h2 id=\"dotnet-core-docker-\"><a href=\"#dotnet-core-docker-\" class=\"headerlink\" title=\"dotnet core docker \"></a>dotnet core docker </h2><p>Dockerfile,:</p>\n<figure class=\"highlight docker\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">FROM</span> microsoft/aspnetcore-build:<span class=\"number\">2.0</span> AS build-<span class=\"keyword\">env</span></span><br><span class=\"line\"><span class=\"keyword\">WORKDIR</span><span class=\"bash\"> /app</span></span><br><span class=\"line\"><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"bash\"><span class=\"comment\"># copy csproj and restore as distinct layers</span></span></span><br><span class=\"line\"><span class=\"bash\">COPY *.csproj ./</span></span><br><span class=\"line\"><span class=\"bash\">RUN dotnet restore</span></span><br><span class=\"line\"><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"bash\"><span class=\"comment\"># copy everything else and build</span></span></span><br><span class=\"line\"><span class=\"bash\">COPY . ./</span></span><br><span class=\"line\"><span class=\"bash\">RUN dotnet publish -c Release -o out</span></span><br><span class=\"line\"><span class=\"bash\"></span></span><br><span class=\"line\"><span class=\"bash\"><span class=\"comment\"># build runtime image</span></span></span><br><span class=\"line\"><span class=\"bash\">FROM microsoft/aspnetcore:2.0</span></span><br><span class=\"line\"><span class=\"bash\">WORKDIR /app</span></span><br><span class=\"line\"><span class=\"bash\">COPY --from=build-env /app/out .</span></span><br><span class=\"line\"><span class=\"bash\">ENTRYPOINT [<span class=\"string\">\"dotnet\"</span>, <span class=\"string\">\"dotnet core.dll\"</span>]</span></span><br></pre></td></tr></table></figure>\n<p>Dockerfile\b\baspnetcore-build,aspnetcore:2.0\b\b,</p>\n<p>dotnet core</p>\n<p>:<a href=\"https://github.com/DaoCloud/dotnet-docker-samples\" target=\"_blank\" rel=\"noopener\">https://github.com/DaoCloud/dotnet-docker-samples</a></p>\n<h2 id=\"docker-build-run---jenkins\"><a href=\"#docker-build-run---jenkins\" class=\"headerlink\" title=\"docker build + run (,jenkins)\"></a>docker build + run (,jenkins)</h2><p><a href=\"https://github.com/liguobao/58HouseSearch/blob/master/HouseCrawler.Core/HouseCrawler.Web/\" target=\"_blank\" rel=\"noopener\">HouseCrawler.Web</a>,</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#!/bin/sh</span></span><br><span class=\"line\">image_version=`date +%Y%m%d%H%M`;</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$image_version</span>;</span><br><span class=\"line\"><span class=\"built_in\">cd</span> ~/code/58HouseSearch/HouseCrawler.Core/HouseCrawler.Web;</span><br><span class=\"line\">git pull --rebase origin master;</span><br><span class=\"line\">docker stop house-web;</span><br><span class=\"line\">docker rm house-web;</span><br><span class=\"line\">docker build -t house-web:<span class=\"variable\">$image_version</span> .;</span><br><span class=\"line\">docker images;</span><br><span class=\"line\">docker run -p 8080:80 -v ~/docker-data/house-web/appsettings.json:/app/appsettings.json -v ~/docker-data/house-web/NLogFile/:/app/NLogFile  --restart=always --name house-web -d house-web:<span class=\"variable\">$image_version</span>;</span><br><span class=\"line\">docker logs house-web;</span><br></pre></td></tr></table></figure>\n<p>build+run,dotnet core,docker images,.</p>\n<p>,jenkins,.</p>\n<h2 id=\"jenkins-job\"><a href=\"#jenkins-job\" class=\"headerlink\" title=\"jenkins job\"></a>jenkins job</h2><h3 id=\"Job\"><a href=\"#Job\" class=\"headerlink\" title=\"Job\"></a>Job</h3><p>jenkins,(newJob),:</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.10.00.png\" alt=\"newJob\"></p>\n<p>job,,:</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.12.27.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>Job,git,:<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.14.06.png\" alt=\"\"></p>\n<p>git,jenkinsgit,From the Jenkins master ~/.ssh,.</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.16.09.png\" alt=\"git\"></p>\n<p>Branch Specifier (blank for any)    master,.</p>\n<p>,,.</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,Execute shell,:<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.22.45.png\" alt=\"Execute shell\"></p>\n<p>?.</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ,jenkins-homeworkspace</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> ~jenkins-home/workspace//Dockerfile;</span><br><span class=\"line\">image_version=`date +%Y%m%d%H%M`;</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$image_version</span>;</span><br><span class=\"line\"><span class=\"comment\"># docker container</span></span><br><span class=\"line\">docker stop house-web;</span><br><span class=\"line\"><span class=\"comment\"># container</span></span><br><span class=\"line\">docker rm house-web;</span><br><span class=\"line\"><span class=\"comment\"># buildtag</span></span><br><span class=\"line\">docker build -t house-web:<span class=\"variable\">$image_version</span> .;</span><br><span class=\"line\">docker images;</span><br><span class=\"line\"><span class=\"comment\"># build</span></span><br><span class=\"line\">docker run -p 8080:80 -v ~/docker-data/house-web/appsettings.json:/app/appsettings.json -v ~/docker-data/house-web/NLogFile/:/app/NLogFile  --restart=always --name house-web -d house-web:<span class=\"variable\">$image_version</span>;</span><br><span class=\"line\">docker logs house-web;</span><br></pre></td></tr></table></figure>\n<p>jenkins,, start_XXX.sh.</p>\n<p></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh username@IP <span class=\"string\">'~/start_XXX.sh'</span></span><br></pre></td></tr></table></figure>\n<p>ps:jenkins<a href=\"https://blog.csdn.net/wind520/article/details/38421359\" target=\"_blank\" rel=\"noopener\">ssh</a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>,.</p>\n<ol>\n<li> Build periodically, or N</li>\n<li>Poll SCMSCM,</li>\n<li>GitHub hook trigger for GITScm polling Gitwebhook</li>\n<li>Generic Webhook Trigger,webhook.</li>\n</ol>\n<p>4,Generic Webhook Trigger,.</p>\n<p>Generic Webhook Trigger--Generic Webhook Trigger.</p>\n<p>,jenkinsdocker build,build,</p>\n<p>buildor,docker images.</p>\n<p>?,.</p>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"-\"></a>-</h3><p>,,<a href=\"https://cr.console.aliyun.com/\" target=\"_blank\" rel=\"noopener\">https://cr.console.aliyun.com/</a></p>\n<p>,.</p>\n<p>.</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.51.25.png\" alt=\"\"></p>\n<p>--()--(GitHub/code/Bitbucket/Gitlab/Git,)</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.54.10.png\" alt=\"\"></p>\n<p>,,Dockerfile,<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%889.57.50.png\" alt=\"\"></p>\n<p>.</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.00.51.png\" alt=\"aliyun-\"></p>\n<p>,.<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.02.00.png\" alt=\"build \"></p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.02.49.png\" alt=\"\"></p>\n<p>,docker pull registry-internal.cn-hangzhou.aliyuncs.com// build.</p>\n<p>build,?</p>\n<p>webhook.</p>\n<h3 id=\"jenkins-webhook\"><a href=\"#jenkins-webhook\" class=\"headerlink\" title=\"jenkins webhook\"></a>jenkins webhook</h3><p>,webhook,:<a href=\"https://help.aliyun.com/document_detail/60949.html?spm=5176.8351553.0.0.645319912fjxim\" target=\"_blank\" rel=\"noopener\">-webhook</a></p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.08.45.png\" alt=\"-webhook\"></p>\n<p>webhook,,Generic Webhook Trigger?</p>\n<p>webhook API.</p>\n<p>:</p>\n<p>git -&gt; -&gt; webhook -&gt; jenkinswebhookjob -&gt;run -&gt;.</p>\n<p>Generic Webhook Trigger.</p>\n<p>Generic Webhook TriggerURL:</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://jenkins:token@jenkins IP:8080/generic-webhook-trigger/invoke?token=</span><br></pre></td></tr></table></figure>\n<p>jenkinstoken--API Token-Show API Token,.</p>\n<p>token,job.:</p>\n<p><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.21.13.png\" alt=\"\"></p>\n<p>jenkinsPrevent Cross Site Request Forgery exploits),webhook.</p>\n<p><a href=\"http://jenkins:token@jenkins\" target=\"_blank\" rel=\"noopener\">http://jenkins:token@jenkins</a> IP:8080/generic-webhook-trigger/invoke?token=<br>jenkins Job,ok.</p>\n<p>---webhook-<br><img src=\"http://7xrayk.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-05-06%20%E4%B8%8B%E5%8D%8810.27.02.png\" alt=\"webhook-\"></p>\n<p>PS:webhookor -,,.</p>\n<p>,.</p>\n<p>jenkins,build docker,\b.</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># docker container</span></span><br><span class=\"line\">docker stop house-web;</span><br><span class=\"line\"><span class=\"comment\"># container</span></span><br><span class=\"line\">docker rm house-web;</span><br><span class=\"line\">docker pull ;</span><br><span class=\"line\"><span class=\"comment\"># build</span></span><br><span class=\"line\">docker run --restart=always --name contianer ;</span><br></pre></td></tr></table></figure>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>jenkins</li>\n<li>Dockerfile,+docker+</li>\n<li>\b\b\b-docker,\bwebhookjenkins</li>\n<li>\bjenkins webhook,</li>\n<li>/,\bDockerfile</li>\n<li></li>\n</ol>\n"},{"layout":"post","title":"mono webreques https exception","_content":"\n\nURLWebRequestHTMLlinux mono\n\n```csharp\npublic static string GetHTML(string url)\n{\n    string htmlCode;\n    try\n    {\n        HttpWebRequest webRequest = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(url);\n        webRequest.Timeout = 30000;\n        webRequest.Method = \"GET\";\n        webRequest.UserAgent = \"Mozilla/4.0\";\n        webRequest.Headers.Add(\"Accept-Encoding\", \"gzip, deflate\");\n\n        HttpWebResponse webResponse = (System.Net.HttpWebResponse)webRequest.GetResponse();\n        //\n        string contentype = webResponse.Headers[\"Content-Type\"];\n        Regex regex = new Regex(\"charset\\\\s*=\\\\s*[\\\\W]?\\\\s*([\\\\w-]+)\", RegexOptions.IgnoreCase);\n        if (webResponse.ContentEncoding.ToLower() == \"gzip\")//GZip\n        {\n            using (System.IO.Stream streamReceive = webResponse.GetResponseStream())\n            {\n                using (var zipStream = new System.IO.Compression.GZipStream(streamReceive, \n                System.IO.Compression.CompressionMode.Decompress))\n                {\n                    //\n                    if (regex.IsMatch(contentype))\n                    {\n                        Encoding ending = Encoding.GetEncoding(regex.Match(contentype).Groups[1].Value.Trim());\n                        using (StreamReader sr = new System.IO.StreamReader(zipStream, ending))\n                        {\n                            htmlCode = sr.ReadToEnd();\n                        }\n                    }\n                    else\n                    {\n                        using (StreamReader sr = \n                        new System.IO.StreamReader(zipStream, Encoding.UTF8))\n                        {\n                            htmlCode = sr.ReadToEnd();\n                        }\n                    }\n                }\n            }\n        }\n        else\n        {\n            using (System.IO.Stream streamReceive = webResponse.GetResponseStream())\n            {\n                using (System.IO.StreamReader sr = new System.IO.StreamReader(streamReceive, Encoding.Default))\n                {\n                    htmlCode = sr.ReadToEnd();\n                }\n            }\n        }\n        return htmlCode;\n\n    }catch(Exception ex)\n    {\n        LogHelper.WriteException(\"GetHTML\", ex, new { Url = url });\n        return \"\";\n    }\n\n}\n```\n\nWindows10 + VS2013,\n\nHTTPHTTPSHTML\n\nlinux JexusHTTPHTMLHTTPS\n\n\n\n```csharp\n   System.Net.WebException: Error: TrustFailure (The authentication or decryption has failed.) \n   ---> System.IO.IOException: The authentication or decryption has failed.\n   ---> System.IO.IOException: The authentication or decryption has failed. \n   ---> Mono.Security.Protocol.Tls.TlsException:\n   Invalid certificate received from server. Error code: 0xffffffff800b0109\n   at Mono.Security.Protocol.Tls.RecordProtocol.EndReceiveRecord \n   (IAsyncResult asyncResult) <0x41b58d80 + 0x0013e> in <filename unknown>:0 \n   at Mono.Security.Protocol.Tls.SslClientStream.SafeEndReceiveRecord\n   (IAsyncResult ar, Boolean ignoreEmpty) <0x41b58cb0 + 0x00031> in <filename unknown>:0 \n   at Mono.Security.Protocol.Tls.SslClientStream.NegotiateAsyncWorker\n   (IAsyncResult result) <0x41b72a40 + 0x0023f> in <filename unknown>:0 \n   --- End of inner exception stack trace ---\n   at Mono.Security.Protocol.Tls.SslClientStream.EndNegotiateHandshake \n   (IAsyncResult result) <0x41ba07e0 + 0x000f3> in <filename unknown>:0 \n   at Mono.Security.Protocol.Tls.SslStreamBase.AsyncHandshakeCallback \n   (IAsyncResult asyncResult) <0x41ba0540 + 0x00086> in <filename unknown>:0 \n   --- End of inner exception stack trace ---\n   at Mono.Security.Protocol.Tls.SslStreamBase.EndRead \n   (IAsyncResult asyncResult) <0x41b73fd0 + 0x00199> in <filename unknown>:0 \n   at Mono.Net.Security.Private.LegacySslStream.EndAuthenticateAsClient \n   (IAsyncResult asyncResult) <0x41b73f30 + 0x00042> in <filename unknown>:0 \n   at Mono.Net.Security.Private.LegacySslStream.AuthenticateAsClient (System.String targetHost, \n   System.Security.Cryptography.X509Certificates.X509CertificateCollection\n   clientCertificates, SslProtocols enabledSslProtocols,\n   Boolean checkCertificateRevocation) <0x41b6a660 + 0x00055> in <filename unknown>:0 \n   at Mono.Net.Security.MonoTlsStream.CreateStream (System.Byte[] buffer) \n   <0x41b69c30 + 0x00159> in <filename unknown>:0 \n   --- End of inner exception stack trace ---\n   at System.Net.HttpWebRequest.EndGetResponse (IAsyncResult asyncResult) \n   <0x41b67660 + 0x001f9> in <filename unknown>:0 \n   at System.Net.HttpWebRequest.GetResponse () <0x41b60920 + 0x0005a> in <filename unknown>:0 \n   at WebBookmarkUI.Commom.HTTPHelper.GetHTML (System.String url) <0x41b59b70 + 0x00235> \n   in <filename unknown>:0 \n\n```\n\n\n\n1. Invalid certificate received from server\n2. The authentication or decryption has failed\n\nmonomonobug\nMono\n\n\n1. [stackoverflow mono-webrequest-fails-with-https](http://stackoverflow.com/questions/4926676/mono-webrequest-fails-with-https)\n\n2. [mono doc security](http://www.mono-project.com/docs/faq/security/)\n\n\nWindowsHTPPSlinuxmonoWebRequestHTTPS\n\nlinuxHTTPS\n\nlinux\n```\nmozroots --import --ask-remove --machine\n\n```\n\n\nApplication_Start()\n\n```csharp\n System.Net.ServicePointManager.ServerCertificateValidationCallback +=\n delegate(object sender, System.Security.Cryptography.X509Certificates.X509Certificate certificate,\n System.Security.Cryptography.X509Certificates.X509Chain chain,\n System.Net.Security.SslPolicyErrors sslPolicyErrors)\n{\n    return true; // **** Always accept\n};\n\n```\n\n\n\nlinux\n\n\n\n\n\n","source":"_posts/mono-webreques-https-exception.md","raw":"---\nlayout: post\ntitle: mono webreques https exception\ncategory: dotnet\n---\n\n\nURLWebRequestHTMLlinux mono\n\n```csharp\npublic static string GetHTML(string url)\n{\n    string htmlCode;\n    try\n    {\n        HttpWebRequest webRequest = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(url);\n        webRequest.Timeout = 30000;\n        webRequest.Method = \"GET\";\n        webRequest.UserAgent = \"Mozilla/4.0\";\n        webRequest.Headers.Add(\"Accept-Encoding\", \"gzip, deflate\");\n\n        HttpWebResponse webResponse = (System.Net.HttpWebResponse)webRequest.GetResponse();\n        //\n        string contentype = webResponse.Headers[\"Content-Type\"];\n        Regex regex = new Regex(\"charset\\\\s*=\\\\s*[\\\\W]?\\\\s*([\\\\w-]+)\", RegexOptions.IgnoreCase);\n        if (webResponse.ContentEncoding.ToLower() == \"gzip\")//GZip\n        {\n            using (System.IO.Stream streamReceive = webResponse.GetResponseStream())\n            {\n                using (var zipStream = new System.IO.Compression.GZipStream(streamReceive, \n                System.IO.Compression.CompressionMode.Decompress))\n                {\n                    //\n                    if (regex.IsMatch(contentype))\n                    {\n                        Encoding ending = Encoding.GetEncoding(regex.Match(contentype).Groups[1].Value.Trim());\n                        using (StreamReader sr = new System.IO.StreamReader(zipStream, ending))\n                        {\n                            htmlCode = sr.ReadToEnd();\n                        }\n                    }\n                    else\n                    {\n                        using (StreamReader sr = \n                        new System.IO.StreamReader(zipStream, Encoding.UTF8))\n                        {\n                            htmlCode = sr.ReadToEnd();\n                        }\n                    }\n                }\n            }\n        }\n        else\n        {\n            using (System.IO.Stream streamReceive = webResponse.GetResponseStream())\n            {\n                using (System.IO.StreamReader sr = new System.IO.StreamReader(streamReceive, Encoding.Default))\n                {\n                    htmlCode = sr.ReadToEnd();\n                }\n            }\n        }\n        return htmlCode;\n\n    }catch(Exception ex)\n    {\n        LogHelper.WriteException(\"GetHTML\", ex, new { Url = url });\n        return \"\";\n    }\n\n}\n```\n\nWindows10 + VS2013,\n\nHTTPHTTPSHTML\n\nlinux JexusHTTPHTMLHTTPS\n\n\n\n```csharp\n   System.Net.WebException: Error: TrustFailure (The authentication or decryption has failed.) \n   ---> System.IO.IOException: The authentication or decryption has failed.\n   ---> System.IO.IOException: The authentication or decryption has failed. \n   ---> Mono.Security.Protocol.Tls.TlsException:\n   Invalid certificate received from server. Error code: 0xffffffff800b0109\n   at Mono.Security.Protocol.Tls.RecordProtocol.EndReceiveRecord \n   (IAsyncResult asyncResult) <0x41b58d80 + 0x0013e> in <filename unknown>:0 \n   at Mono.Security.Protocol.Tls.SslClientStream.SafeEndReceiveRecord\n   (IAsyncResult ar, Boolean ignoreEmpty) <0x41b58cb0 + 0x00031> in <filename unknown>:0 \n   at Mono.Security.Protocol.Tls.SslClientStream.NegotiateAsyncWorker\n   (IAsyncResult result) <0x41b72a40 + 0x0023f> in <filename unknown>:0 \n   --- End of inner exception stack trace ---\n   at Mono.Security.Protocol.Tls.SslClientStream.EndNegotiateHandshake \n   (IAsyncResult result) <0x41ba07e0 + 0x000f3> in <filename unknown>:0 \n   at Mono.Security.Protocol.Tls.SslStreamBase.AsyncHandshakeCallback \n   (IAsyncResult asyncResult) <0x41ba0540 + 0x00086> in <filename unknown>:0 \n   --- End of inner exception stack trace ---\n   at Mono.Security.Protocol.Tls.SslStreamBase.EndRead \n   (IAsyncResult asyncResult) <0x41b73fd0 + 0x00199> in <filename unknown>:0 \n   at Mono.Net.Security.Private.LegacySslStream.EndAuthenticateAsClient \n   (IAsyncResult asyncResult) <0x41b73f30 + 0x00042> in <filename unknown>:0 \n   at Mono.Net.Security.Private.LegacySslStream.AuthenticateAsClient (System.String targetHost, \n   System.Security.Cryptography.X509Certificates.X509CertificateCollection\n   clientCertificates, SslProtocols enabledSslProtocols,\n   Boolean checkCertificateRevocation) <0x41b6a660 + 0x00055> in <filename unknown>:0 \n   at Mono.Net.Security.MonoTlsStream.CreateStream (System.Byte[] buffer) \n   <0x41b69c30 + 0x00159> in <filename unknown>:0 \n   --- End of inner exception stack trace ---\n   at System.Net.HttpWebRequest.EndGetResponse (IAsyncResult asyncResult) \n   <0x41b67660 + 0x001f9> in <filename unknown>:0 \n   at System.Net.HttpWebRequest.GetResponse () <0x41b60920 + 0x0005a> in <filename unknown>:0 \n   at WebBookmarkUI.Commom.HTTPHelper.GetHTML (System.String url) <0x41b59b70 + 0x00235> \n   in <filename unknown>:0 \n\n```\n\n\n\n1. Invalid certificate received from server\n2. The authentication or decryption has failed\n\nmonomonobug\nMono\n\n\n1. [stackoverflow mono-webrequest-fails-with-https](http://stackoverflow.com/questions/4926676/mono-webrequest-fails-with-https)\n\n2. [mono doc security](http://www.mono-project.com/docs/faq/security/)\n\n\nWindowsHTPPSlinuxmonoWebRequestHTTPS\n\nlinuxHTTPS\n\nlinux\n```\nmozroots --import --ask-remove --machine\n\n```\n\n\nApplication_Start()\n\n```csharp\n System.Net.ServicePointManager.ServerCertificateValidationCallback +=\n delegate(object sender, System.Security.Cryptography.X509Certificates.X509Certificate certificate,\n System.Security.Cryptography.X509Certificates.X509Chain chain,\n System.Net.Security.SslPolicyErrors sslPolicyErrors)\n{\n    return true; // **** Always accept\n};\n\n```\n\n\n\nlinux\n\n\n\n\n\n","slug":"mono-webreques-https-exception","published":1,"date":"2016-04-23T13:47:33.000Z","updated":"2018-05-17T08:08:22.153Z","comments":1,"photos":[],"link":"","_id":"cjha9xxt1000gie1wyr5wil3q","content":"<p>URLWebRequestHTMLlinux mono</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> <span class=\"title\">GetHTML</span>(<span class=\"params\"><span class=\"keyword\">string</span> url</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">string</span> htmlCode;</span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        HttpWebRequest webRequest = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(url);</span><br><span class=\"line\">        webRequest.Timeout = <span class=\"number\">30000</span>;</span><br><span class=\"line\">        webRequest.Method = <span class=\"string\">\"GET\"</span>;</span><br><span class=\"line\">        webRequest.UserAgent = <span class=\"string\">\"Mozilla/4.0\"</span>;</span><br><span class=\"line\">        webRequest.Headers.Add(<span class=\"string\">\"Accept-Encoding\"</span>, <span class=\"string\">\"gzip, deflate\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        HttpWebResponse webResponse = (System.Net.HttpWebResponse)webRequest.GetResponse();</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">string</span> contentype = webResponse.Headers[<span class=\"string\">\"Content-Type\"</span>];</span><br><span class=\"line\">        Regex regex = <span class=\"keyword\">new</span> Regex(<span class=\"string\">\"charset\\\\s*=\\\\s*[\\\\W]?\\\\s*([\\\\w-]+)\"</span>, RegexOptions.IgnoreCase);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (webResponse.ContentEncoding.ToLower() == <span class=\"string\">\"gzip\"</span>)<span class=\"comment\">//GZip</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">using</span> (System.IO.Stream streamReceive = webResponse.GetResponseStream())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> zipStream = <span class=\"keyword\">new</span> System.IO.Compression.GZipStream(streamReceive, </span><br><span class=\"line\">                System.IO.Compression.CompressionMode.Decompress))</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"comment\">//</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (regex.IsMatch(contentype))</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        Encoding ending = Encoding.GetEncoding(regex.Match(contentype).Groups[<span class=\"number\">1</span>].Value.Trim());</span><br><span class=\"line\">                        <span class=\"keyword\">using</span> (StreamReader sr = <span class=\"keyword\">new</span> System.IO.StreamReader(zipStream, ending))</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">else</span></span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">using</span> (StreamReader sr = </span><br><span class=\"line\">                        <span class=\"keyword\">new</span> System.IO.StreamReader(zipStream, Encoding.UTF8))</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">using</span> (System.IO.Stream streamReceive = webResponse.GetResponseStream())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">using</span> (System.IO.StreamReader sr = <span class=\"keyword\">new</span> System.IO.StreamReader(streamReceive, Encoding.Default))</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> htmlCode;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;<span class=\"keyword\">catch</span>(Exception ex)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        LogHelper.WriteException(<span class=\"string\">\"GetHTML\"</span>, ex, <span class=\"keyword\">new</span> &#123; Url = url &#125;);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Windows10 + VS2013,</p>\n<p>HTTPHTTPSHTML</p>\n<p>linux JexusHTTPHTMLHTTPS</p>\n<p></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">System.Net.WebException: Error: TrustFailure (The authentication or decryption has failed.) </span><br><span class=\"line\">---&gt; System.IO.IOException: The authentication or decryption has failed.</span><br><span class=\"line\">---&gt; System.IO.IOException: The authentication or decryption has failed. </span><br><span class=\"line\">---&gt; Mono.Security.Protocol.Tls.TlsException:</span><br><span class=\"line\">Invalid certificate received <span class=\"keyword\">from</span> server. Error code: <span class=\"number\">0xffffffff800b0109</span></span><br><span class=\"line\">at Mono.Security.Protocol.Tls.RecordProtocol.EndReceiveRecord </span><br><span class=\"line\">(IAsyncResult asyncResult) &lt;<span class=\"number\">0x41b58d80</span> + <span class=\"number\">0x0013e</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Security.Protocol.Tls.SslClientStream.SafeEndReceiveRecord</span><br><span class=\"line\">(IAsyncResult ar, Boolean ignoreEmpty) &lt;<span class=\"number\">0x41b58cb0</span> + <span class=\"number\">0x00031</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Security.Protocol.Tls.SslClientStream.NegotiateAsyncWorker</span><br><span class=\"line\">(IAsyncResult result) &lt;<span class=\"number\">0x41b72a40</span> + <span class=\"number\">0x0023f</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">--- End of inner exception stack trace ---</span><br><span class=\"line\">at Mono.Security.Protocol.Tls.SslClientStream.EndNegotiateHandshake </span><br><span class=\"line\">(IAsyncResult result) &lt;<span class=\"number\">0x41ba07e0</span> + <span class=\"number\">0x000f3</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Security.Protocol.Tls.SslStreamBase.AsyncHandshakeCallback </span><br><span class=\"line\">(IAsyncResult asyncResult) &lt;<span class=\"number\">0x41ba0540</span> + <span class=\"number\">0x00086</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">--- End of inner exception stack trace ---</span><br><span class=\"line\">at Mono.Security.Protocol.Tls.SslStreamBase.EndRead </span><br><span class=\"line\">(IAsyncResult asyncResult) &lt;<span class=\"number\">0x41b73fd0</span> + <span class=\"number\">0x00199</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Net.Security.Private.LegacySslStream.EndAuthenticateAsClient </span><br><span class=\"line\">(IAsyncResult asyncResult) &lt;<span class=\"number\">0x41b73f30</span> + <span class=\"number\">0x00042</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Net.Security.Private.LegacySslStream.AuthenticateAsClient (System.String targetHost, </span><br><span class=\"line\">System.Security.Cryptography.X509Certificates.X509CertificateCollection</span><br><span class=\"line\">clientCertificates, SslProtocols enabledSslProtocols,</span><br><span class=\"line\">Boolean checkCertificateRevocation) &lt;<span class=\"number\">0x41b6a660</span> + <span class=\"number\">0x00055</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Net.Security.MonoTlsStream.CreateStream (System.Byte[] buffer) </span><br><span class=\"line\">&lt;<span class=\"number\">0x41b69c30</span> + <span class=\"number\">0x00159</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">--- End of inner exception stack trace ---</span><br><span class=\"line\">at System.Net.HttpWebRequest.EndGetResponse (IAsyncResult asyncResult) </span><br><span class=\"line\">&lt;<span class=\"number\">0x41b67660</span> + <span class=\"number\">0x001f9</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at System.Net.HttpWebRequest.GetResponse () &lt;<span class=\"number\">0x41b60920</span> + <span class=\"number\">0x0005a</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at WebBookmarkUI.Commom.HTTPHelper.GetHTML (System.String url) &lt;<span class=\"number\">0x41b59b70</span> + <span class=\"number\">0x00235</span>&gt; </span><br><span class=\"line\"><span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>Invalid certificate received from server</li>\n<li>The authentication or decryption has failed</li>\n</ol>\n<p>monomonobug<br>Mono<br></p>\n<ol>\n<li><p><a href=\"http://stackoverflow.com/questions/4926676/mono-webrequest-fails-with-https\" target=\"_blank\" rel=\"noopener\">stackoverflow mono-webrequest-fails-with-https</a></p>\n</li>\n<li><p><a href=\"http://www.mono-project.com/docs/faq/security/\" target=\"_blank\" rel=\"noopener\">mono doc security</a></p>\n</li>\n</ol>\n<p>WindowsHTPPSlinuxmonoWebRequestHTTPS</p>\n<p>linuxHTTPS</p>\n<p>linux<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mozroots --import --ask-remove --machine</span><br></pre></td></tr></table></figure></p>\n<p>Application_Start()</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> System.Net.ServicePointManager.ServerCertificateValidationCallback +=</span><br><span class=\"line\"> <span class=\"keyword\">delegate</span>(<span class=\"keyword\">object</span> sender, System.Security.Cryptography.X509Certificates.X509Certificate certificate,</span><br><span class=\"line\"> System.Security.Cryptography.X509Certificates.X509Chain chain,</span><br><span class=\"line\"> System.Net.Security.SslPolicyErrors sslPolicyErrors)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// **** Always accept</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>linux</p>\n","site":{"data":{}},"excerpt":"","more":"<p>URLWebRequestHTMLlinux mono</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> <span class=\"title\">GetHTML</span>(<span class=\"params\"><span class=\"keyword\">string</span> url</span>)</span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">string</span> htmlCode;</span><br><span class=\"line\">    <span class=\"keyword\">try</span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        HttpWebRequest webRequest = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(url);</span><br><span class=\"line\">        webRequest.Timeout = <span class=\"number\">30000</span>;</span><br><span class=\"line\">        webRequest.Method = <span class=\"string\">\"GET\"</span>;</span><br><span class=\"line\">        webRequest.UserAgent = <span class=\"string\">\"Mozilla/4.0\"</span>;</span><br><span class=\"line\">        webRequest.Headers.Add(<span class=\"string\">\"Accept-Encoding\"</span>, <span class=\"string\">\"gzip, deflate\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        HttpWebResponse webResponse = (System.Net.HttpWebResponse)webRequest.GetResponse();</span><br><span class=\"line\">        <span class=\"comment\">//</span></span><br><span class=\"line\">        <span class=\"keyword\">string</span> contentype = webResponse.Headers[<span class=\"string\">\"Content-Type\"</span>];</span><br><span class=\"line\">        Regex regex = <span class=\"keyword\">new</span> Regex(<span class=\"string\">\"charset\\\\s*=\\\\s*[\\\\W]?\\\\s*([\\\\w-]+)\"</span>, RegexOptions.IgnoreCase);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (webResponse.ContentEncoding.ToLower() == <span class=\"string\">\"gzip\"</span>)<span class=\"comment\">//GZip</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">using</span> (System.IO.Stream streamReceive = webResponse.GetResponseStream())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> zipStream = <span class=\"keyword\">new</span> System.IO.Compression.GZipStream(streamReceive, </span><br><span class=\"line\">                System.IO.Compression.CompressionMode.Decompress))</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"comment\">//</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (regex.IsMatch(contentype))</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        Encoding ending = Encoding.GetEncoding(regex.Match(contentype).Groups[<span class=\"number\">1</span>].Value.Trim());</span><br><span class=\"line\">                        <span class=\"keyword\">using</span> (StreamReader sr = <span class=\"keyword\">new</span> System.IO.StreamReader(zipStream, ending))</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    <span class=\"keyword\">else</span></span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">using</span> (StreamReader sr = </span><br><span class=\"line\">                        <span class=\"keyword\">new</span> System.IO.StreamReader(zipStream, Encoding.UTF8))</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">using</span> (System.IO.Stream streamReceive = webResponse.GetResponseStream())</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">using</span> (System.IO.StreamReader sr = <span class=\"keyword\">new</span> System.IO.StreamReader(streamReceive, Encoding.Default))</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> htmlCode;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;<span class=\"keyword\">catch</span>(Exception ex)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        LogHelper.WriteException(<span class=\"string\">\"GetHTML\"</span>, ex, <span class=\"keyword\">new</span> &#123; Url = url &#125;);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Windows10 + VS2013,</p>\n<p>HTTPHTTPSHTML</p>\n<p>linux JexusHTTPHTMLHTTPS</p>\n<p></p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">System.Net.WebException: Error: TrustFailure (The authentication or decryption has failed.) </span><br><span class=\"line\">---&gt; System.IO.IOException: The authentication or decryption has failed.</span><br><span class=\"line\">---&gt; System.IO.IOException: The authentication or decryption has failed. </span><br><span class=\"line\">---&gt; Mono.Security.Protocol.Tls.TlsException:</span><br><span class=\"line\">Invalid certificate received <span class=\"keyword\">from</span> server. Error code: <span class=\"number\">0xffffffff800b0109</span></span><br><span class=\"line\">at Mono.Security.Protocol.Tls.RecordProtocol.EndReceiveRecord </span><br><span class=\"line\">(IAsyncResult asyncResult) &lt;<span class=\"number\">0x41b58d80</span> + <span class=\"number\">0x0013e</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Security.Protocol.Tls.SslClientStream.SafeEndReceiveRecord</span><br><span class=\"line\">(IAsyncResult ar, Boolean ignoreEmpty) &lt;<span class=\"number\">0x41b58cb0</span> + <span class=\"number\">0x00031</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Security.Protocol.Tls.SslClientStream.NegotiateAsyncWorker</span><br><span class=\"line\">(IAsyncResult result) &lt;<span class=\"number\">0x41b72a40</span> + <span class=\"number\">0x0023f</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">--- End of inner exception stack trace ---</span><br><span class=\"line\">at Mono.Security.Protocol.Tls.SslClientStream.EndNegotiateHandshake </span><br><span class=\"line\">(IAsyncResult result) &lt;<span class=\"number\">0x41ba07e0</span> + <span class=\"number\">0x000f3</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Security.Protocol.Tls.SslStreamBase.AsyncHandshakeCallback </span><br><span class=\"line\">(IAsyncResult asyncResult) &lt;<span class=\"number\">0x41ba0540</span> + <span class=\"number\">0x00086</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">--- End of inner exception stack trace ---</span><br><span class=\"line\">at Mono.Security.Protocol.Tls.SslStreamBase.EndRead </span><br><span class=\"line\">(IAsyncResult asyncResult) &lt;<span class=\"number\">0x41b73fd0</span> + <span class=\"number\">0x00199</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Net.Security.Private.LegacySslStream.EndAuthenticateAsClient </span><br><span class=\"line\">(IAsyncResult asyncResult) &lt;<span class=\"number\">0x41b73f30</span> + <span class=\"number\">0x00042</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Net.Security.Private.LegacySslStream.AuthenticateAsClient (System.String targetHost, </span><br><span class=\"line\">System.Security.Cryptography.X509Certificates.X509CertificateCollection</span><br><span class=\"line\">clientCertificates, SslProtocols enabledSslProtocols,</span><br><span class=\"line\">Boolean checkCertificateRevocation) &lt;<span class=\"number\">0x41b6a660</span> + <span class=\"number\">0x00055</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at Mono.Net.Security.MonoTlsStream.CreateStream (System.Byte[] buffer) </span><br><span class=\"line\">&lt;<span class=\"number\">0x41b69c30</span> + <span class=\"number\">0x00159</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">--- End of inner exception stack trace ---</span><br><span class=\"line\">at System.Net.HttpWebRequest.EndGetResponse (IAsyncResult asyncResult) </span><br><span class=\"line\">&lt;<span class=\"number\">0x41b67660</span> + <span class=\"number\">0x001f9</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at System.Net.HttpWebRequest.GetResponse () &lt;<span class=\"number\">0x41b60920</span> + <span class=\"number\">0x0005a</span>&gt; <span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span> </span><br><span class=\"line\">at WebBookmarkUI.Commom.HTTPHelper.GetHTML (System.String url) &lt;<span class=\"number\">0x41b59b70</span> + <span class=\"number\">0x00235</span>&gt; </span><br><span class=\"line\"><span class=\"keyword\">in</span> &lt;filename unknown&gt;:<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>Invalid certificate received from server</li>\n<li>The authentication or decryption has failed</li>\n</ol>\n<p>monomonobug<br>Mono<br></p>\n<ol>\n<li><p><a href=\"http://stackoverflow.com/questions/4926676/mono-webrequest-fails-with-https\" target=\"_blank\" rel=\"noopener\">stackoverflow mono-webrequest-fails-with-https</a></p>\n</li>\n<li><p><a href=\"http://www.mono-project.com/docs/faq/security/\" target=\"_blank\" rel=\"noopener\">mono doc security</a></p>\n</li>\n</ol>\n<p>WindowsHTPPSlinuxmonoWebRequestHTTPS</p>\n<p>linuxHTTPS</p>\n<p>linux<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mozroots --import --ask-remove --machine</span><br></pre></td></tr></table></figure></p>\n<p>Application_Start()</p>\n<figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> System.Net.ServicePointManager.ServerCertificateValidationCallback +=</span><br><span class=\"line\"> <span class=\"keyword\">delegate</span>(<span class=\"keyword\">object</span> sender, System.Security.Cryptography.X509Certificates.X509Certificate certificate,</span><br><span class=\"line\"> System.Security.Cryptography.X509Certificates.X509Chain chain,</span><br><span class=\"line\"> System.Net.Security.SslPolicyErrors sslPolicyErrors)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>; <span class=\"comment\">// **** Always accept</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>linux</p>\n"},{"layout":"post","title":"","_content":"# \n\n## (battery-report)-\n\n[(battery-report)-](http://answers.microsoft.com/zh-hans/windows/wiki/windows_10-performance/%E8%8E%B7%E5%8F%96%E7%94%B5%E6%B1%A0%E4%BD%BF/2d025ee0-8529-45a0-a5ae-46aa5e67f8e8)\n\n1. POWERSHELL\n2. Windows Powershell\n\n```csharp\n$HTML=[System.Environment]::GetFolderPath('Desktop')+\"\\\"+(Get-Date -Format 'yyyy-MM-dd')+\"-.html\";POWERCFG /BATTERYREPORT /OUTPUT \"$HTML\";$TF=Get-Content \"$HTML\";$TF| %{$_.Replace(\"Battery report\",\"\")}| %{$_.Replace(\"COMPUTER NAME\",\"\")}| %{$_.Replace(\"SYSTEM PRODUCT NAME\",\"\")}| %{$_.Replace(\"OS BUILD\",\"\")}| %{$_.Replace(\"PLATFORM ROLE\",\"\")}| %{$_.Replace(\"CONNECTED STANDBY\",\"InstantGo\")}| %{$_.Replace(\"REPORT TIME\",\"\")}| %{$_.Replace(\"Installed batteries\",\"\")}| %{$_.Replace(\"Information about each currently installed battery\",\"\")}| %{$_.Replace(\"NAME\",\"\")}| %{$_.Replace(\"MANUFACTURER\",\"\")}| %{$_.Replace(\"SERIAL NUMBER\",\"\")}| %{$_.Replace(\"CHEMISTRY\",\"\")}| %{$_.Replace(\"AT DESIGN CAPACITY\",\"\")}| %{$_.Replace(\"DESIGN CAPACITY\",\"\")}| %{$_.Replace(\"FULL CHARGE CAPACITY\",\"\")}| %{$_.Replace(\"CYCLE COUNT\",\"\")}| %{$_.Replace(\"Recent usage\",\"\")}| %{$_.Replace(\"Power states over the last 3 days\",\"72\")}| %{$_.Replace(\"START TIME\",\"\")}| %{$_.Replace(\"STATE\",\"\")}| %{$_.Replace(\"SOURCE\",\"\")}| %{$_.Replace(\"CAPACITY REMAINING\",\"\")}| %{$_.Replace(\"Battery usage\",\"\")}| %{$_.Replace(\"Battery drains over the last 3 days\",\"72\")}| %{$_.Replace(\"DURATION\",\"\")}| %{$_.Replace(\"ENERGY DRAINED\",\"\")}| %{$_.Replace(\"Usage history\",\"\")}| %{$_.Replace(\"History of system usage on AC and battery\",\"\")}| %{$_.Replace(\"BATTERY DURATION\",\"\")}| %{$_.Replace(\"AC DURATION \",\"\")}| %{$_.Replace(\"PERIOD\",\"\")}| %{$_.Replace(\"ACTIVE\",\"\")}| %{$_.Replace(\"Battery capacity history\",\"\")}| %{$_.Replace(\"Charge capacity history of the system's batteries\",\"\")}| %{$_.Replace(\"Battery life estimates based on observed drains\",\"\")}| %{$_.Replace(\"Battery life estimates\",\"\")}| %{$_.Replace(\"AT FULL CHARGE\",\"\")}| %{$_.Replace(\"Current estimate of battery life based on all observed drains since OS install\",\"\")}| %{$_.Replace(\"Since OS install\",\"\")}| %{$_.Replace(\"Supported\",\"\")}| %{$_.Replace(\"Not supported\",\"\")}| %{$_.Replace(\"BATTERY\",\"\")}| %{$_.Replace(\"Suspended\",\"\")}| %{$_.Replace(\"Active\",\"\")}| %{$_.Replace(\"Unspecified\",\"\")}| %{$_.Replace(\"Mobile\",\"\")}| %{$_.Replace(\"Desktop\",\"\")}| %{$_.Replace(\"Workstation\",\"\")}| %{$_.Replace(\"Report generated\",\"\")}| %{$_.Replace(\"Battery\",\"\")}| %{$_.Replace(\"AC\",\"\")}|Out-File \"$HTML\";pause\n```","source":"_posts/some_script.md","raw":"---\nlayout: post\ntitle: \ncategory: sctripts\n---\n# \n\n## (battery-report)-\n\n[(battery-report)-](http://answers.microsoft.com/zh-hans/windows/wiki/windows_10-performance/%E8%8E%B7%E5%8F%96%E7%94%B5%E6%B1%A0%E4%BD%BF/2d025ee0-8529-45a0-a5ae-46aa5e67f8e8)\n\n1. POWERSHELL\n2. Windows Powershell\n\n```csharp\n$HTML=[System.Environment]::GetFolderPath('Desktop')+\"\\\"+(Get-Date -Format 'yyyy-MM-dd')+\"-.html\";POWERCFG /BATTERYREPORT /OUTPUT \"$HTML\";$TF=Get-Content \"$HTML\";$TF| %{$_.Replace(\"Battery report\",\"\")}| %{$_.Replace(\"COMPUTER NAME\",\"\")}| %{$_.Replace(\"SYSTEM PRODUCT NAME\",\"\")}| %{$_.Replace(\"OS BUILD\",\"\")}| %{$_.Replace(\"PLATFORM ROLE\",\"\")}| %{$_.Replace(\"CONNECTED STANDBY\",\"InstantGo\")}| %{$_.Replace(\"REPORT TIME\",\"\")}| %{$_.Replace(\"Installed batteries\",\"\")}| %{$_.Replace(\"Information about each currently installed battery\",\"\")}| %{$_.Replace(\"NAME\",\"\")}| %{$_.Replace(\"MANUFACTURER\",\"\")}| %{$_.Replace(\"SERIAL NUMBER\",\"\")}| %{$_.Replace(\"CHEMISTRY\",\"\")}| %{$_.Replace(\"AT DESIGN CAPACITY\",\"\")}| %{$_.Replace(\"DESIGN CAPACITY\",\"\")}| %{$_.Replace(\"FULL CHARGE CAPACITY\",\"\")}| %{$_.Replace(\"CYCLE COUNT\",\"\")}| %{$_.Replace(\"Recent usage\",\"\")}| %{$_.Replace(\"Power states over the last 3 days\",\"72\")}| %{$_.Replace(\"START TIME\",\"\")}| %{$_.Replace(\"STATE\",\"\")}| %{$_.Replace(\"SOURCE\",\"\")}| %{$_.Replace(\"CAPACITY REMAINING\",\"\")}| %{$_.Replace(\"Battery usage\",\"\")}| %{$_.Replace(\"Battery drains over the last 3 days\",\"72\")}| %{$_.Replace(\"DURATION\",\"\")}| %{$_.Replace(\"ENERGY DRAINED\",\"\")}| %{$_.Replace(\"Usage history\",\"\")}| %{$_.Replace(\"History of system usage on AC and battery\",\"\")}| %{$_.Replace(\"BATTERY DURATION\",\"\")}| %{$_.Replace(\"AC DURATION \",\"\")}| %{$_.Replace(\"PERIOD\",\"\")}| %{$_.Replace(\"ACTIVE\",\"\")}| %{$_.Replace(\"Battery capacity history\",\"\")}| %{$_.Replace(\"Charge capacity history of the system's batteries\",\"\")}| %{$_.Replace(\"Battery life estimates based on observed drains\",\"\")}| %{$_.Replace(\"Battery life estimates\",\"\")}| %{$_.Replace(\"AT FULL CHARGE\",\"\")}| %{$_.Replace(\"Current estimate of battery life based on all observed drains since OS install\",\"\")}| %{$_.Replace(\"Since OS install\",\"\")}| %{$_.Replace(\"Supported\",\"\")}| %{$_.Replace(\"Not supported\",\"\")}| %{$_.Replace(\"BATTERY\",\"\")}| %{$_.Replace(\"Suspended\",\"\")}| %{$_.Replace(\"Active\",\"\")}| %{$_.Replace(\"Unspecified\",\"\")}| %{$_.Replace(\"Mobile\",\"\")}| %{$_.Replace(\"Desktop\",\"\")}| %{$_.Replace(\"Workstation\",\"\")}| %{$_.Replace(\"Report generated\",\"\")}| %{$_.Replace(\"Battery\",\"\")}| %{$_.Replace(\"AC\",\"\")}|Out-File \"$HTML\";pause\n```","slug":"some_script","published":1,"date":"2016-10-14T16:06:11.000Z","updated":"2018-05-17T07:59:54.948Z","comments":1,"photos":[],"link":"","_id":"cjha9xxy20010ie1w0ns3f0qp","content":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"-battery-report-\"><a href=\"#-battery-report-\" class=\"headerlink\" title=\"(battery-report)-\"></a>(battery-report)-</h2><p><a href=\"http://answers.microsoft.com/zh-hans/windows/wiki/windows_10-performance/%E8%8E%B7%E5%8F%96%E7%94%B5%E6%B1%A0%E4%BD%BF/2d025ee0-8529-45a0-a5ae-46aa5e67f8e8\" target=\"_blank\" rel=\"noopener\">(battery-report)-</a></p>\n<ol>\n<li>POWERSHELL</li>\n<li>Windows Powershell</li>\n</ol>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$HTML=[System.Environment]::GetFolderPath('Desktop')+\"\\\"+(Get-Date -Format 'yyyy-MM-dd')+\"-.html\";POWERCFG /BATTERYREPORT /OUTPUT \"$HTML\";$TF=Get-Content \"$HTML\";$TF| %&#123;$_.Replace(\"Battery report\",\"\")&#125;| %&#123;$_.Replace(\"COMPUTER NAME\",\"\")&#125;| %&#123;$_.Replace(\"SYSTEM PRODUCT NAME\",\"\")&#125;| %&#123;$_.Replace(\"OS BUILD\",\"\")&#125;| %&#123;$_.Replace(\"PLATFORM ROLE\",\"\")&#125;| %&#123;$_.Replace(\"CONNECTED STANDBY\",\"InstantGo\")&#125;| %&#123;$_.Replace(\"REPORT TIME\",\"\")&#125;| %&#123;$_.Replace(\"Installed batteries\",\"\")&#125;| %&#123;$_.Replace(\"Information about each currently installed battery\",\"\")&#125;| %&#123;$_.Replace(\"NAME\",\"\")&#125;| %&#123;$_.Replace(\"MANUFACTURER\",\"\")&#125;| %&#123;$_.Replace(\"SERIAL NUMBER\",\"\")&#125;| %&#123;$_.Replace(\"CHEMISTRY\",\"\")&#125;| %&#123;$_.Replace(\"AT DESIGN CAPACITY\",\"\")&#125;| %&#123;$_.Replace(\"DESIGN CAPACITY\",\"\")&#125;| %&#123;$_.Replace(\"FULL CHARGE CAPACITY\",\"\")&#125;| %&#123;$_.Replace(\"CYCLE COUNT\",\"\")&#125;| %&#123;$_.Replace(\"Recent usage\",\"\")&#125;| %&#123;$_.Replace(\"Power states over the last 3 days\",\"72\")&#125;| %&#123;$_.Replace(\"START TIME\",\"\")&#125;| %&#123;$_.Replace(\"STATE\",\"\")&#125;| %&#123;$_.Replace(\"SOURCE\",\"\")&#125;| %&#123;$_.Replace(\"CAPACITY REMAINING\",\"\")&#125;| %&#123;$_.Replace(\"Battery usage\",\"\")&#125;| %&#123;$_.Replace(\"Battery drains over the last 3 days\",\"72\")&#125;| %&#123;$_.Replace(\"DURATION\",\"\")&#125;| %&#123;$_.Replace(\"ENERGY DRAINED\",\"\")&#125;| %&#123;$_.Replace(\"Usage history\",\"\")&#125;| %&#123;$_.Replace(\"History of system usage on AC and battery\",\"\")&#125;| %&#123;$_.Replace(\"BATTERY DURATION\",\"\")&#125;| %&#123;$_.Replace(\"AC DURATION \",\"\")&#125;| %&#123;$_.Replace(\"PERIOD\",\"\")&#125;| %&#123;$_.Replace(\"ACTIVE\",\"\")&#125;| %&#123;$_.Replace(\"Battery capacity history\",\"\")&#125;| %&#123;$_.Replace(\"Charge capacity history of the system's batteries\",\"\")&#125;| %&#123;$_.Replace(\"Battery life estimates based on observed drains\",\"\")&#125;| %&#123;$_.Replace(\"Battery life estimates\",\"\")&#125;| %&#123;$_.Replace(\"AT FULL CHARGE\",\"\")&#125;| %&#123;$_.Replace(\"Current estimate of battery life based on all observed drains since OS install\",\"\")&#125;| %&#123;$_.Replace(\"Since OS install\",\"\")&#125;| %&#123;$_.Replace(\"Supported\",\"\")&#125;| %&#123;$_.Replace(\"Not supported\",\"\")&#125;| %&#123;$_.Replace(\"BATTERY\",\"\")&#125;| %&#123;$_.Replace(\"Suspended\",\"\")&#125;| %&#123;$_.Replace(\"Active\",\"\")&#125;| %&#123;$_.Replace(\"Unspecified\",\"\")&#125;| %&#123;$_.Replace(\"Mobile\",\"\")&#125;| %&#123;$_.Replace(\"Desktop\",\"\")&#125;| %&#123;$_.Replace(\"Workstation\",\"\")&#125;| %&#123;$_.Replace(\"Report generated\",\"\")&#125;| %&#123;$_.Replace(\"Battery\",\"\")&#125;| %&#123;$_.Replace(\"AC\",\"\")&#125;|Out-File \"$HTML\";pause</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h2 id=\"-battery-report-\"><a href=\"#-battery-report-\" class=\"headerlink\" title=\"(battery-report)-\"></a>(battery-report)-</h2><p><a href=\"http://answers.microsoft.com/zh-hans/windows/wiki/windows_10-performance/%E8%8E%B7%E5%8F%96%E7%94%B5%E6%B1%A0%E4%BD%BF/2d025ee0-8529-45a0-a5ae-46aa5e67f8e8\" target=\"_blank\" rel=\"noopener\">(battery-report)-</a></p>\n<ol>\n<li>POWERSHELL</li>\n<li>Windows Powershell</li>\n</ol>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$HTML=[System.Environment]::GetFolderPath('Desktop')+\"\\\"+(Get-Date -Format 'yyyy-MM-dd')+\"-.html\";POWERCFG /BATTERYREPORT /OUTPUT \"$HTML\";$TF=Get-Content \"$HTML\";$TF| %&#123;$_.Replace(\"Battery report\",\"\")&#125;| %&#123;$_.Replace(\"COMPUTER NAME\",\"\")&#125;| %&#123;$_.Replace(\"SYSTEM PRODUCT NAME\",\"\")&#125;| %&#123;$_.Replace(\"OS BUILD\",\"\")&#125;| %&#123;$_.Replace(\"PLATFORM ROLE\",\"\")&#125;| %&#123;$_.Replace(\"CONNECTED STANDBY\",\"InstantGo\")&#125;| %&#123;$_.Replace(\"REPORT TIME\",\"\")&#125;| %&#123;$_.Replace(\"Installed batteries\",\"\")&#125;| %&#123;$_.Replace(\"Information about each currently installed battery\",\"\")&#125;| %&#123;$_.Replace(\"NAME\",\"\")&#125;| %&#123;$_.Replace(\"MANUFACTURER\",\"\")&#125;| %&#123;$_.Replace(\"SERIAL NUMBER\",\"\")&#125;| %&#123;$_.Replace(\"CHEMISTRY\",\"\")&#125;| %&#123;$_.Replace(\"AT DESIGN CAPACITY\",\"\")&#125;| %&#123;$_.Replace(\"DESIGN CAPACITY\",\"\")&#125;| %&#123;$_.Replace(\"FULL CHARGE CAPACITY\",\"\")&#125;| %&#123;$_.Replace(\"CYCLE COUNT\",\"\")&#125;| %&#123;$_.Replace(\"Recent usage\",\"\")&#125;| %&#123;$_.Replace(\"Power states over the last 3 days\",\"72\")&#125;| %&#123;$_.Replace(\"START TIME\",\"\")&#125;| %&#123;$_.Replace(\"STATE\",\"\")&#125;| %&#123;$_.Replace(\"SOURCE\",\"\")&#125;| %&#123;$_.Replace(\"CAPACITY REMAINING\",\"\")&#125;| %&#123;$_.Replace(\"Battery usage\",\"\")&#125;| %&#123;$_.Replace(\"Battery drains over the last 3 days\",\"72\")&#125;| %&#123;$_.Replace(\"DURATION\",\"\")&#125;| %&#123;$_.Replace(\"ENERGY DRAINED\",\"\")&#125;| %&#123;$_.Replace(\"Usage history\",\"\")&#125;| %&#123;$_.Replace(\"History of system usage on AC and battery\",\"\")&#125;| %&#123;$_.Replace(\"BATTERY DURATION\",\"\")&#125;| %&#123;$_.Replace(\"AC DURATION \",\"\")&#125;| %&#123;$_.Replace(\"PERIOD\",\"\")&#125;| %&#123;$_.Replace(\"ACTIVE\",\"\")&#125;| %&#123;$_.Replace(\"Battery capacity history\",\"\")&#125;| %&#123;$_.Replace(\"Charge capacity history of the system's batteries\",\"\")&#125;| %&#123;$_.Replace(\"Battery life estimates based on observed drains\",\"\")&#125;| %&#123;$_.Replace(\"Battery life estimates\",\"\")&#125;| %&#123;$_.Replace(\"AT FULL CHARGE\",\"\")&#125;| %&#123;$_.Replace(\"Current estimate of battery life based on all observed drains since OS install\",\"\")&#125;| %&#123;$_.Replace(\"Since OS install\",\"\")&#125;| %&#123;$_.Replace(\"Supported\",\"\")&#125;| %&#123;$_.Replace(\"Not supported\",\"\")&#125;| %&#123;$_.Replace(\"BATTERY\",\"\")&#125;| %&#123;$_.Replace(\"Suspended\",\"\")&#125;| %&#123;$_.Replace(\"Active\",\"\")&#125;| %&#123;$_.Replace(\"Unspecified\",\"\")&#125;| %&#123;$_.Replace(\"Mobile\",\"\")&#125;| %&#123;$_.Replace(\"Desktop\",\"\")&#125;| %&#123;$_.Replace(\"Workstation\",\"\")&#125;| %&#123;$_.Replace(\"Report generated\",\"\")&#125;| %&#123;$_.Replace(\"Battery\",\"\")&#125;| %&#123;$_.Replace(\"AC\",\"\")&#125;|Out-File \"$HTML\";pause</span><br></pre></td></tr></table></figure>"},{"layout":"post","title":"VS","date":"2016-10-13T16:00:00.000Z","_content":"\nctrl+s         \n\nctrl+Shift+S   VS\n\nctrl+O         \n\nctrl+Shift+O   \n\nctrl+Shift+A   \n\nctrl+F4        \n\nctrl+F6        \n\nctrl+Shift+F6  \n\nF12            \n\nctrl+-         F12F12\n\nshift+ctrl+-   \n\nctrl+tab       \n\nctrl+F         \n\nctrl+F3        \n\nctrl+Kctrl+D \n\nctrl+K,ctrl+F  \n\nctrl+Kctrl+C  \n\nctrl+Kctrl+U  \n\nctrl+L          \n\nShift+Alt+Enter \n\nctrl+Mctrl+M  \n\nctrl+space      \n\nctrl+Enter      \n\nctrl+Shift+Enter\n\nShift+F12       \n\nctrl+g          \n\nctrl+Shift+    \n\nctrl+Shift+    \n\nShift+Alt+    \n\nShift+Alt+    \n\nShift+         \n\nShift+         ","source":"_posts/visualstudio_shortcut_key.md","raw":"---\nlayout: post\ntitle: VS\ncategory: memorandum\ndate: 2016-10-14 00:00:00\ntags:\n- Visual Studio\n---\n\nctrl+s         \n\nctrl+Shift+S   VS\n\nctrl+O         \n\nctrl+Shift+O   \n\nctrl+Shift+A   \n\nctrl+F4        \n\nctrl+F6        \n\nctrl+Shift+F6  \n\nF12            \n\nctrl+-         F12F12\n\nshift+ctrl+-   \n\nctrl+tab       \n\nctrl+F         \n\nctrl+F3        \n\nctrl+Kctrl+D \n\nctrl+K,ctrl+F  \n\nctrl+Kctrl+C  \n\nctrl+Kctrl+U  \n\nctrl+L          \n\nShift+Alt+Enter \n\nctrl+Mctrl+M  \n\nctrl+space      \n\nctrl+Enter      \n\nctrl+Shift+Enter\n\nShift+F12       \n\nctrl+g          \n\nctrl+Shift+    \n\nctrl+Shift+    \n\nShift+Alt+    \n\nShift+Alt+    \n\nShift+         \n\nShift+         ","slug":"visualstudio_shortcut_key","published":1,"updated":"2018-05-17T08:35:15.607Z","_id":"cjha9yrme0002j21w3zy9t5yi","comments":1,"photos":[],"link":"","content":"<p>ctrl+s         </p>\n<p>ctrl+Shift+S   VS</p>\n<p>ctrl+O         </p>\n<p>ctrl+Shift+O   </p>\n<p>ctrl+Shift+A   </p>\n<p>ctrl+F4        </p>\n<p>ctrl+F6        </p>\n<p>ctrl+Shift+F6  </p>\n<p>F12            </p>\n<p>ctrl+-         F12F12</p>\n<p>shift+ctrl+-   </p>\n<p>ctrl+tab       </p>\n<p>ctrl+F         </p>\n<p>ctrl+F3        </p>\n<p>ctrl+Kctrl+D </p>\n<p>ctrl+K,ctrl+F  </p>\n<p>ctrl+Kctrl+C  </p>\n<p>ctrl+Kctrl+U  </p>\n<p>ctrl+L          </p>\n<p>Shift+Alt+Enter </p>\n<p>ctrl+Mctrl+M  </p>\n<p>ctrl+space      </p>\n<p>ctrl+Enter      </p>\n<p>ctrl+Shift+Enter</p>\n<p>Shift+F12       </p>\n<p>ctrl+g          </p>\n<p>ctrl+Shift+    </p>\n<p>ctrl+Shift+    </p>\n<p>Shift+Alt+    </p>\n<p>Shift+Alt+    </p>\n<p>Shift+         </p>\n<p>Shift+         </p>\n","site":{"data":{}},"excerpt":"","more":"<p>ctrl+s         </p>\n<p>ctrl+Shift+S   VS</p>\n<p>ctrl+O         </p>\n<p>ctrl+Shift+O   </p>\n<p>ctrl+Shift+A   </p>\n<p>ctrl+F4        </p>\n<p>ctrl+F6        </p>\n<p>ctrl+Shift+F6  </p>\n<p>F12            </p>\n<p>ctrl+-         F12F12</p>\n<p>shift+ctrl+-   </p>\n<p>ctrl+tab       </p>\n<p>ctrl+F         </p>\n<p>ctrl+F3        </p>\n<p>ctrl+Kctrl+D </p>\n<p>ctrl+K,ctrl+F  </p>\n<p>ctrl+Kctrl+C  </p>\n<p>ctrl+Kctrl+U  </p>\n<p>ctrl+L          </p>\n<p>Shift+Alt+Enter </p>\n<p>ctrl+Mctrl+M  </p>\n<p>ctrl+space      </p>\n<p>ctrl+Enter      </p>\n<p>ctrl+Shift+Enter</p>\n<p>Shift+F12       </p>\n<p>ctrl+g          </p>\n<p>ctrl+Shift+    </p>\n<p>ctrl+Shift+    </p>\n<p>Shift+Alt+    </p>\n<p>Shift+Alt+    </p>\n<p>Shift+         </p>\n<p>Shift+         </p>\n"},{"layout":"post","title":"Visual Studio Code Debug","date":"2017-03-16T16:00:00.000Z","_content":"# Visual Studio Code Debug\n\n## \n\n\n\nError...\n\nPHP\n\nVisual Studio CodeHBuilderphpStudy\n\nErrordebug...echo\n\n...\n\nVisual Studio Code + PHP\n\n## Visual Studio Code + php-debug + phpStudy + xdebug\n\n### Visual Studio Code\n\n[Visual Studio Code](http://code.visualstudio.com/) \n\nOpen with code\n\n![Open with code](http://7xread.com1.z0.glb.clouddn.com/b1cee12e-6215-4f04-9dea-3721400e238b)\n\n### Visual Studio Code php-debug\n\nVS CodePHP-DebugphpPHP Debug\n\n![PHP-Debug](http://7xread.com1.z0.glb.clouddn.com/3f798ea9-bba9-4768-9f58-14257ddc1999)\n\nvs code\n\n### phpStudy\n\nPHP\n\n[phpStudy](http://www.phpstudy.net/)\n\n...\n\n![phpStudy](http://7xread.com1.z0.glb.clouddn.com/6c8ea274-9da5-4168-ba80-f6a0f6e173c3)\n\n\n\n![phpStudy](http://7xread.com1.z0.glb.clouddn.com/7d2d12e2-783f-4402-8900-0315905c6948)\n\nPHPPHPApacheMySQL\ndalao233...\n\nphpMyAdminMySQL\n\nPHP...\n\nPHP\n\n### xdebug\n\n[xdebug](https://xdebug.org/)\n\n```sh\nXdebugPHP\nXdebugzend studioeditplusPHP\n\n(auto_trace)PHP\nPHP\n\n[PHPXdebug]\n(http://www.cnblogs.com/qiantuwuliang/archive/2011/01/23/1942382.html)\n\n```\n\n[xdebug.org](https://xdebug.org/)PHPxdebug dll\n\nphpStudyphp-inidebugphpStudyxdebug\n\nphpStudyphp.ini--php-ini\n\n![php.ini](http://7xread.com1.z0.glb.clouddn.com/76b103cd-399c-4bce-a716-098adbd4d212)\n\nxdebug\n\n![xdebug](http://7xread.com1.z0.glb.clouddn.com/00285d82-f76f-4fd8-8ba6-f429de194809)\n\nphpStudyxdebug dllzend_extension\n\n```\n\nxdebug.remote_enable = 1\nxdebug.remote_autostart= 1\n\n```\n\n\n\n```\n[XDebug]\n;xdebug.profiler_output_dir=\"C:\\phpStudy\\tmp\\xdebug\"\n;xdebug.trace_output_dir=\"C:\\phpStudy\\tmp\\xdebug\"\nxdebug.remote_enable = 1\nxdebug.remote_autostart= 1\n;PHPphp_xdebug.dllphpStudy\nzend_extension=\"C:\\phpStudy\\php\\php-5.5.38\\ext\\php_xdebug.dll\"\n```\n\nphpStudy\n\n#### Visual Studio Code \n\nPHPvs codevs codeCannot validate since no PHP executable is set. Use the setting 'php.validate.executablePath' to configure the PHP executable.\n\nPHPphp.validate.executablePath\n\n--\n\n\n![php.validate.executablePath](http://7xread.com1.z0.glb.clouddn.com/df4428e9-9ef2-435a-a5f5-ae8bade00a39)\n\nphp.validate.executablePathphpStudyphp.exephpStudy---PHP\n\nVisual Studio CodeDebugPHPlaunch.json\n\n![Listen for XDebug](http://7xread.com1.z0.glb.clouddn.com/e1b74467-9142-4a2f-bf5e-89aa2c2e0127)\n\n...\n\n#### Debug\n\nphpStudy,Visual Studio Code\n\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/7ac86cce-edc6-49a6-abb6-44f74c55a027)\n\nPHPDebug...\n\n![](http://7xread.com1.z0.glb.clouddn.com/7f7739df-02d4-47e5-8e42-67b9bd9f75ee)\n\n![](http://7xread.com1.z0.glb.clouddn.com/41913030-362c-45cb-a187-08eed7728e8c)\n\nF10F11F5\n\n### \n\nphp.inixdebug.dllphp.validate.executablePath\n\n\n\n1. [ XDebugphp](http://blog.csdn.net/ruihanchen/article/details/7705842)\n\n2. [XAMPPphpStorm+XDebug](http://www.chenxuanyi.cn/xampp-phpstorm-xdebug.html)\n\n3. [PHPStormXDebug](http://blog.csdn.net/dc_726/article/details/9905517)\n\n\n#### PS:...(\n\n","source":"_posts/visualstudiocode_for_php_debug.md","raw":"---\nlayout: post\ntitle: Visual Studio Code Debug\ncategory: Visual Studio\ndate: 2017-03-17 00:00:00\ntags:\n- Visual Studio\n- PHP\n- Debug\n---\n# Visual Studio Code Debug\n\n## \n\n\n\nError...\n\nPHP\n\nVisual Studio CodeHBuilderphpStudy\n\nErrordebug...echo\n\n...\n\nVisual Studio Code + PHP\n\n## Visual Studio Code + php-debug + phpStudy + xdebug\n\n### Visual Studio Code\n\n[Visual Studio Code](http://code.visualstudio.com/) \n\nOpen with code\n\n![Open with code](http://7xread.com1.z0.glb.clouddn.com/b1cee12e-6215-4f04-9dea-3721400e238b)\n\n### Visual Studio Code php-debug\n\nVS CodePHP-DebugphpPHP Debug\n\n![PHP-Debug](http://7xread.com1.z0.glb.clouddn.com/3f798ea9-bba9-4768-9f58-14257ddc1999)\n\nvs code\n\n### phpStudy\n\nPHP\n\n[phpStudy](http://www.phpstudy.net/)\n\n...\n\n![phpStudy](http://7xread.com1.z0.glb.clouddn.com/6c8ea274-9da5-4168-ba80-f6a0f6e173c3)\n\n\n\n![phpStudy](http://7xread.com1.z0.glb.clouddn.com/7d2d12e2-783f-4402-8900-0315905c6948)\n\nPHPPHPApacheMySQL\ndalao233...\n\nphpMyAdminMySQL\n\nPHP...\n\nPHP\n\n### xdebug\n\n[xdebug](https://xdebug.org/)\n\n```sh\nXdebugPHP\nXdebugzend studioeditplusPHP\n\n(auto_trace)PHP\nPHP\n\n[PHPXdebug]\n(http://www.cnblogs.com/qiantuwuliang/archive/2011/01/23/1942382.html)\n\n```\n\n[xdebug.org](https://xdebug.org/)PHPxdebug dll\n\nphpStudyphp-inidebugphpStudyxdebug\n\nphpStudyphp.ini--php-ini\n\n![php.ini](http://7xread.com1.z0.glb.clouddn.com/76b103cd-399c-4bce-a716-098adbd4d212)\n\nxdebug\n\n![xdebug](http://7xread.com1.z0.glb.clouddn.com/00285d82-f76f-4fd8-8ba6-f429de194809)\n\nphpStudyxdebug dllzend_extension\n\n```\n\nxdebug.remote_enable = 1\nxdebug.remote_autostart= 1\n\n```\n\n\n\n```\n[XDebug]\n;xdebug.profiler_output_dir=\"C:\\phpStudy\\tmp\\xdebug\"\n;xdebug.trace_output_dir=\"C:\\phpStudy\\tmp\\xdebug\"\nxdebug.remote_enable = 1\nxdebug.remote_autostart= 1\n;PHPphp_xdebug.dllphpStudy\nzend_extension=\"C:\\phpStudy\\php\\php-5.5.38\\ext\\php_xdebug.dll\"\n```\n\nphpStudy\n\n#### Visual Studio Code \n\nPHPvs codevs codeCannot validate since no PHP executable is set. Use the setting 'php.validate.executablePath' to configure the PHP executable.\n\nPHPphp.validate.executablePath\n\n--\n\n\n![php.validate.executablePath](http://7xread.com1.z0.glb.clouddn.com/df4428e9-9ef2-435a-a5f5-ae8bade00a39)\n\nphp.validate.executablePathphpStudyphp.exephpStudy---PHP\n\nVisual Studio CodeDebugPHPlaunch.json\n\n![Listen for XDebug](http://7xread.com1.z0.glb.clouddn.com/e1b74467-9142-4a2f-bf5e-89aa2c2e0127)\n\n...\n\n#### Debug\n\nphpStudy,Visual Studio Code\n\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/7ac86cce-edc6-49a6-abb6-44f74c55a027)\n\nPHPDebug...\n\n![](http://7xread.com1.z0.glb.clouddn.com/7f7739df-02d4-47e5-8e42-67b9bd9f75ee)\n\n![](http://7xread.com1.z0.glb.clouddn.com/41913030-362c-45cb-a187-08eed7728e8c)\n\nF10F11F5\n\n### \n\nphp.inixdebug.dllphp.validate.executablePath\n\n\n\n1. [ XDebugphp](http://blog.csdn.net/ruihanchen/article/details/7705842)\n\n2. [XAMPPphpStorm+XDebug](http://www.chenxuanyi.cn/xampp-phpstorm-xdebug.html)\n\n3. [PHPStormXDebug](http://blog.csdn.net/dc_726/article/details/9905517)\n\n\n#### PS:...(\n\n","slug":"visualstudiocode_for_php_debug","published":1,"updated":"2018-05-17T07:59:54.948Z","comments":1,"photos":[],"link":"","_id":"cjha9yrmo0004j21w261hgwa7","content":"<h1 id=\"Visual-Studio-Code-Debug\"><a href=\"#Visual-Studio-Code-Debug\" class=\"headerlink\" title=\"Visual Studio Code Debug\"></a>Visual Studio Code Debug</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Error</p>\n<p>PHP</p>\n<p>Visual Studio CodeHBuilderphpStudy</p>\n<p>Errordebugecho</p>\n<p></p>\n<p>Visual Studio Code + PHP</p>\n<h2 id=\"Visual-Studio-Code-php-debug-phpStudy-xdebug\"><a href=\"#Visual-Studio-Code-php-debug-phpStudy-xdebug\" class=\"headerlink\" title=\"Visual Studio Code + php-debug + phpStudy + xdebug\"></a>Visual Studio Code + php-debug + phpStudy + xdebug</h2><h3 id=\"Visual-Studio-Code\"><a href=\"#Visual-Studio-Code\" class=\"headerlink\" title=\"Visual Studio Code\"></a>Visual Studio Code</h3><p><a href=\"http://code.visualstudio.com/\" target=\"_blank\" rel=\"noopener\">Visual Studio Code</a> </p>\n<p>Open with code</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/b1cee12e-6215-4f04-9dea-3721400e238b\" alt=\"Open with code\"></p>\n<h3 id=\"Visual-Studio-Code-php-debug\"><a href=\"#Visual-Studio-Code-php-debug\" class=\"headerlink\" title=\"Visual Studio Code php-debug\"></a>Visual Studio Code php-debug</h3><p>VS CodePHP-DebugphpPHP Debug<br><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/3f798ea9-bba9-4768-9f58-14257ddc1999\" alt=\"PHP-Debug\"></p>\n<p>vs code</p>\n<h3 id=\"phpStudy\"><a href=\"#phpStudy\" class=\"headerlink\" title=\"phpStudy\"></a>phpStudy</h3><p>PHP</p>\n<p><a href=\"http://www.phpstudy.net/\" target=\"_blank\" rel=\"noopener\">phpStudy</a></p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/6c8ea274-9da5-4168-ba80-f6a0f6e173c3\" alt=\"phpStudy\"></p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/7d2d12e2-783f-4402-8900-0315905c6948\" alt=\"phpStudy\"></p>\n<p>PHPPHPApacheMySQL<br>dalao233</p>\n<p>phpMyAdminMySQL</p>\n<p>PHP</p>\n<p>PHP</p>\n<h3 id=\"xdebug\"><a href=\"#xdebug\" class=\"headerlink\" title=\"xdebug\"></a>xdebug</h3><p><a href=\"https://xdebug.org/\" target=\"_blank\" rel=\"noopener\">xdebug</a></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">XdebugPHP</span><br><span class=\"line\">Xdebugzend studioeditplusPHP</span><br><span class=\"line\"></span><br><span class=\"line\">(auto_trace)PHP</span><br><span class=\"line\">PHP</span><br><span class=\"line\"></span><br><span class=\"line\">[PHPXdebug]</span><br><span class=\"line\">(http://www.cnblogs.com/qiantuwuliang/archive/2011/01/23/1942382.html)</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://xdebug.org/\" target=\"_blank\" rel=\"noopener\">xdebug.org</a>PHPxdebug dll</p>\n<p>phpStudyphp-inidebugphpStudyxdebug</p>\n<p>phpStudyphp.ini--php-ini</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/76b103cd-399c-4bce-a716-098adbd4d212\" alt=\"php.ini\"></p>\n<p>xdebug</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/00285d82-f76f-4fd8-8ba6-f429de194809\" alt=\"xdebug\"></p>\n<p>phpStudyxdebug dllzend_extension</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">xdebug.remote_enable = 1</span><br><span class=\"line\">xdebug.remote_autostart= 1</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[XDebug]</span><br><span class=\"line\">;xdebug.profiler_output_dir=&quot;C:\\phpStudy\\tmp\\xdebug&quot;</span><br><span class=\"line\">;xdebug.trace_output_dir=&quot;C:\\phpStudy\\tmp\\xdebug&quot;</span><br><span class=\"line\">xdebug.remote_enable = 1</span><br><span class=\"line\">xdebug.remote_autostart= 1</span><br><span class=\"line\">;PHPphp_xdebug.dllphpStudy</span><br><span class=\"line\">zend_extension=&quot;C:\\phpStudy\\php\\php-5.5.38\\ext\\php_xdebug.dll&quot;</span><br></pre></td></tr></table></figure></p>\n<p>phpStudy</p>\n<h4 id=\"Visual-Studio-Code-\"><a href=\"#Visual-Studio-Code-\" class=\"headerlink\" title=\"Visual Studio Code \"></a>Visual Studio Code </h4><p>PHPvs codevs codeCannot validate since no PHP executable is set. Use the setting php.validate.executablePath to configure the PHP executable.</p>\n<p>PHPphp.validate.executablePath</p>\n<p>--</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/df4428e9-9ef2-435a-a5f5-ae8bade00a39\" alt=\"php.validate.executablePath\"></p>\n<p>php.validate.executablePathphpStudyphp.exephpStudy---PHP</p>\n<p>Visual Studio CodeDebugPHPlaunch.json</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/e1b74467-9142-4a2f-bf5e-89aa2c2e0127\" alt=\"Listen for XDebug\"></p>\n<p></p>\n<h4 id=\"Debug\"><a href=\"#Debug\" class=\"headerlink\" title=\"Debug\"></a>Debug</h4><p>phpStudy,Visual Studio Code</p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/7ac86cce-edc6-49a6-abb6-44f74c55a027\" alt=\"\"></p>\n<p>PHPDebug</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/7f7739df-02d4-47e5-8e42-67b9bd9f75ee\" alt=\"\"></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/41913030-362c-45cb-a187-08eed7728e8c\" alt=\"\"></p>\n<p>F10F11F5</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>php.inixdebug.dllphp.validate.executablePath</p>\n<p></p>\n<ol>\n<li><p><a href=\"http://blog.csdn.net/ruihanchen/article/details/7705842\" target=\"_blank\" rel=\"noopener\"> XDebugphp</a></p>\n</li>\n<li><p><a href=\"http://www.chenxuanyi.cn/xampp-phpstorm-xdebug.html\" target=\"_blank\" rel=\"noopener\">XAMPPphpStorm+XDebug</a></p>\n</li>\n<li><p><a href=\"http://blog.csdn.net/dc_726/article/details/9905517\" target=\"_blank\" rel=\"noopener\">PHPStormXDebug</a></p>\n</li>\n</ol>\n<h4 id=\"PS--\"><a href=\"#PS--\" class=\"headerlink\" title=\"PS:(\"></a>PS:(</h4>","site":{"data":{}},"excerpt":"","more":"<h1 id=\"Visual-Studio-Code-Debug\"><a href=\"#Visual-Studio-Code-Debug\" class=\"headerlink\" title=\"Visual Studio Code Debug\"></a>Visual Studio Code Debug</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Error</p>\n<p>PHP</p>\n<p>Visual Studio CodeHBuilderphpStudy</p>\n<p>Errordebugecho</p>\n<p></p>\n<p>Visual Studio Code + PHP</p>\n<h2 id=\"Visual-Studio-Code-php-debug-phpStudy-xdebug\"><a href=\"#Visual-Studio-Code-php-debug-phpStudy-xdebug\" class=\"headerlink\" title=\"Visual Studio Code + php-debug + phpStudy + xdebug\"></a>Visual Studio Code + php-debug + phpStudy + xdebug</h2><h3 id=\"Visual-Studio-Code\"><a href=\"#Visual-Studio-Code\" class=\"headerlink\" title=\"Visual Studio Code\"></a>Visual Studio Code</h3><p><a href=\"http://code.visualstudio.com/\" target=\"_blank\" rel=\"noopener\">Visual Studio Code</a> </p>\n<p>Open with code</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/b1cee12e-6215-4f04-9dea-3721400e238b\" alt=\"Open with code\"></p>\n<h3 id=\"Visual-Studio-Code-php-debug\"><a href=\"#Visual-Studio-Code-php-debug\" class=\"headerlink\" title=\"Visual Studio Code php-debug\"></a>Visual Studio Code php-debug</h3><p>VS CodePHP-DebugphpPHP Debug<br><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/3f798ea9-bba9-4768-9f58-14257ddc1999\" alt=\"PHP-Debug\"></p>\n<p>vs code</p>\n<h3 id=\"phpStudy\"><a href=\"#phpStudy\" class=\"headerlink\" title=\"phpStudy\"></a>phpStudy</h3><p>PHP</p>\n<p><a href=\"http://www.phpstudy.net/\" target=\"_blank\" rel=\"noopener\">phpStudy</a></p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/6c8ea274-9da5-4168-ba80-f6a0f6e173c3\" alt=\"phpStudy\"></p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/7d2d12e2-783f-4402-8900-0315905c6948\" alt=\"phpStudy\"></p>\n<p>PHPPHPApacheMySQL<br>dalao233</p>\n<p>phpMyAdminMySQL</p>\n<p>PHP</p>\n<p>PHP</p>\n<h3 id=\"xdebug\"><a href=\"#xdebug\" class=\"headerlink\" title=\"xdebug\"></a>xdebug</h3><p><a href=\"https://xdebug.org/\" target=\"_blank\" rel=\"noopener\">xdebug</a></p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">XdebugPHP</span><br><span class=\"line\">Xdebugzend studioeditplusPHP</span><br><span class=\"line\"></span><br><span class=\"line\">(auto_trace)PHP</span><br><span class=\"line\">PHP</span><br><span class=\"line\"></span><br><span class=\"line\">[PHPXdebug]</span><br><span class=\"line\">(http://www.cnblogs.com/qiantuwuliang/archive/2011/01/23/1942382.html)</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://xdebug.org/\" target=\"_blank\" rel=\"noopener\">xdebug.org</a>PHPxdebug dll</p>\n<p>phpStudyphp-inidebugphpStudyxdebug</p>\n<p>phpStudyphp.ini--php-ini</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/76b103cd-399c-4bce-a716-098adbd4d212\" alt=\"php.ini\"></p>\n<p>xdebug</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/00285d82-f76f-4fd8-8ba6-f429de194809\" alt=\"xdebug\"></p>\n<p>phpStudyxdebug dllzend_extension</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">xdebug.remote_enable = 1</span><br><span class=\"line\">xdebug.remote_autostart= 1</span><br></pre></td></tr></table></figure>\n<p><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[XDebug]</span><br><span class=\"line\">;xdebug.profiler_output_dir=&quot;C:\\phpStudy\\tmp\\xdebug&quot;</span><br><span class=\"line\">;xdebug.trace_output_dir=&quot;C:\\phpStudy\\tmp\\xdebug&quot;</span><br><span class=\"line\">xdebug.remote_enable = 1</span><br><span class=\"line\">xdebug.remote_autostart= 1</span><br><span class=\"line\">;PHPphp_xdebug.dllphpStudy</span><br><span class=\"line\">zend_extension=&quot;C:\\phpStudy\\php\\php-5.5.38\\ext\\php_xdebug.dll&quot;</span><br></pre></td></tr></table></figure></p>\n<p>phpStudy</p>\n<h4 id=\"Visual-Studio-Code-\"><a href=\"#Visual-Studio-Code-\" class=\"headerlink\" title=\"Visual Studio Code \"></a>Visual Studio Code </h4><p>PHPvs codevs codeCannot validate since no PHP executable is set. Use the setting php.validate.executablePath to configure the PHP executable.</p>\n<p>PHPphp.validate.executablePath</p>\n<p>--</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/df4428e9-9ef2-435a-a5f5-ae8bade00a39\" alt=\"php.validate.executablePath\"></p>\n<p>php.validate.executablePathphpStudyphp.exephpStudy---PHP</p>\n<p>Visual Studio CodeDebugPHPlaunch.json</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/e1b74467-9142-4a2f-bf5e-89aa2c2e0127\" alt=\"Listen for XDebug\"></p>\n<p></p>\n<h4 id=\"Debug\"><a href=\"#Debug\" class=\"headerlink\" title=\"Debug\"></a>Debug</h4><p>phpStudy,Visual Studio Code</p>\n<p></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/7ac86cce-edc6-49a6-abb6-44f74c55a027\" alt=\"\"></p>\n<p>PHPDebug</p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/7f7739df-02d4-47e5-8e42-67b9bd9f75ee\" alt=\"\"></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/41913030-362c-45cb-a187-08eed7728e8c\" alt=\"\"></p>\n<p>F10F11F5</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>php.inixdebug.dllphp.validate.executablePath</p>\n<p></p>\n<ol>\n<li><p><a href=\"http://blog.csdn.net/ruihanchen/article/details/7705842\" target=\"_blank\" rel=\"noopener\"> XDebugphp</a></p>\n</li>\n<li><p><a href=\"http://www.chenxuanyi.cn/xampp-phpstorm-xdebug.html\" target=\"_blank\" rel=\"noopener\">XAMPPphpStorm+XDebug</a></p>\n</li>\n<li><p><a href=\"http://blog.csdn.net/dc_726/article/details/9905517\" target=\"_blank\" rel=\"noopener\">PHPStormXDebug</a></p>\n</li>\n</ol>\n<h4 id=\"PS--\"><a href=\"#PS--\" class=\"headerlink\" title=\"PS:(\"></a>PS:(</h4>"},{"layout":"post","title":"ASP.NET MVC JS-SDK","date":"2016-10-31T16:00:00.000Z","_content":"# ASP.NET MVC JS-SDK\n\n## \n\nJS-SDK\n\n(tu)(cao)...\n\n## \n\n:[JSSDK](http://mp.weixin.qq.com/wiki/11/74ad127cc054f6b80759c40f77ec03db.html)\n\n![](http://7xread.com1.z0.glb.clouddn.com/44b1232e-9311-4abb-9200-6dd4936d7c47)\n\n[](http://mp.weixin.qq.com/wiki/11/74ad127cc054f6b80759c40f77ec03db.html#.E5.88.86.E4.BA.AB.E6.8E.A5.E5.8F.A3) JS-SDKJS\n\n\n\n\n\nJS\n\nconfig\n\nready\n\nerror\n\n/xx.com/xxx.txtxx.com/mp/xxx.txtJS-SDK\n\n\n\n\n\n### config\n\n\n\nJS-SDK\nurlurlSPAweb appurl,\nAndroidpushStateH5\npushStateweb appAndroid6.2\n\n```javascript\nwx.config({\n    debug: true, // ,apialert\n    //pclogpc\n    appId: '', // \n    timestamp: , // \n    nonceStr: '', // \n    signature: '',// 1\n    jsApiList: [] // JSJS2\n});\n```\n\n...\n\n1...\n\n1. configsignatrue\n2. signatureappidsecrettoken\n3. URL\n4. \n\n\n\n1. appidsecretaccess_tokentokenjsapi_ticket\n\n2. jsapi_ticketjsapi_ticketURL sha1signature\n\n3. wx.configappidtimestampsha1signatureJS\n\n\n\n### \n\n```csharp\n    public class WeiXinController : Controller\n    {\n        public static readonly string appid =\n        System.Web.Configuration.WebConfigurationManager.AppSettings[\"wxappid\"];\n\n        public static readonly string secret =\n        System.Web.Configuration.WebConfigurationManager.AppSettings[\"wxsecret\"];\n\n        public static readonly bool isDedug =\n        System.Web.Configuration.WebConfigurationManager.AppSettings[\"IsDebug\"] ==\"true\";\n\n\n        public static string _ticket = \"\";\n\n        public static DateTime _lastTimestamp;\n\n\n        public ActionResult Info(string url,string noncestr)\n        {\n            if (string.IsNullOrEmpty(_ticket) || \n            _lastTimestamp == null || (_lastTimestamp - DateTime.Now).Milliseconds > 7200)\n            {\n                var resultString = HTTPHelper.GetHTMLByURL(\"https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=\"\n                    + appid + \"&secret=\" + secret);\n                dynamic resultValue = JsonConvert.DeserializeObject<dynamic>(resultString);\n                if (resultValue == null || resultValue.access_token == null \n                || resultValue.access_token.Value == null)\n                {\n                    return Json(new { issuccess = false, \n                    error = \"token\" });\n                }\n                var token = resultValue.access_token.Value;\n\n                resultString = HTTPHelper.GetHTMLByURL\n                (\"https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=\" + \n                token + \"&type=jsapi\");\n                dynamic ticketValue = JsonConvert.DeserializeObject<dynamic>(resultString);\n                if (ticketValue == null || ticketValue.errcode == null\n                || ticketValue.errcode.Value != 0 || ticketValue.ticket == null)\n                    return Json(new { issuccess = false,\n                    error = \"ticketValue\" });\n                _ticket = ticketValue.ticket.Value;\n                _lastTimestamp = DateTime.Now;\n                var timestamp = GetTimeStamp();\n                var hexString = string.Format(\"jsapi_ticket={0}&noncestr={3}&timestamp={1}&url={2}\",\n                _ticket, timestamp, url,noncestr);\n\n                return Json(new {\n                    issuccess = true, \n                    sha1value = GetSHA1Value(hexString), \n                    timestamp = timestamp, \n                    url = url, \n                    appid = appid, \n                    debug=isDedug,\n                    tiket=_ticket\n                });\n            }\n            else\n            {\n                var timestamp = GetTimeStamp();\n                var hexString = string.Format(\"jsapi_ticket={0}&noncestr=1234567890123456&timestamp={1}&url={2}\",\n                   _ticket, timestamp, url);\n                return Json(new { \n                    issuccess = true, sha1value = GetSHA1Value(hexString),\n                    timestamp = timestamp, url = url,\n                    appid = appid, debug = isDedug,tiket = _ticket\n                });\n            }\n        }\n\n\n        private string GetSHA1Value(string sourceString)\n        {\n            var hash = SHA1.Create().ComputeHash(Encoding.UTF8.GetBytes(sourceString));\n            return string.Join(\"\", \n            hash.Select(b => b.ToString(\"x2\")).ToArray());\n        }\n\n        private static string GetTimeStamp()\n        {\n\n            TimeSpan ts = DateTime.Now - new DateTime(1970, 1, 1, 0, 0, 0, 0);\n\n            return Convert.ToInt64(ts.TotalSeconds).ToString();\n\n        }\n\n    }\n\n    public class HTTPHelper\n    {\n        public static string GetHTMLByURL(string url)\n        {\n            string htmlCode = string.Empty;\n            try\n            {\n                HttpWebRequest webRequest = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(url);\n                webRequest.Timeout = 30000;\n                webRequest.Method = \"GET\";\n                webRequest.UserAgent = \"Mozilla/4.0\";\n                webRequest.Headers.Add(\"Accept-Encoding\", \"gzip, deflate\");\n                HttpWebResponse webResponse = (System.Net.HttpWebResponse)webRequest.GetResponse();\n                //\n                string contentype = webResponse.Headers[\"Content-Type\"];\n                Regex regex = new Regex(\"charset\\\\s*=\\\\s*[\\\\W]?\\\\s*([\\\\w-]+)\", RegexOptions.IgnoreCase);\n                if (webResponse.ContentEncoding.ToLower() == \"gzip\")//GZip\n                {\n                    using (System.IO.Stream streamReceive = webResponse.GetResponseStream())\n                    {\n                        using (var zipStream = new System.IO.Compression.GZipStream(streamReceive, System.IO.Compression.CompressionMode.Decompress))\n                        {\n                            //\n                            if (regex.IsMatch(contentype))\n                            {\n                                Encoding ending = Encoding.GetEncoding\n                                (regex.Match(contentype).Groups[1].Value.Trim());\n                                using (StreamReader sr = new System.IO.StreamReader(zipStream, ending))\n                                {\n                                    htmlCode = sr.ReadToEnd();\n                                }\n                            }\n                            else\n                            {\n                                using (StreamReader sr = new System.IO.StreamReader(zipStream, Encoding.UTF8))\n                                {\n                                    htmlCode = sr.ReadToEnd();\n                                }\n                            }\n                        }\n                    }\n                }\n                else\n                {\n                    using (System.IO.Stream streamReceive = webResponse.GetResponseStream())\n                    {\n                        var encoding = Encoding.Default;\n                        if (contentype.Contains(\"utf\"))\n                            encoding = Encoding.UTF8;\n                        using (System.IO.StreamReader sr = new System.IO.StreamReader(streamReceive, encoding))\n                        {\n                            htmlCode = sr.ReadToEnd();\n                        }\n\n                    }\n                }\n                return htmlCode;\n            }\n            catch (Exception ex)\n            {\n                return \"\";\n            }\n        }\n    }\n\n```\n\nPS_ticketaccess_tokenaccess_tokenaccess_token\n\nPPS:noncestrURL var theWebUrl = window.location.href.split('#')[0] URLnoncestr\n\nPPPS:invalid signatureurlnoncestrtoken\n","source":"_posts/webchat_JS_SDK.md","raw":"---\nlayout: post\ntitle: ASP.NET MVC JS-SDK\ncategory: dotnet core\ndate: 2016-11-01 00:00:00\ntags:\n- .net\n- javascript\n- \n---\n# ASP.NET MVC JS-SDK\n\n## \n\nJS-SDK\n\n(tu)(cao)...\n\n## \n\n:[JSSDK](http://mp.weixin.qq.com/wiki/11/74ad127cc054f6b80759c40f77ec03db.html)\n\n![](http://7xread.com1.z0.glb.clouddn.com/44b1232e-9311-4abb-9200-6dd4936d7c47)\n\n[](http://mp.weixin.qq.com/wiki/11/74ad127cc054f6b80759c40f77ec03db.html#.E5.88.86.E4.BA.AB.E6.8E.A5.E5.8F.A3) JS-SDKJS\n\n\n\n\n\nJS\n\nconfig\n\nready\n\nerror\n\n/xx.com/xxx.txtxx.com/mp/xxx.txtJS-SDK\n\n\n\n\n\n### config\n\n\n\nJS-SDK\nurlurlSPAweb appurl,\nAndroidpushStateH5\npushStateweb appAndroid6.2\n\n```javascript\nwx.config({\n    debug: true, // ,apialert\n    //pclogpc\n    appId: '', // \n    timestamp: , // \n    nonceStr: '', // \n    signature: '',// 1\n    jsApiList: [] // JSJS2\n});\n```\n\n...\n\n1...\n\n1. configsignatrue\n2. signatureappidsecrettoken\n3. URL\n4. \n\n\n\n1. appidsecretaccess_tokentokenjsapi_ticket\n\n2. jsapi_ticketjsapi_ticketURL sha1signature\n\n3. wx.configappidtimestampsha1signatureJS\n\n\n\n### \n\n```csharp\n    public class WeiXinController : Controller\n    {\n        public static readonly string appid =\n        System.Web.Configuration.WebConfigurationManager.AppSettings[\"wxappid\"];\n\n        public static readonly string secret =\n        System.Web.Configuration.WebConfigurationManager.AppSettings[\"wxsecret\"];\n\n        public static readonly bool isDedug =\n        System.Web.Configuration.WebConfigurationManager.AppSettings[\"IsDebug\"] ==\"true\";\n\n\n        public static string _ticket = \"\";\n\n        public static DateTime _lastTimestamp;\n\n\n        public ActionResult Info(string url,string noncestr)\n        {\n            if (string.IsNullOrEmpty(_ticket) || \n            _lastTimestamp == null || (_lastTimestamp - DateTime.Now).Milliseconds > 7200)\n            {\n                var resultString = HTTPHelper.GetHTMLByURL(\"https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=\"\n                    + appid + \"&secret=\" + secret);\n                dynamic resultValue = JsonConvert.DeserializeObject<dynamic>(resultString);\n                if (resultValue == null || resultValue.access_token == null \n                || resultValue.access_token.Value == null)\n                {\n                    return Json(new { issuccess = false, \n                    error = \"token\" });\n                }\n                var token = resultValue.access_token.Value;\n\n                resultString = HTTPHelper.GetHTMLByURL\n                (\"https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=\" + \n                token + \"&type=jsapi\");\n                dynamic ticketValue = JsonConvert.DeserializeObject<dynamic>(resultString);\n                if (ticketValue == null || ticketValue.errcode == null\n                || ticketValue.errcode.Value != 0 || ticketValue.ticket == null)\n                    return Json(new { issuccess = false,\n                    error = \"ticketValue\" });\n                _ticket = ticketValue.ticket.Value;\n                _lastTimestamp = DateTime.Now;\n                var timestamp = GetTimeStamp();\n                var hexString = string.Format(\"jsapi_ticket={0}&noncestr={3}&timestamp={1}&url={2}\",\n                _ticket, timestamp, url,noncestr);\n\n                return Json(new {\n                    issuccess = true, \n                    sha1value = GetSHA1Value(hexString), \n                    timestamp = timestamp, \n                    url = url, \n                    appid = appid, \n                    debug=isDedug,\n                    tiket=_ticket\n                });\n            }\n            else\n            {\n                var timestamp = GetTimeStamp();\n                var hexString = string.Format(\"jsapi_ticket={0}&noncestr=1234567890123456&timestamp={1}&url={2}\",\n                   _ticket, timestamp, url);\n                return Json(new { \n                    issuccess = true, sha1value = GetSHA1Value(hexString),\n                    timestamp = timestamp, url = url,\n                    appid = appid, debug = isDedug,tiket = _ticket\n                });\n            }\n        }\n\n\n        private string GetSHA1Value(string sourceString)\n        {\n            var hash = SHA1.Create().ComputeHash(Encoding.UTF8.GetBytes(sourceString));\n            return string.Join(\"\", \n            hash.Select(b => b.ToString(\"x2\")).ToArray());\n        }\n\n        private static string GetTimeStamp()\n        {\n\n            TimeSpan ts = DateTime.Now - new DateTime(1970, 1, 1, 0, 0, 0, 0);\n\n            return Convert.ToInt64(ts.TotalSeconds).ToString();\n\n        }\n\n    }\n\n    public class HTTPHelper\n    {\n        public static string GetHTMLByURL(string url)\n        {\n            string htmlCode = string.Empty;\n            try\n            {\n                HttpWebRequest webRequest = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(url);\n                webRequest.Timeout = 30000;\n                webRequest.Method = \"GET\";\n                webRequest.UserAgent = \"Mozilla/4.0\";\n                webRequest.Headers.Add(\"Accept-Encoding\", \"gzip, deflate\");\n                HttpWebResponse webResponse = (System.Net.HttpWebResponse)webRequest.GetResponse();\n                //\n                string contentype = webResponse.Headers[\"Content-Type\"];\n                Regex regex = new Regex(\"charset\\\\s*=\\\\s*[\\\\W]?\\\\s*([\\\\w-]+)\", RegexOptions.IgnoreCase);\n                if (webResponse.ContentEncoding.ToLower() == \"gzip\")//GZip\n                {\n                    using (System.IO.Stream streamReceive = webResponse.GetResponseStream())\n                    {\n                        using (var zipStream = new System.IO.Compression.GZipStream(streamReceive, System.IO.Compression.CompressionMode.Decompress))\n                        {\n                            //\n                            if (regex.IsMatch(contentype))\n                            {\n                                Encoding ending = Encoding.GetEncoding\n                                (regex.Match(contentype).Groups[1].Value.Trim());\n                                using (StreamReader sr = new System.IO.StreamReader(zipStream, ending))\n                                {\n                                    htmlCode = sr.ReadToEnd();\n                                }\n                            }\n                            else\n                            {\n                                using (StreamReader sr = new System.IO.StreamReader(zipStream, Encoding.UTF8))\n                                {\n                                    htmlCode = sr.ReadToEnd();\n                                }\n                            }\n                        }\n                    }\n                }\n                else\n                {\n                    using (System.IO.Stream streamReceive = webResponse.GetResponseStream())\n                    {\n                        var encoding = Encoding.Default;\n                        if (contentype.Contains(\"utf\"))\n                            encoding = Encoding.UTF8;\n                        using (System.IO.StreamReader sr = new System.IO.StreamReader(streamReceive, encoding))\n                        {\n                            htmlCode = sr.ReadToEnd();\n                        }\n\n                    }\n                }\n                return htmlCode;\n            }\n            catch (Exception ex)\n            {\n                return \"\";\n            }\n        }\n    }\n\n```\n\nPS_ticketaccess_tokenaccess_tokenaccess_token\n\nPPS:noncestrURL var theWebUrl = window.location.href.split('#')[0] URLnoncestr\n\nPPPS:invalid signatureurlnoncestrtoken\n","slug":"webchat_JS_SDK","published":1,"updated":"2018-05-17T08:09:04.805Z","comments":1,"photos":[],"link":"","_id":"cjha9yrmq0007j21w148r6cop","content":"<h1 id=\"ASP-NET-MVC-JS-SDK\"><a href=\"#ASP-NET-MVC-JS-SDK\" class=\"headerlink\" title=\"ASP.NET MVC JS-SDK\"></a>ASP.NET MVC JS-SDK</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>JS-SDK</p>\n<p>(tu)(cao)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>:<a href=\"http://mp.weixin.qq.com/wiki/11/74ad127cc054f6b80759c40f77ec03db.html\" target=\"_blank\" rel=\"noopener\">JSSDK</a></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/44b1232e-9311-4abb-9200-6dd4936d7c47\" alt=\"\"></p>\n<p><a href=\"http://mp.weixin.qq.com/wiki/11/74ad127cc054f6b80759c40f77ec03db.html#.E5.88.86.E4.BA.AB.E6.8E.A5.E5.8F.A3\" target=\"_blank\" rel=\"noopener\"></a> JS-SDKJS</p>\n<p></p>\n<p></p>\n<p>JS</p>\n<p>config</p>\n<p>ready</p>\n<p>error</p>\n<p>/xx.com/xxx.txtxx.com/mp/xxx.txtJS-SDK</p>\n<p></p>\n<p></p>\n<h3 id=\"config\"><a href=\"#config\" class=\"headerlink\" title=\"config\"></a>config</h3><p></p>\n<p>JS-SDK<br>urlurlSPAweb appurl,<br>AndroidpushStateH5<br>pushStateweb appAndroid6.2</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wx.config(&#123;</span><br><span class=\"line\">    debug: <span class=\"literal\">true</span>, <span class=\"comment\">// ,apialert</span></span><br><span class=\"line\">    <span class=\"comment\">//pclogpc</span></span><br><span class=\"line\">    appId: <span class=\"string\">''</span>, <span class=\"comment\">// </span></span><br><span class=\"line\">    timestamp: , <span class=\"comment\">// </span></span><br><span class=\"line\">    nonceStr: <span class=\"string\">''</span>, <span class=\"comment\">// </span></span><br><span class=\"line\">    signature: <span class=\"string\">''</span>,<span class=\"comment\">// 1</span></span><br><span class=\"line\">    jsApiList: [] <span class=\"comment\">// JSJS2</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>1</p>\n<ol>\n<li>configsignatrue</li>\n<li>signatureappidsecrettoken</li>\n<li>URL</li>\n<li></li>\n</ol>\n<p></p>\n<ol>\n<li><p>appidsecretaccess_tokentokenjsapi_ticket</p>\n</li>\n<li><p>jsapi_ticketjsapi_ticketURL sha1signature</p>\n</li>\n<li><p>wx.configappidtimestampsha1signatureJS</p>\n</li>\n</ol>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">WeiXinController</span> : <span class=\"title\">Controller</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"keyword\">string</span> appid =</span><br><span class=\"line\">    System.Web.Configuration.WebConfigurationManager.AppSettings[<span class=\"string\">\"wxappid\"</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"keyword\">string</span> secret =</span><br><span class=\"line\">    System.Web.Configuration.WebConfigurationManager.AppSettings[<span class=\"string\">\"wxsecret\"</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"keyword\">bool</span> isDedug =</span><br><span class=\"line\">    System.Web.Configuration.WebConfigurationManager.AppSettings[<span class=\"string\">\"IsDebug\"</span>] ==<span class=\"string\">\"true\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> _ticket = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> DateTime _lastTimestamp;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ActionResult <span class=\"title\">Info</span>(<span class=\"params\"><span class=\"keyword\">string</span> url,<span class=\"keyword\">string</span> noncestr</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(_ticket) || </span><br><span class=\"line\">        _lastTimestamp == <span class=\"literal\">null</span> || (_lastTimestamp - DateTime.Now).Milliseconds &gt; <span class=\"number\">7200</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> resultString = HTTPHelper.GetHTMLByURL(<span class=\"string\">\"https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&amp;appid=\"</span></span><br><span class=\"line\">                + appid + <span class=\"string\">\"&amp;secret=\"</span> + secret);</span><br><span class=\"line\">            <span class=\"keyword\">dynamic</span> resultValue = JsonConvert.DeserializeObject&lt;<span class=\"keyword\">dynamic</span>&gt;(resultString);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (resultValue == <span class=\"literal\">null</span> || resultValue.access_token == <span class=\"literal\">null</span> </span><br><span class=\"line\">            || resultValue.access_token.Value == <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; issuccess = <span class=\"literal\">false</span>, </span><br><span class=\"line\">                error = <span class=\"string\">\"token\"</span> &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> token = resultValue.access_token.Value;</span><br><span class=\"line\"></span><br><span class=\"line\">            resultString = HTTPHelper.GetHTMLByURL</span><br><span class=\"line\">            (<span class=\"string\">\"https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=\"</span> + </span><br><span class=\"line\">            token + <span class=\"string\">\"&amp;type=jsapi\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">dynamic</span> ticketValue = JsonConvert.DeserializeObject&lt;<span class=\"keyword\">dynamic</span>&gt;(resultString);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (ticketValue == <span class=\"literal\">null</span> || ticketValue.errcode == <span class=\"literal\">null</span></span><br><span class=\"line\">            || ticketValue.errcode.Value != <span class=\"number\">0</span> || ticketValue.ticket == <span class=\"literal\">null</span>)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; issuccess = <span class=\"literal\">false</span>,</span><br><span class=\"line\">                error = <span class=\"string\">\"ticketValue\"</span> &#125;);</span><br><span class=\"line\">            _ticket = ticketValue.ticket.Value;</span><br><span class=\"line\">            _lastTimestamp = DateTime.Now;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> timestamp = GetTimeStamp();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> hexString = <span class=\"keyword\">string</span>.Format(<span class=\"string\">\"jsapi_ticket=&#123;0&#125;&amp;noncestr=&#123;3&#125;&amp;timestamp=&#123;1&#125;&amp;url=&#123;2&#125;\"</span>,</span><br><span class=\"line\">            _ticket, timestamp, url,noncestr);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123;</span><br><span class=\"line\">                issuccess = <span class=\"literal\">true</span>, </span><br><span class=\"line\">                sha1value = GetSHA1Value(hexString), </span><br><span class=\"line\">                timestamp = timestamp, </span><br><span class=\"line\">                url = url, </span><br><span class=\"line\">                appid = appid, </span><br><span class=\"line\">                debug=isDedug,</span><br><span class=\"line\">                tiket=_ticket</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> timestamp = GetTimeStamp();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> hexString = <span class=\"keyword\">string</span>.Format(<span class=\"string\">\"jsapi_ticket=&#123;0&#125;&amp;noncestr=1234567890123456&amp;timestamp=&#123;1&#125;&amp;url=&#123;2&#125;\"</span>,</span><br><span class=\"line\">               _ticket, timestamp, url);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; </span><br><span class=\"line\">                issuccess = <span class=\"literal\">true</span>, sha1value = GetSHA1Value(hexString),</span><br><span class=\"line\">                timestamp = timestamp, url = url,</span><br><span class=\"line\">                appid = appid, debug = isDedug,tiket = _ticket</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">string</span> <span class=\"title\">GetSHA1Value</span>(<span class=\"params\"><span class=\"keyword\">string</span> sourceString</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> hash = SHA1.Create().ComputeHash(Encoding.UTF8.GetBytes(sourceString));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.Join(<span class=\"string\">\"\"</span>, </span><br><span class=\"line\">        hash.Select(b =&gt; b.ToString(<span class=\"string\">\"x2\"</span>)).ToArray());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> <span class=\"title\">GetTimeStamp</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        TimeSpan ts = DateTime.Now - <span class=\"keyword\">new</span> DateTime(<span class=\"number\">1970</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Convert.ToInt64(ts.TotalSeconds).ToString();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HTTPHelper</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> <span class=\"title\">GetHTMLByURL</span>(<span class=\"params\"><span class=\"keyword\">string</span> url</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> htmlCode = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">try</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            HttpWebRequest webRequest = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(url);</span><br><span class=\"line\">            webRequest.Timeout = <span class=\"number\">30000</span>;</span><br><span class=\"line\">            webRequest.Method = <span class=\"string\">\"GET\"</span>;</span><br><span class=\"line\">            webRequest.UserAgent = <span class=\"string\">\"Mozilla/4.0\"</span>;</span><br><span class=\"line\">            webRequest.Headers.Add(<span class=\"string\">\"Accept-Encoding\"</span>, <span class=\"string\">\"gzip, deflate\"</span>);</span><br><span class=\"line\">            HttpWebResponse webResponse = (System.Net.HttpWebResponse)webRequest.GetResponse();</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            <span class=\"keyword\">string</span> contentype = webResponse.Headers[<span class=\"string\">\"Content-Type\"</span>];</span><br><span class=\"line\">            Regex regex = <span class=\"keyword\">new</span> Regex(<span class=\"string\">\"charset\\\\s*=\\\\s*[\\\\W]?\\\\s*([\\\\w-]+)\"</span>, RegexOptions.IgnoreCase);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (webResponse.ContentEncoding.ToLower() == <span class=\"string\">\"gzip\"</span>)<span class=\"comment\">//GZip</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">using</span> (System.IO.Stream streamReceive = webResponse.GetResponseStream())</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> zipStream = <span class=\"keyword\">new</span> System.IO.Compression.GZipStream(streamReceive, System.IO.Compression.CompressionMode.Decompress))</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"comment\">//</span></span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (regex.IsMatch(contentype))</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            Encoding ending = Encoding.GetEncoding</span><br><span class=\"line\">                            (regex.Match(contentype).Groups[<span class=\"number\">1</span>].Value.Trim());</span><br><span class=\"line\">                            <span class=\"keyword\">using</span> (StreamReader sr = <span class=\"keyword\">new</span> System.IO.StreamReader(zipStream, ending))</span><br><span class=\"line\">                            &#123;</span><br><span class=\"line\">                                htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        <span class=\"keyword\">else</span></span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            <span class=\"keyword\">using</span> (StreamReader sr = <span class=\"keyword\">new</span> System.IO.StreamReader(zipStream, Encoding.UTF8))</span><br><span class=\"line\">                            &#123;</span><br><span class=\"line\">                                htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">using</span> (System.IO.Stream streamReceive = webResponse.GetResponseStream())</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> encoding = Encoding.Default;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (contentype.Contains(<span class=\"string\">\"utf\"</span>))</span><br><span class=\"line\">                        encoding = Encoding.UTF8;</span><br><span class=\"line\">                    <span class=\"keyword\">using</span> (System.IO.StreamReader sr = <span class=\"keyword\">new</span> System.IO.StreamReader(streamReceive, encoding))</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> htmlCode;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>PS_ticketaccess_tokenaccess_tokenaccess_token</p>\n<p>PPS:noncestrURL var theWebUrl = window.location.href.split(#)[0] URLnoncestr</p>\n<p>PPPS:invalid signatureurlnoncestrtoken</p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"ASP-NET-MVC-JS-SDK\"><a href=\"#ASP-NET-MVC-JS-SDK\" class=\"headerlink\" title=\"ASP.NET MVC JS-SDK\"></a>ASP.NET MVC JS-SDK</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>JS-SDK</p>\n<p>(tu)(cao)</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>:<a href=\"http://mp.weixin.qq.com/wiki/11/74ad127cc054f6b80759c40f77ec03db.html\" target=\"_blank\" rel=\"noopener\">JSSDK</a></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/44b1232e-9311-4abb-9200-6dd4936d7c47\" alt=\"\"></p>\n<p><a href=\"http://mp.weixin.qq.com/wiki/11/74ad127cc054f6b80759c40f77ec03db.html#.E5.88.86.E4.BA.AB.E6.8E.A5.E5.8F.A3\" target=\"_blank\" rel=\"noopener\"></a> JS-SDKJS</p>\n<p></p>\n<p></p>\n<p>JS</p>\n<p>config</p>\n<p>ready</p>\n<p>error</p>\n<p>/xx.com/xxx.txtxx.com/mp/xxx.txtJS-SDK</p>\n<p></p>\n<p></p>\n<h3 id=\"config\"><a href=\"#config\" class=\"headerlink\" title=\"config\"></a>config</h3><p></p>\n<p>JS-SDK<br>urlurlSPAweb appurl,<br>AndroidpushStateH5<br>pushStateweb appAndroid6.2</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wx.config(&#123;</span><br><span class=\"line\">    debug: <span class=\"literal\">true</span>, <span class=\"comment\">// ,apialert</span></span><br><span class=\"line\">    <span class=\"comment\">//pclogpc</span></span><br><span class=\"line\">    appId: <span class=\"string\">''</span>, <span class=\"comment\">// </span></span><br><span class=\"line\">    timestamp: , <span class=\"comment\">// </span></span><br><span class=\"line\">    nonceStr: <span class=\"string\">''</span>, <span class=\"comment\">// </span></span><br><span class=\"line\">    signature: <span class=\"string\">''</span>,<span class=\"comment\">// 1</span></span><br><span class=\"line\">    jsApiList: [] <span class=\"comment\">// JSJS2</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p></p>\n<p>1</p>\n<ol>\n<li>configsignatrue</li>\n<li>signatureappidsecrettoken</li>\n<li>URL</li>\n<li></li>\n</ol>\n<p></p>\n<ol>\n<li><p>appidsecretaccess_tokentokenjsapi_ticket</p>\n</li>\n<li><p>jsapi_ticketjsapi_ticketURL sha1signature</p>\n</li>\n<li><p>wx.configappidtimestampsha1signatureJS</p>\n</li>\n</ol>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight csharp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">WeiXinController</span> : <span class=\"title\">Controller</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"keyword\">string</span> appid =</span><br><span class=\"line\">    System.Web.Configuration.WebConfigurationManager.AppSettings[<span class=\"string\">\"wxappid\"</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"keyword\">string</span> secret =</span><br><span class=\"line\">    System.Web.Configuration.WebConfigurationManager.AppSettings[<span class=\"string\">\"wxsecret\"</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">readonly</span> <span class=\"keyword\">bool</span> isDedug =</span><br><span class=\"line\">    System.Web.Configuration.WebConfigurationManager.AppSettings[<span class=\"string\">\"IsDebug\"</span>] ==<span class=\"string\">\"true\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> _ticket = <span class=\"string\">\"\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> DateTime _lastTimestamp;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> ActionResult <span class=\"title\">Info</span>(<span class=\"params\"><span class=\"keyword\">string</span> url,<span class=\"keyword\">string</span> noncestr</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">string</span>.IsNullOrEmpty(_ticket) || </span><br><span class=\"line\">        _lastTimestamp == <span class=\"literal\">null</span> || (_lastTimestamp - DateTime.Now).Milliseconds &gt; <span class=\"number\">7200</span>)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> resultString = HTTPHelper.GetHTMLByURL(<span class=\"string\">\"https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&amp;appid=\"</span></span><br><span class=\"line\">                + appid + <span class=\"string\">\"&amp;secret=\"</span> + secret);</span><br><span class=\"line\">            <span class=\"keyword\">dynamic</span> resultValue = JsonConvert.DeserializeObject&lt;<span class=\"keyword\">dynamic</span>&gt;(resultString);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (resultValue == <span class=\"literal\">null</span> || resultValue.access_token == <span class=\"literal\">null</span> </span><br><span class=\"line\">            || resultValue.access_token.Value == <span class=\"literal\">null</span>)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; issuccess = <span class=\"literal\">false</span>, </span><br><span class=\"line\">                error = <span class=\"string\">\"token\"</span> &#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> token = resultValue.access_token.Value;</span><br><span class=\"line\"></span><br><span class=\"line\">            resultString = HTTPHelper.GetHTMLByURL</span><br><span class=\"line\">            (<span class=\"string\">\"https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=\"</span> + </span><br><span class=\"line\">            token + <span class=\"string\">\"&amp;type=jsapi\"</span>);</span><br><span class=\"line\">            <span class=\"keyword\">dynamic</span> ticketValue = JsonConvert.DeserializeObject&lt;<span class=\"keyword\">dynamic</span>&gt;(resultString);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (ticketValue == <span class=\"literal\">null</span> || ticketValue.errcode == <span class=\"literal\">null</span></span><br><span class=\"line\">            || ticketValue.errcode.Value != <span class=\"number\">0</span> || ticketValue.ticket == <span class=\"literal\">null</span>)</span><br><span class=\"line\">                <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; issuccess = <span class=\"literal\">false</span>,</span><br><span class=\"line\">                error = <span class=\"string\">\"ticketValue\"</span> &#125;);</span><br><span class=\"line\">            _ticket = ticketValue.ticket.Value;</span><br><span class=\"line\">            _lastTimestamp = DateTime.Now;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> timestamp = GetTimeStamp();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> hexString = <span class=\"keyword\">string</span>.Format(<span class=\"string\">\"jsapi_ticket=&#123;0&#125;&amp;noncestr=&#123;3&#125;&amp;timestamp=&#123;1&#125;&amp;url=&#123;2&#125;\"</span>,</span><br><span class=\"line\">            _ticket, timestamp, url,noncestr);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123;</span><br><span class=\"line\">                issuccess = <span class=\"literal\">true</span>, </span><br><span class=\"line\">                sha1value = GetSHA1Value(hexString), </span><br><span class=\"line\">                timestamp = timestamp, </span><br><span class=\"line\">                url = url, </span><br><span class=\"line\">                appid = appid, </span><br><span class=\"line\">                debug=isDedug,</span><br><span class=\"line\">                tiket=_ticket</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> timestamp = GetTimeStamp();</span><br><span class=\"line\">            <span class=\"keyword\">var</span> hexString = <span class=\"keyword\">string</span>.Format(<span class=\"string\">\"jsapi_ticket=&#123;0&#125;&amp;noncestr=1234567890123456&amp;timestamp=&#123;1&#125;&amp;url=&#123;2&#125;\"</span>,</span><br><span class=\"line\">               _ticket, timestamp, url);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> Json(<span class=\"keyword\">new</span> &#123; </span><br><span class=\"line\">                issuccess = <span class=\"literal\">true</span>, sha1value = GetSHA1Value(hexString),</span><br><span class=\"line\">                timestamp = timestamp, url = url,</span><br><span class=\"line\">                appid = appid, debug = isDedug,tiket = _ticket</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">string</span> <span class=\"title\">GetSHA1Value</span>(<span class=\"params\"><span class=\"keyword\">string</span> sourceString</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> hash = SHA1.Create().ComputeHash(Encoding.UTF8.GetBytes(sourceString));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">string</span>.Join(<span class=\"string\">\"\"</span>, </span><br><span class=\"line\">        hash.Select(b =&gt; b.ToString(<span class=\"string\">\"x2\"</span>)).ToArray());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> <span class=\"title\">GetTimeStamp</span>(<span class=\"params\"></span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        TimeSpan ts = DateTime.Now - <span class=\"keyword\">new</span> DateTime(<span class=\"number\">1970</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Convert.ToInt64(ts.TotalSeconds).ToString();</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title\">HTTPHelper</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">string</span> <span class=\"title\">GetHTMLByURL</span>(<span class=\"params\"><span class=\"keyword\">string</span> url</span>)</span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">string</span> htmlCode = <span class=\"keyword\">string</span>.Empty;</span><br><span class=\"line\">        <span class=\"keyword\">try</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            HttpWebRequest webRequest = (System.Net.HttpWebRequest)System.Net.WebRequest.Create(url);</span><br><span class=\"line\">            webRequest.Timeout = <span class=\"number\">30000</span>;</span><br><span class=\"line\">            webRequest.Method = <span class=\"string\">\"GET\"</span>;</span><br><span class=\"line\">            webRequest.UserAgent = <span class=\"string\">\"Mozilla/4.0\"</span>;</span><br><span class=\"line\">            webRequest.Headers.Add(<span class=\"string\">\"Accept-Encoding\"</span>, <span class=\"string\">\"gzip, deflate\"</span>);</span><br><span class=\"line\">            HttpWebResponse webResponse = (System.Net.HttpWebResponse)webRequest.GetResponse();</span><br><span class=\"line\">            <span class=\"comment\">//</span></span><br><span class=\"line\">            <span class=\"keyword\">string</span> contentype = webResponse.Headers[<span class=\"string\">\"Content-Type\"</span>];</span><br><span class=\"line\">            Regex regex = <span class=\"keyword\">new</span> Regex(<span class=\"string\">\"charset\\\\s*=\\\\s*[\\\\W]?\\\\s*([\\\\w-]+)\"</span>, RegexOptions.IgnoreCase);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (webResponse.ContentEncoding.ToLower() == <span class=\"string\">\"gzip\"</span>)<span class=\"comment\">//GZip</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">using</span> (System.IO.Stream streamReceive = webResponse.GetResponseStream())</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">using</span> (<span class=\"keyword\">var</span> zipStream = <span class=\"keyword\">new</span> System.IO.Compression.GZipStream(streamReceive, System.IO.Compression.CompressionMode.Decompress))</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        <span class=\"comment\">//</span></span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (regex.IsMatch(contentype))</span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            Encoding ending = Encoding.GetEncoding</span><br><span class=\"line\">                            (regex.Match(contentype).Groups[<span class=\"number\">1</span>].Value.Trim());</span><br><span class=\"line\">                            <span class=\"keyword\">using</span> (StreamReader sr = <span class=\"keyword\">new</span> System.IO.StreamReader(zipStream, ending))</span><br><span class=\"line\">                            &#123;</span><br><span class=\"line\">                                htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                        <span class=\"keyword\">else</span></span><br><span class=\"line\">                        &#123;</span><br><span class=\"line\">                            <span class=\"keyword\">using</span> (StreamReader sr = <span class=\"keyword\">new</span> System.IO.StreamReader(zipStream, Encoding.UTF8))</span><br><span class=\"line\">                            &#123;</span><br><span class=\"line\">                                htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                            &#125;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span></span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"keyword\">using</span> (System.IO.Stream streamReceive = webResponse.GetResponseStream())</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">var</span> encoding = Encoding.Default;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (contentype.Contains(<span class=\"string\">\"utf\"</span>))</span><br><span class=\"line\">                        encoding = Encoding.UTF8;</span><br><span class=\"line\">                    <span class=\"keyword\">using</span> (System.IO.StreamReader sr = <span class=\"keyword\">new</span> System.IO.StreamReader(streamReceive, encoding))</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        htmlCode = sr.ReadToEnd();</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> htmlCode;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (Exception ex)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"\"</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>PS_ticketaccess_tokenaccess_tokenaccess_token</p>\n<p>PPS:noncestrURL var theWebUrl = window.location.href.split(#)[0] URLnoncestr</p>\n<p>PPPS:invalid signatureurlnoncestrtoken</p>\n"},{"layout":"post","title":"ASP.NET core ","_content":"\nasp.net core\n\nVS2015 update2\n\n[https://www.microsoft.com/net/download](https://www.microsoft.com/net/download)\n\n.NET Core Install SDK Install\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/5f4576e6-6fa0-4fbb-83c9-009428480e83)\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/a996d00e-5aa5-4034-96ae-548e35c2ba95)\n\nVS.NET Core\n\n[.NET Core Tooling Preview 1 for Visual Studio 2015](https://go.microsoft.com/fwlink/?LinkId=798481)\n\n![](http://7xread.com1.z0.glb.clouddn.com/07ec4ff1-64ea-486b-8cb8-99dc400c279a)\n\n\n\nVSwebasp.net core.\n\n![](http://7xread.com1.z0.glb.clouddn.com/aa3a9677-701e-45f0-90ea-b47b57dcb85e)\n....\nasp.net core...","source":"_posts/the_first_aspnetcore.md","raw":"---\nlayout: post\ntitle: ASP.NET core \ncategory: dotnet core\n---\n\nasp.net core\n\nVS2015 update2\n\n[https://www.microsoft.com/net/download](https://www.microsoft.com/net/download)\n\n.NET Core Install SDK Install\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/5f4576e6-6fa0-4fbb-83c9-009428480e83)\n\n\n![](http://7xread.com1.z0.glb.clouddn.com/a996d00e-5aa5-4034-96ae-548e35c2ba95)\n\nVS.NET Core\n\n[.NET Core Tooling Preview 1 for Visual Studio 2015](https://go.microsoft.com/fwlink/?LinkId=798481)\n\n![](http://7xread.com1.z0.glb.clouddn.com/07ec4ff1-64ea-486b-8cb8-99dc400c279a)\n\n\n\nVSwebasp.net core.\n\n![](http://7xread.com1.z0.glb.clouddn.com/aa3a9677-701e-45f0-90ea-b47b57dcb85e)\n....\nasp.net core...","slug":"the_first_aspnetcore","published":1,"date":"2016-06-09T09:33:46.000Z","updated":"2018-05-17T08:08:54.780Z","comments":1,"photos":[],"link":"","_id":"cjhaa4h570000nu1w5ud9ypn6","content":"<p>asp.net core</p>\n<p>VS2015 update2</p>\n<p><a href=\"https://www.microsoft.com/net/download\" target=\"_blank\" rel=\"noopener\">https://www.microsoft.com/net/download</a></p>\n<p>.NET Core Install SDK Install</p>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/5f4576e6-6fa0-4fbb-83c9-009428480e83\" alt=\"\"></p>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/a996d00e-5aa5-4034-96ae-548e35c2ba95\" alt=\"\"></p>\n<p>VS.NET Core<br><br><a href=\"https://go.microsoft.com/fwlink/?LinkId=798481\" target=\"_blank\" rel=\"noopener\">.NET Core Tooling Preview 1 for Visual Studio 2015</a></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/07ec4ff1-64ea-486b-8cb8-99dc400c279a\" alt=\"\"></p>\n<p></p>\n<p>VSwebasp.net core.<br><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/aa3a9677-701e-45f0-90ea-b47b57dcb85e\" alt=\"\"><br>.<br>asp.net core</p>\n","site":{"data":{}},"excerpt":"","more":"<p>asp.net core</p>\n<p>VS2015 update2</p>\n<p><a href=\"https://www.microsoft.com/net/download\" target=\"_blank\" rel=\"noopener\">https://www.microsoft.com/net/download</a></p>\n<p>.NET Core Install SDK Install</p>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/5f4576e6-6fa0-4fbb-83c9-009428480e83\" alt=\"\"></p>\n<p><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/a996d00e-5aa5-4034-96ae-548e35c2ba95\" alt=\"\"></p>\n<p>VS.NET Core<br><br><a href=\"https://go.microsoft.com/fwlink/?LinkId=798481\" target=\"_blank\" rel=\"noopener\">.NET Core Tooling Preview 1 for Visual Studio 2015</a></p>\n<p><img src=\"http://7xread.com1.z0.glb.clouddn.com/07ec4ff1-64ea-486b-8cb8-99dc400c279a\" alt=\"\"></p>\n<p></p>\n<p>VSwebasp.net core.<br><br><img src=\"http://7xread.com1.z0.glb.clouddn.com/aa3a9677-701e-45f0-90ea-b47b57dcb85e\" alt=\"\"><br>.<br>asp.net core</p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cjha9swh40004fr1w4xs64hw0","category_id":"cjha9swh10002fr1whiwm50rk","_id":"cjha9swh90009fr1whgqilutk"},{"post_id":"cjha9swgw0000fr1w98vfk01c","category_id":"cjha9swh10002fr1whiwm50rk","_id":"cjha9swh9000cfr1wvu9g6nsm"},{"post_id":"cjha9swgz0001fr1wnvx5bsjv","category_id":"cjha9swh70007fr1wlu2gkrvr","_id":"cjha9swha000efr1wlk4k9e3x"},{"post_id":"cjha9swh30003fr1wm85vq4yp","category_id":"cjha9swh9000bfr1w7rz0eswa","_id":"cjha9swhc000jfr1wuaq3gvgw"},{"post_id":"cjha9swh60006fr1wk575i2kd","category_id":"cjha9swhb000ffr1wpbu7rzh1","_id":"cjha9swhd000lfr1wvw2mp6di"},{"post_id":"cjha9swh80008fr1wof7myhs8","category_id":"cjha9swhc000kfr1wx7odzyay","_id":"cjha9swhd000ofr1w92folg0f"},{"post_id":"cjha9u0de0001gr1wlszh15l5","category_id":"cjha9swh10002fr1whiwm50rk","_id":"cjha9u0dq0006gr1wkf5aqfa0"},{"post_id":"cjha9u0dn0004gr1wc5i23zxf","category_id":"cjha9u0dh0002gr1wxbdfllrr","_id":"cjha9u0du000agr1wvnw80bm9"},{"post_id":"cjha9u0d60000gr1wg0ore55b","category_id":"cjha9u0dh0002gr1wxbdfllrr","_id":"cjha9u0dv000cgr1wzgwz1kwy"},{"post_id":"cjha9u0dp0005gr1wd2duayzc","category_id":"cjha9u0dh0002gr1wxbdfllrr","_id":"cjha9u0dw000egr1woibav0hk"},{"post_id":"cjha9u0ds0008gr1w2ucggo0m","category_id":"cjha9swh10002fr1whiwm50rk","_id":"cjha9u0dx000ggr1wz2ckq0ie"},{"post_id":"cjha9u0dm0003gr1w9ouh2gkm","category_id":"cjha9u0dh0002gr1wxbdfllrr","_id":"cjha9u0dy000igr1w3s065zr8"},{"post_id":"cjha9u0du0009gr1we2sv8x1c","category_id":"cjha9u0dh0002gr1wxbdfllrr","_id":"cjha9u0dz000kgr1w8ktjt8nw"},{"post_id":"cjha9u0dv000bgr1wg5m0emjk","category_id":"cjha9u0dh0002gr1wxbdfllrr","_id":"cjha9u0e0000mgr1w7nxm7wxw"},{"post_id":"cjha9u0dw000dgr1wzi3mlr19","category_id":"cjha9u0dh0002gr1wxbdfllrr","_id":"cjha9u0e1000ogr1wjx9aufy2"},{"post_id":"cjha9u0dx000fgr1w5sxy20u5","category_id":"cjha9u0dz000jgr1wuwsmx1j8","_id":"cjha9u0e2000qgr1w4imikuay"},{"post_id":"cjha9u0dy000hgr1wvrcn8vpa","category_id":"cjha9u0e0000ngr1wy46r70of","_id":"cjha9u0e3000sgr1wku1difsb"},{"post_id":"cjha9xxsg0000ie1wu4a9wqfq","category_id":"cjha9u0dh0002gr1wxbdfllrr","_id":"cjha9xxso0004ie1wa38hw4pk"},{"post_id":"cjha9xxsj0001ie1wdk61pzg3","category_id":"cjha9swh10002fr1whiwm50rk","_id":"cjha9xxsu0007ie1wghplzcgv"},{"post_id":"cjha9xxsv0008ie1w6irhgxpx","category_id":"cjha9swh9000bfr1w7rz0eswa","_id":"cjha9xxt0000eie1wzhrqqt78"},{"post_id":"cjha9xxsl0002ie1wz9wc5w8m","category_id":"cjha9xxso0005ie1wn8dc94mj","_id":"cjha9xxt2000hie1whs1qjwqq"},{"post_id":"cjha9xxsm0003ie1wh1brx3wt","category_id":"cjha9xxsx000aie1wunh49agr","_id":"cjha9xxt3000kie1wxtexe4y2"},{"post_id":"cjha9xxt0000die1wc8n0r25f","category_id":"cjha9swh10002fr1whiwm50rk","_id":"cjha9xxt4000oie1wxwlg8g52"},{"post_id":"cjha9xxt1000gie1wyr5wil3q","category_id":"cjha9u0dh0002gr1wxbdfllrr","_id":"cjha9xxt4000pie1w44p5mvnd"},{"post_id":"cjha9xxst0006ie1w1ygxxpj1","category_id":"cjha9xxt1000fie1w4ixjiy6t","_id":"cjha9xxt4000rie1wkt5bmqav"},{"post_id":"cjha9xxsw0009ie1wevhekvfk","category_id":"cjha9xxt3000lie1wmwfilh51","_id":"cjha9xxt5000uie1wfluxfc9b"},{"post_id":"cjha9xxsy000cie1wah09n90g","category_id":"cjha9xxt4000qie1wq7ftwlfv","_id":"cjha9xxt6000xie1w94inrngk"},{"post_id":"cjha9xxy20010ie1w0ns3f0qp","category_id":"cjha9xxyc0011ie1wdj0o7ivz","_id":"cjha9xxyd0012ie1w1rse8pl9"},{"post_id":"cjha9yrme0002j21w3zy9t5yi","category_id":"cjha9swhc000kfr1wx7odzyay","_id":"cjha9yrms0008j21wkp0jdsue"},{"post_id":"cjha9yrmq0007j21w148r6cop","category_id":"cjha9swh10002fr1whiwm50rk","_id":"cjha9yrmv000cj21wp803wqlw"},{"post_id":"cjha9yrmo0004j21w261hgwa7","category_id":"cjha9yrmt0009j21w97np20dk","_id":"cjha9yrmw000fj21w5za4vo83"},{"post_id":"cjhaa4h570000nu1w5ud9ypn6","category_id":"cjha9swh10002fr1whiwm50rk","_id":"cjhaa4h5j0001nu1wndaje9vi"}],"PostTag":[{"post_id":"cjha9swh30003fr1wm85vq4yp","tag_id":"cjha9swh60005fr1wphsf23vj","_id":"cjha9swhb000gfr1w4rmb8m3e"},{"post_id":"cjha9swh30003fr1wm85vq4yp","tag_id":"cjha9swh9000afr1w2ol1n7zl","_id":"cjha9swhc000hfr1ws5gbirr8"},{"post_id":"cjha9swh60006fr1wk575i2kd","tag_id":"cjha9swha000dfr1wuzyans3u","_id":"cjha9swhd000mfr1wncfe38gr"},{"post_id":"cjha9swh60006fr1wk575i2kd","tag_id":"cjha9swhc000ifr1wj49pu187","_id":"cjha9swhd000nfr1w4vcc6qgu"},{"post_id":"cjha9u0dy000hgr1wvrcn8vpa","tag_id":"cjha9u0e0000lgr1wj7qwudrm","_id":"cjha9u0e2000rgr1wcnpw90px"},{"post_id":"cjha9u0dy000hgr1wvrcn8vpa","tag_id":"cjha9u0e1000pgr1wuztk60rc","_id":"cjha9u0e3000tgr1wsk6c7nbw"},{"post_id":"cjha9xxsv0008ie1w6irhgxpx","tag_id":"cjha9swh60005fr1wphsf23vj","_id":"cjha9xxt2000jie1wq0yb0fiw"},{"post_id":"cjha9xxsv0008ie1w6irhgxpx","tag_id":"cjha9xxsy000bie1w79j6ci29","_id":"cjha9xxt3000mie1wjztva4fl"},{"post_id":"cjha9xxsw0009ie1wevhekvfk","tag_id":"cjha9xxt2000iie1wkcdyv0ge","_id":"cjha9xxt5000tie1w7ib0ki7t"},{"post_id":"cjha9xxsw0009ie1wevhekvfk","tag_id":"cjha9xxt3000nie1wsa34bvvo","_id":"cjha9xxt5000vie1wtc7k04ze"},{"post_id":"cjha9xxsy000cie1wah09n90g","tag_id":"cjha9xxt5000sie1wpkx1362f","_id":"cjha9xxt6000yie1wa8lq8xf5"},{"post_id":"cjha9xxsy000cie1wah09n90g","tag_id":"cjha9xxt5000wie1wiuypka55","_id":"cjha9xxt6000zie1wfnayt0l3"},{"post_id":"cjha9yrme0002j21w3zy9t5yi","tag_id":"cjha9yrmq0006j21wjvzg33az","_id":"cjha9yrmv000bj21wfz306eo3"},{"post_id":"cjha9yrmo0004j21w261hgwa7","tag_id":"cjha9yrmq0006j21wjvzg33az","_id":"cjha9yrmx000ij21w11lxa0yt"},{"post_id":"cjha9yrmo0004j21w261hgwa7","tag_id":"cjha9yrmv000ej21wenqy3hqg","_id":"cjha9yrmx000jj21wgwvk90yf"},{"post_id":"cjha9yrmo0004j21w261hgwa7","tag_id":"cjha9yrmw000gj21w3llhr5wb","_id":"cjha9yrmx000kj21wvhas9g30"},{"post_id":"cjha9yrmq0007j21w148r6cop","tag_id":"cjha9yrmx000hj21wwkldl5kt","_id":"cjha9yrmx000lj21wiql6udu9"},{"post_id":"cjha9yrmq0007j21w148r6cop","tag_id":"cjha9xxt5000sie1wpkx1362f","_id":"cjha9yrmy000mj21wrgbqjwx0"}],"Tag":[{"name":"asp.net core","_id":"cjha9swh60005fr1wphsf23vj"},{"name":"58City","_id":"cjha9swh9000afr1w2ol1n7zl"},{"name":"linux","_id":"cjha9swha000dfr1wuzyans3u"},{"name":"Shell","_id":"cjha9swhc000ifr1wj49pu187"},{"name":"shell","_id":"cjha9u0e0000lgr1wj7qwudrm"},{"name":"git","_id":"cjha9u0e1000pgr1wuztk60rc"},{"name":"crawler","_id":"cjha9xxsy000bie1w79j6ci29"},{"name":"Java","_id":"cjha9xxt2000iie1wkcdyv0ge"},{"name":"","_id":"cjha9xxt3000nie1wsa34bvvo"},{"name":"javascript","_id":"cjha9xxt5000sie1wpkx1362f"},{"name":"requirejs","_id":"cjha9xxt5000wie1wiuypka55"},{"name":"Visual Studio","_id":"cjha9yrmq0006j21wjvzg33az"},{"name":"PHP","_id":"cjha9yrmv000ej21wenqy3hqg"},{"name":"Debug","_id":"cjha9yrmw000gj21w3llhr5wb"},{"name":".net","_id":"cjha9yrmx000hj21wwkldl5kt"}]}}